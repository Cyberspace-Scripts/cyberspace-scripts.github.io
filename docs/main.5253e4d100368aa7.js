"use strict";(self.webpackChunkplanning_poker=self.webpackChunkplanning_poker||[]).push([[179],{2011:(Pt,ke,T)=>{T.d(ke,{Dh:()=>V,GT:()=>he,cc:()=>Ie,hO:()=>_e,on:()=>Y,pX:()=>ne,xv:()=>q});var v=T(4650),h=T(127),F=T(5813);Pt=T.hmd(Pt);const oe=["ngOnDestroy"],ne=(ze,ft,at,ct={})=>new Proxy(ze,{get:(Se,Le)=>at.runOutsideAngular(()=>{var ht;if(ze[Le])return!(null===(ht=ct?.spy)||void 0===ht)&&ht.get&&ct.spy.get(Le,ze[Le]),ze[Le];if(oe.indexOf(Le)>-1)return()=>{};const Me=ft.toPromise().then(je=>{const He=je&&je[Le];return"function"==typeof He?He.bind(je):He&&He.then?He.then(Te=>at.run(()=>Te)):at.run(()=>He)});return new Proxy(()=>{},{get:(je,He)=>Me[He],apply:(je,He,Te)=>Me.then(Pe=>{var Ve;const Fe=Pe&&Pe(...Te);return!(null===(Ve=ct?.spy)||void 0===Ve)&&Ve.apply&&ct.spy.apply(Le,Te,Fe),Fe})})})}),he=(ze,ft)=>{ft.forEach(at=>{Object.getOwnPropertyNames(at.prototype||at).forEach(ct=>{Object.defineProperty(ze.prototype,ct,Object.getOwnPropertyDescriptor(at.prototype||at,ct))})})};class ee{constructor(ft){return ft}}const V=new v.OlP("angularfire2.app.options"),q=new v.OlP("angularfire2.app.name");function Y(ze,ft,at){const Se="object"==typeof at&&at||{};Se.name=Se.name||"string"==typeof at&&at||"[DEFAULT]";const ht=h.Z.apps.filter(Me=>Me&&Me.name===Se.name)[0]||ft.runOutsideAngular(()=>h.Z.initializeApp(ze,Se));try{JSON.stringify(ze)!==JSON.stringify(ht.options)&&K("error",`${ht.name} Firebase App already initialized with different options${Pt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ee(ht)}const K=(ze,...ft)=>{(0,v.X6Q)()&&typeof console<"u"&&console[ze](...ft)},J={provide:ee,useFactory:Y,deps:[V,v.R0b,[new v.FiY,q]]};let _e=(()=>{class ze{constructor(at){h.Z.registerVersion("angularfire",F.q4.full,"core"),h.Z.registerVersion("angularfire",F.q4.full,"app-compat"),h.Z.registerVersion("angular",v.q4F.full,at.toString())}static initializeApp(at,ct){return{ngModule:ze,providers:[{provide:V,useValue:at},{provide:q,useValue:ct}]}}}return ze.\u0275fac=function(at){return new(at||ze)(v.LFG(v.Lbi))},ze.\u0275mod=v.oAB({type:ze}),ze.\u0275inj=v.cJS({providers:[J]}),ze})();function Ie(ze,ft,at,ct,Se){const[,Le,ht]=globalThis.\u0275AngularfireInstanceCache.find(Me=>Me[0]===ze)||[];if(Le)return function ie(ze,ft){try{return ze.toString()===ft.toString()}catch{return ze===ft}}(Se,ht)||(be("error",`${ft} was already initialized on the ${at} Firebase App with different settings.${Ue?" You may need to reload as Firebase is not HMR aware.":""}`),be("warn",{is:Se,was:ht})),Le;{const Me=ct();return globalThis.\u0275AngularfireInstanceCache.push([ze,Me,Se]),Me}}const Ue=!!Pt.hot,be=(ze,...ft)=>{(0,v.X6Q)()&&typeof console<"u"&&console[ze](...ft)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(Pt,ke,T)=>{T.d(ke,{q4:()=>zi,iC:()=>ha,HU:()=>Qi,vb:()=>Vn,JM:()=>Kt});var v=T(4650),h=T(5867),F=T(5861),oe=T(9681),ne=T(2090),he=T(4859),ee=T(1877),V=T(8766);const q="@firebase/installations",Y="0.5.16",J=`w:${Y}`,_e="FIS_v2",ft=new ne.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function at(k){return k instanceof ne.ZR&&k.code.includes("request-failed")}function ct({projectId:k}){return`https://firebaseinstallations.googleapis.com/v1/projects/${k}/installations`}function Se(k){return{token:k.token,requestStatus:2,expiresIn:Pe(k.expiresIn),creationTime:Date.now()}}function Le(k,N){return ht.apply(this,arguments)}function ht(){return(ht=(0,F.Z)(function*(k,N){const ge=(yield N.json()).error;return ft.create("request-failed",{requestName:k,serverCode:ge.code,serverMessage:ge.message,serverStatus:ge.status})})).apply(this,arguments)}function Me({apiKey:k}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":k})}function je(k,{refreshToken:N}){const $=Me(k);return $.append("Authorization",function Ve(k){return`${_e} ${k}`}(N)),$}function He(k){return Te.apply(this,arguments)}function Te(){return(Te=(0,F.Z)(function*(k){const N=yield k();return N.status>=500&&N.status<600?k():N})).apply(this,arguments)}function Pe(k){return Number(k.replace("s","000"))}function Fe(k,N){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,F.Z)(function*({appConfig:k,heartbeatServiceProvider:N},{fid:$}){const ge=ct(k),Ge=Me(k),lt=N.getImmediate({optional:!0});if(lt){const Bn=yield lt.getHeartbeatsHeader();Bn&&Ge.append("x-firebase-client",Bn)}const Jt={method:"POST",headers:Ge,body:JSON.stringify({fid:$,authVersion:_e,appId:k.appId,sdkVersion:J})},zn=yield He(()=>fetch(ge,Jt));if(zn.ok){const Bn=yield zn.json();return{fid:Bn.fid||$,registrationStatus:2,refreshToken:Bn.refreshToken,authToken:Se(Bn.authToken)}}throw yield Le("Create Installation",zn)})).apply(this,arguments)}function pt(k){return new Promise(N=>{setTimeout(N,k)})}const wt=/^[cdef][\w-]{21}$/;function $e(){try{const k=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(k),k[0]=112+k[0]%16;const $=function bt(k){return function it(k){return btoa(String.fromCharCode(...k)).replace(/\+/g,"-").replace(/\//g,"_")}(k).substr(0,22)}(k);return wt.test($)?$:""}catch{return""}}function Ct(k){return`${k.appName}!${k.appId}`}const Tt=new Map;function sn(k,N){const $=Ct(k);Qn($,N),function pr(k,N){const $=function vn(){return!kn&&"BroadcastChannel"in self&&(kn=new BroadcastChannel("[Firebase] FID Change"),kn.onmessage=k=>{Qn(k.data.key,k.data.fid)}),kn}();$&&$.postMessage({key:k,fid:N}),function mr(){0===Tt.size&&kn&&(kn.close(),kn=null)}()}($,N)}function Qn(k,N){const $=Tt.get(k);if($)for(const ge of $)ge(N)}let kn=null;const sr="firebase-installations-store";let Vr=null;function gr(){return Vr||(Vr=(0,V.X3)("firebase-installations-database",1,{upgrade:(k,N)=>{0===N&&k.createObjectStore(sr)}})),Vr}function jt(k,N){return br.apply(this,arguments)}function br(){return(br=(0,F.Z)(function*(k,N){const $=Ct(k),Ge=(yield gr()).transaction(sr,"readwrite"),lt=Ge.objectStore(sr),Rt=yield lt.get($);return yield lt.put(N,$),yield Ge.done,(!Rt||Rt.fid!==N.fid)&&sn(k,N.fid),N})).apply(this,arguments)}function tr(k){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,F.Z)(function*(k){const N=Ct(k),ge=(yield gr()).transaction(sr,"readwrite");yield ge.objectStore(sr).delete(N),yield ge.done})).apply(this,arguments)}function Yt(k,N){return mt.apply(this,arguments)}function mt(){return(mt=(0,F.Z)(function*(k,N){const $=Ct(k),Ge=(yield gr()).transaction(sr,"readwrite"),lt=Ge.objectStore(sr),Rt=yield lt.get($),Jt=N(Rt);return void 0===Jt?yield lt.delete($):yield lt.put(Jt,$),yield Ge.done,Jt&&(!Rt||Rt.fid!==Jt.fid)&&sn(k,Jt.fid),Jt})).apply(this,arguments)}function Xt(k){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,F.Z)(function*(k){let N;const $=yield Yt(k.appConfig,ge=>{const Ge=ye(ge),lt=me(k,Ge);return N=lt.registrationPromise,lt.installationEntry});return""===$.fid?{installationEntry:yield N}:{installationEntry:$,registrationPromise:N}})).apply(this,arguments)}function ye(k){return $t(k||{fid:$e(),registrationStatus:0})}function me(k,N){if(0===N.registrationStatus){if(!navigator.onLine)return{installationEntry:N,registrationPromise:Promise.reject(ft.create("app-offline"))};const $={fid:N.fid,registrationStatus:1,registrationTime:Date.now()},ge=function ot(k,N){return rt.apply(this,arguments)}(k,$);return{installationEntry:$,registrationPromise:ge}}return 1===N.registrationStatus?{installationEntry:N,registrationPromise:an(k)}:{installationEntry:N}}function rt(){return(rt=(0,F.Z)(function*(k,N){try{const $=yield Fe(k,N);return jt(k.appConfig,$)}catch($){throw at($)&&409===$.customData.serverCode?yield tr(k.appConfig):yield jt(k.appConfig,{fid:N.fid,registrationStatus:0}),$}})).apply(this,arguments)}function an(k){return bn.apply(this,arguments)}function bn(){return(bn=(0,F.Z)(function*(k){let N=yield jn(k.appConfig);for(;1===N.registrationStatus;)yield pt(100),N=yield jn(k.appConfig);if(0===N.registrationStatus){const{installationEntry:$,registrationPromise:ge}=yield Xt(k);return ge||$}return N})).apply(this,arguments)}function jn(k){return Yt(k,N=>{if(!N)throw ft.create("installation-not-found");return $t(N)})}function $t(k){return function Oe(k){return 1===k.registrationStatus&&k.registrationTime+1e4<Date.now()}(k)?{fid:k.fid,registrationStatus:0}:k}function et(k,N){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,F.Z)(function*({appConfig:k,heartbeatServiceProvider:N},$){const ge=St(k,$),Ge=je(k,$),lt=N.getImmediate({optional:!0});if(lt){const Bn=yield lt.getHeartbeatsHeader();Bn&&Ge.append("x-firebase-client",Bn)}const Jt={method:"POST",headers:Ge,body:JSON.stringify({installation:{sdkVersion:J,appId:k.appId}})},zn=yield He(()=>fetch(ge,Jt));if(zn.ok)return Se(yield zn.json());throw yield Le("Generate Auth Token",zn)})).apply(this,arguments)}function St(k,{fid:N}){return`${ct(k)}/${N}/authTokens:generate`}function Qt(k){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,F.Z)(function*(k,N=!1){let $;const ge=yield Yt(k.appConfig,lt=>{if(!Pn(lt))throw ft.create("not-registered");const Rt=lt.authToken;if(!N&&Ee(Rt))return lt;if(1===Rt.requestStatus)return $=At(k,N),lt;{if(!navigator.onLine)throw ft.create("app-offline");const Jt=Ae(lt);return $=_n(k,Jt),Jt}});return $?yield $:ge.authToken})).apply(this,arguments)}function At(k,N){return vt.apply(this,arguments)}function vt(){return(vt=(0,F.Z)(function*(k,N){let $=yield Ot(k.appConfig);for(;1===$.authToken.requestStatus;)yield pt(100),$=yield Ot(k.appConfig);const ge=$.authToken;return 0===ge.requestStatus?Qt(k,N):ge})).apply(this,arguments)}function Ot(k){return Yt(k,N=>{if(!Pn(N))throw ft.create("not-registered");return function fe(k){return 1===k.requestStatus&&k.requestTime+1e4<Date.now()}(N.authToken)?Object.assign(Object.assign({},N),{authToken:{requestStatus:0}}):N})}function _n(k,N){return pn.apply(this,arguments)}function pn(){return(pn=(0,F.Z)(function*(k,N){try{const $=yield et(k,N),ge=Object.assign(Object.assign({},N),{authToken:$});return yield jt(k.appConfig,ge),$}catch($){if(!at($)||401!==$.customData.serverCode&&404!==$.customData.serverCode){const ge=Object.assign(Object.assign({},N),{authToken:{requestStatus:0}});yield jt(k.appConfig,ge)}else yield tr(k.appConfig);throw $}})).apply(this,arguments)}function Pn(k){return void 0!==k&&2===k.registrationStatus}function Ee(k){return 2===k.requestStatus&&!function ve(k){const N=Date.now();return N<k.creationTime||k.creationTime+k.expiresIn<N+36e5}(k)}function Ae(k){const N={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},k),{authToken:N})}function ce(){return(ce=(0,F.Z)(function*(k){const N=k,{installationEntry:$,registrationPromise:ge}=yield Xt(N);return ge?ge.catch(console.error):Qt(N).catch(console.error),$.fid})).apply(this,arguments)}function Dt(){return(Dt=(0,F.Z)(function*(k,N=!1){const $=k;return yield tn($),(yield Qt($,N)).token})).apply(this,arguments)}function tn(k){return nn.apply(this,arguments)}function nn(){return(nn=(0,F.Z)(function*(k){const{registrationPromise:N}=yield Xt(k);N&&(yield N)})).apply(this,arguments)}function Sr(k){return ft.create("missing-app-config-values",{valueName:k})}const Dr="installations",ji=k=>{const N=k.getProvider("app").getImmediate(),$=function Ln(k){if(!k||!k.options)throw Sr("App Configuration");if(!k.name)throw Sr("App Name");const N=["projectId","apiKey","appId"];for(const $ of N)if(!k.options[$])throw Sr($);return{appName:k.name,projectId:k.options.projectId,apiKey:k.options.apiKey,appId:k.options.appId}}(N);return{app:N,appConfig:$,heartbeatServiceProvider:(0,oe._getProvider)(N,"heartbeat"),_delete:()=>Promise.resolve()}},Ni=k=>{const N=k.getProvider("app").getImmediate(),$=(0,oe._getProvider)(N,Dr).getImmediate();return{getId:()=>function G(k){return ce.apply(this,arguments)}($),getToken:Ge=>function We(k){return Dt.apply(this,arguments)}($,Ge)}};(function Ro(){(0,oe._registerComponent)(new he.wA(Dr,ji,"PUBLIC")),(0,oe._registerComponent)(new he.wA("installations-internal",Ni,"PRIVATE"))})(),(0,oe.registerVersion)(q,Y),(0,oe.registerVersion)(q,Y,"esm2017");const Fi="@firebase/remote-config",Ar=new ne.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class li{constructor(N,$,ge,Ge){this.client=N,this.storage=$,this.storageCache=ge,this.logger=Ge}isCachedDataFresh(N,$){if(!$)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ge=Date.now()-$,Ge=ge<=N;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ge}. Cache max age millis (minimumFetchIntervalMillis setting): ${N}. Is cache hit: ${Ge}.`),Ge}fetch(N){var $=this;return(0,F.Z)(function*(){const[ge,Ge]=yield Promise.all([$.storage.getLastSuccessfulFetchTimestampMillis(),$.storage.getLastSuccessfulFetchResponse()]);if(Ge&&$.isCachedDataFresh(N.cacheMaxAgeMillis,ge))return Ge;N.eTag=Ge&&Ge.eTag;const lt=yield $.client.fetch(N),Rt=[$.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===lt.status&&Rt.push($.storage.setLastSuccessfulFetchResponse(lt)),yield Promise.all(Rt),lt})()}}function Wr(k=navigator){return k.languages&&k.languages[0]||k.language}class Jr{constructor(N,$,ge,Ge,lt,Rt){this.firebaseInstallations=N,this.sdkVersion=$,this.namespace=ge,this.projectId=Ge,this.apiKey=lt,this.appId=Rt}fetch(N){var $=this;return(0,F.Z)(function*(){var ge,Ge,lt;const[Rt,Jt]=yield Promise.all([$.firebaseInstallations.getId(),$.firebaseInstallations.getToken()]),Bn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${$.projectId}/namespaces/${$.namespace}:fetch?key=${$.apiKey}`,Wn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":N.eTag||"*"},Mn={sdk_version:$.sdkVersion,app_instance_id:Rt,app_instance_id_token:Jt,app_id:$.appId,language_code:Wr()},ii={method:"POST",headers:Wn,body:JSON.stringify(Mn)},mi=fetch(Bn,ii),Xa=new Promise((Ja,ec)=>{N.signal.addEventListener(()=>{const Zl=new Error("The operation was aborted.");Zl.name="AbortError",ec(Zl)})});let Pr;try{yield Promise.race([mi,Xa]),Pr=yield mi}catch(Ja){let ec="fetch-client-network";throw"AbortError"===(null===(ge=Ja)||void 0===ge?void 0:ge.name)&&(ec="fetch-timeout"),Ar.create(ec,{originalErrorMessage:null===(Ge=Ja)||void 0===Ge?void 0:Ge.message})}let fa=Pr.status;const Es=Pr.headers.get("ETag")||void 0;let Jo,hl;if(200===Pr.status){let Ja;try{Ja=yield Pr.json()}catch(ec){throw Ar.create("fetch-client-parse",{originalErrorMessage:null===(lt=ec)||void 0===lt?void 0:lt.message})}Jo=Ja.entries,hl=Ja.state}if("INSTANCE_STATE_UNSPECIFIED"===hl?fa=500:"NO_CHANGE"===hl?fa=304:("NO_TEMPLATE"===hl||"EMPTY_CONFIG"===hl)&&(Jo={}),304!==fa&&200!==fa)throw Ar.create("fetch-status",{httpStatus:fa});return{status:fa,eTag:Es,config:Jo}})()}}class Bo{constructor(N,$){this.client=N,this.storage=$}fetch(N){var $=this;return(0,F.Z)(function*(){const ge=(yield $.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return $.attemptFetch(N,ge)})()}attemptFetch(N,{throttleEndTimeMillis:$,backoffCount:ge}){var Ge=this;return(0,F.Z)(function*(){yield function jr(k,N){return new Promise(($,ge)=>{const Ge=Math.max(N-Date.now(),0),lt=setTimeout($,Ge);k.addEventListener(()=>{clearTimeout(lt),ge(Ar.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}(N.signal,$);try{const lt=yield Ge.client.fetch(N);return yield Ge.storage.deleteThrottleMetadata(),lt}catch(lt){if(!function mc(k){if(!(k instanceof ne.ZR&&k.customData))return!1;const N=Number(k.customData.httpStatus);return 429===N||500===N||503===N||504===N}(lt))throw lt;const Rt={throttleEndTimeMillis:Date.now()+(0,ne.$s)(ge),backoffCount:ge+1};return yield Ge.storage.setThrottleMetadata(Rt),Ge.attemptFetch(N,Rt)}})()}}class Qc{constructor(N,$,ge,Ge,lt){this.app=N,this._client=$,this._storageCache=ge,this._storage=Ge,this._logger=lt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ms(k,N){var $;const ge=k.target.error||void 0;return Ar.create(N,{originalErrorMessage:ge&&(null===($=ge)||void 0===$?void 0:$.message)})}const gs="app_namespace_store";class el{constructor(N,$,ge,Ge=function Jc(){return new Promise((k,N)=>{var $;try{const ge=indexedDB.open("firebase_remote_config",1);ge.onerror=Ge=>{N(ms(Ge,"storage-open"))},ge.onsuccess=Ge=>{k(Ge.target.result)},ge.onupgradeneeded=Ge=>{0===Ge.oldVersion&&Ge.target.result.createObjectStore(gs,{keyPath:"compositeKey"})}}catch(ge){N(Ar.create("storage-open",{originalErrorMessage:null===($=ge)||void 0===$?void 0:$.message}))}})}()){this.appId=N,this.appName=$,this.namespace=ge,this.openDbPromise=Ge}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(N){return this.set("last_fetch_status",N)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(N){return this.set("last_successful_fetch_timestamp_millis",N)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(N){return this.set("last_successful_fetch_response",N)}getActiveConfig(){return this.get("active_config")}setActiveConfig(N){return this.set("active_config",N)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(N){return this.set("active_config_etag",N)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(N){return this.set("throttle_metadata",N)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(N){var $=this;return(0,F.Z)(function*(){const ge=yield $.openDbPromise;return new Promise((Ge,lt)=>{var Rt;const zn=ge.transaction([gs],"readonly").objectStore(gs),Bn=$.createCompositeKey(N);try{const Wn=zn.get(Bn);Wn.onerror=Mn=>{lt(ms(Mn,"storage-get"))},Wn.onsuccess=Mn=>{const ii=Mn.target.result;Ge(ii?ii.value:void 0)}}catch(Wn){lt(Ar.create("storage-get",{originalErrorMessage:null===(Rt=Wn)||void 0===Rt?void 0:Rt.message}))}})})()}set(N,$){var ge=this;return(0,F.Z)(function*(){const Ge=yield ge.openDbPromise;return new Promise((lt,Rt)=>{var Jt;const Bn=Ge.transaction([gs],"readwrite").objectStore(gs),Wn=ge.createCompositeKey(N);try{const Mn=Bn.put({compositeKey:Wn,value:$});Mn.onerror=ii=>{Rt(ms(ii,"storage-set"))},Mn.onsuccess=()=>{lt()}}catch(Mn){Rt(Ar.create("storage-set",{originalErrorMessage:null===(Jt=Mn)||void 0===Jt?void 0:Jt.message}))}})})()}delete(N){var $=this;return(0,F.Z)(function*(){const ge=yield $.openDbPromise;return new Promise((Ge,lt)=>{var Rt;const zn=ge.transaction([gs],"readwrite").objectStore(gs),Bn=$.createCompositeKey(N);try{const Wn=zn.delete(Bn);Wn.onerror=Mn=>{lt(ms(Mn,"storage-delete"))},Wn.onsuccess=()=>{Ge()}}catch(Wn){lt(Ar.create("storage-delete",{originalErrorMessage:null===(Rt=Wn)||void 0===Rt?void 0:Rt.message}))}})})()}createCompositeKey(N){return[this.appId,this.appName,this.namespace,N].join()}}class es{constructor(N){this.storage=N}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var N=this;return(0,F.Z)(function*(){const $=N.storage.getLastFetchStatus(),ge=N.storage.getLastSuccessfulFetchTimestampMillis(),Ge=N.storage.getActiveConfig(),lt=yield $;lt&&(N.lastFetchStatus=lt);const Rt=yield ge;Rt&&(N.lastSuccessfulFetchTimestampMillis=Rt);const Jt=yield Ge;Jt&&(N.activeConfig=Jt)})()}setLastFetchStatus(N){return this.lastFetchStatus=N,this.storage.setLastFetchStatus(N)}setLastSuccessfulFetchTimestampMillis(N){return this.lastSuccessfulFetchTimestampMillis=N,this.storage.setLastSuccessfulFetchTimestampMillis(N)}setActiveConfig(N){return this.activeConfig=N,this.storage.setActiveConfig(N)}}function Xs(){return vs.apply(this,arguments)}function vs(){return(vs=(0,F.Z)(function*(){if(!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch{return!1}})).apply(this,arguments)}!function ga(){(0,oe._registerComponent)(new he.wA("remote-config",function k(N,{instanceIdentifier:$}){const ge=N.getProvider("app").getImmediate(),Ge=N.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Ar.create("registration-window");if(!(0,ne.hl)())throw Ar.create("indexed-db-unavailable");const{projectId:lt,apiKey:Rt,appId:Jt}=ge.options;if(!lt)throw Ar.create("registration-project-id");if(!Rt)throw Ar.create("registration-api-key");if(!Jt)throw Ar.create("registration-app-id");const zn=new el(Jt,ge.name,$=$||"firebase"),Bn=new es(zn),Wn=new ee.Yd(Fi);Wn.logLevel=ee.in.ERROR;const Mn=new Jr(Ge,oe.SDK_VERSION,$,lt,Rt,Jt),ii=new Bo(Mn,zn),mi=new li(ii,zn,Bn,Wn),Xa=new Qc(ge,mi,Bn,zn,Wn);return function B(k){const N=(0,ne.m9)(k);N._initializePromise||(N._initializePromise=N._storageCache.loadFromStorage().then(()=>{N._isInitializationComplete=!0}))}(Xa),Xa},"PUBLIC").setMultipleInstances(!0)),(0,oe.registerVersion)(Fi,"0.3.15"),(0,oe.registerVersion)(Fi,"0.3.15","esm2017")}();const ui="/firebase-messaging-sw.js",ts="/firebase-cloud-messaging-push-scope",Li="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",va="google.c.a.c_id",ns="google.c.a.c_l",Va="google.c.a.ts",mo="google.c.a.e";var Vi=(()=>{return(k=Vi||(Vi={})).PUSH_RECEIVED="push-received",k.NOTIFICATION_CLICKED="notification-clicked",Vi;var k})();function Hi(k){const N=new Uint8Array(k);return btoa(String.fromCharCode(...N)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function $i(k){const $=(k+"=".repeat((4-k.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ge=atob($),Ge=new Uint8Array(ge.length);for(let lt=0;lt<ge.length;++lt)Ge[lt]=ge.charCodeAt(lt);return Ge}const ro="fcm_token_details_db",ys="fcm_token_object_Store";function _c(k){return ya.apply(this,arguments)}function ya(){return ya=(0,F.Z)(function*(k){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(lt=>lt.name).includes(ro))return null;let N=null;return(yield(0,V.X3)(ro,5,{upgrade:(ge=(0,F.Z)(function*(Ge,lt,Rt,Jt){var zn;if(lt<2||!Ge.objectStoreNames.contains(ys))return;const Bn=Jt.objectStore(ys),Wn=yield Bn.index("fcmSenderId").get(k);if(yield Bn.clear(),Wn)if(2===lt){const Mn=Wn;if(!Mn.auth||!Mn.p256dh||!Mn.endpoint)return;N={token:Mn.fcmToken,createTime:null!==(zn=Mn.createTime)&&void 0!==zn?zn:Date.now(),subscriptionOptions:{auth:Mn.auth,p256dh:Mn.p256dh,endpoint:Mn.endpoint,swScope:Mn.swScope,vapidKey:"string"==typeof Mn.vapidKey?Mn.vapidKey:Hi(Mn.vapidKey)}}}else if(3===lt){const Mn=Wn;N={token:Mn.fcmToken,createTime:Mn.createTime,subscriptionOptions:{auth:Hi(Mn.auth),p256dh:Hi(Mn.p256dh),endpoint:Mn.endpoint,swScope:Mn.swScope,vapidKey:Hi(Mn.vapidKey)}}}else if(4===lt){const Mn=Wn;N={token:Mn.fcmToken,createTime:Mn.createTime,subscriptionOptions:{auth:Hi(Mn.auth),p256dh:Hi(Mn.p256dh),endpoint:Mn.endpoint,swScope:Mn.swScope,vapidKey:Hi(Mn.vapidKey)}}}}),function(lt,Rt,Jt,zn){return ge.apply(this,arguments)})})).close(),yield(0,V.Lj)(ro),yield(0,V.Lj)("fcm_vapid_details_db"),yield(0,V.Lj)("undefined"),Fr(N)?N:null;var ge}),ya.apply(this,arguments)}function Fr(k){if(!k||!k.subscriptionOptions)return!1;const{subscriptionOptions:N}=k;return"number"==typeof k.createTime&&k.createTime>0&&"string"==typeof k.token&&k.token.length>0&&"string"==typeof N.auth&&N.auth.length>0&&"string"==typeof N.p256dh&&N.p256dh.length>0&&"string"==typeof N.endpoint&&N.endpoint.length>0&&"string"==typeof N.swScope&&N.swScope.length>0&&"string"==typeof N.vapidKey&&N.vapidKey.length>0}const Gi="firebase-messaging-store";let ei=null;function rs(){return ei||(ei=(0,V.X3)("firebase-messaging-database",1,{upgrade:(k,N)=>{0===N&&k.createObjectStore(Gi)}})),ei}function Yo(k){return di.apply(this,arguments)}function di(){return(di=(0,F.Z)(function*(k){const N=go(k),ge=yield(yield rs()).transaction(Gi).objectStore(Gi).get(N);if(ge)return ge;{const Ge=yield _c(k.appConfig.senderId);if(Ge)return yield vr(k,Ge),Ge}})).apply(this,arguments)}function vr(k,N){return _s.apply(this,arguments)}function _s(){return(_s=(0,F.Z)(function*(k,N){const $=go(k),Ge=(yield rs()).transaction(Gi,"readwrite");return yield Ge.objectStore(Gi).put(N,$),yield Ge.done,N})).apply(this,arguments)}function Uo(k){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,F.Z)(function*(k){const N=go(k),ge=(yield rs()).transaction(Gi,"readwrite");yield ge.objectStore(Gi).delete(N),yield ge.done})).apply(this,arguments)}function go({appConfig:k}){return k.appId}const Hr=new ne.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Fn(k,N){return Js.apply(this,arguments)}function Js(){return(Js=(0,F.Z)(function*(k,N){var $;const ge=yield $o(k),Ge=kt(N),lt={method:"POST",headers:ge,body:JSON.stringify(Ge)};let Rt;try{Rt=yield(yield fetch(jo(k.appConfig),lt)).json()}catch(Jt){throw Hr.create("token-subscribe-failed",{errorInfo:null===($=Jt)||void 0===$?void 0:$.toString()})}if(Rt.error)throw Hr.create("token-subscribe-failed",{errorInfo:Rt.error.message});if(!Rt.token)throw Hr.create("token-subscribe-no-token");return Rt.token})).apply(this,arguments)}function nl(k,N){return ea.apply(this,arguments)}function ea(){return(ea=(0,F.Z)(function*(k,N){var $;const ge=yield $o(k),Ge=kt(N.subscriptionOptions),lt={method:"PATCH",headers:ge,body:JSON.stringify(Ge)};let Rt;try{Rt=yield(yield fetch(`${jo(k.appConfig)}/${N.token}`,lt)).json()}catch(Jt){throw Hr.create("token-update-failed",{errorInfo:null===($=Jt)||void 0===$?void 0:$.toString()})}if(Rt.error)throw Hr.create("token-update-failed",{errorInfo:Rt.error.message});if(!Rt.token)throw Hr.create("token-update-no-token");return Rt.token})).apply(this,arguments)}function As(k,N){return wi.apply(this,arguments)}function wi(){return(wi=(0,F.Z)(function*(k,N){var $;const Ge={method:"DELETE",headers:yield $o(k)};try{const Rt=yield(yield fetch(`${jo(k.appConfig)}/${N}`,Ge)).json();if(Rt.error)throw Hr.create("token-unsubscribe-failed",{errorInfo:Rt.error.message})}catch(lt){throw Hr.create("token-unsubscribe-failed",{errorInfo:null===($=lt)||void 0===$?void 0:$.toString()})}})).apply(this,arguments)}function jo({projectId:k}){return`https://fcmregistrations.googleapis.com/v1/projects/${k}/registrations`}function $o(k){return ws.apply(this,arguments)}function ws(){return(ws=(0,F.Z)(function*({appConfig:k,installations:N}){const $=yield N.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":k.apiKey,"x-goog-firebase-installations-auth":`FIS ${$}`})})).apply(this,arguments)}function kt({p256dh:k,auth:N,endpoint:$,vapidKey:ge}){const Ge={web:{endpoint:$,auth:N,p256dh:k}};return ge!==Li&&(Ge.web.applicationPubKey=ge),Ge}const ir=6048e5;function wc(k){return ta.apply(this,arguments)}function ta(){return(ta=(0,F.Z)(function*(k){const N=yield na(k.swRegistration,k.vapidKey),$={vapidKey:k.vapidKey,swScope:k.swRegistration.scope,endpoint:N.endpoint,auth:Hi(N.getKey("auth")),p256dh:Hi(N.getKey("p256dh"))},ge=yield Yo(k.firebaseDependencies);if(ge){if(ku(ge.subscriptionOptions,$))return Date.now()>=ge.createTime+ir?Go(k,{token:ge.token,createTime:Date.now(),subscriptionOptions:$}):ge.token;try{yield As(k.firebaseDependencies,ge.token)}catch(Ge){console.warn(Ge)}return Ya(k.firebaseDependencies,$)}return Ya(k.firebaseDependencies,$)})).apply(this,arguments)}function oi(k){return oo.apply(this,arguments)}function oo(){return(oo=(0,F.Z)(function*(k){const N=yield Yo(k.firebaseDependencies);N&&(yield As(k.firebaseDependencies,N.token),yield Uo(k.firebaseDependencies));const $=yield k.swRegistration.pushManager.getSubscription();return!$||$.unsubscribe()})).apply(this,arguments)}function Go(k,N){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,F.Z)(function*(k,N){try{const $=yield nl(k.firebaseDependencies,N),ge=Object.assign(Object.assign({},N),{token:$,createTime:Date.now()});return yield vr(k.firebaseDependencies,ge),$}catch($){throw yield oi(k),$}})).apply(this,arguments)}function Ya(k,N){return so.apply(this,arguments)}function so(){return(so=(0,F.Z)(function*(k,N){const ge={token:yield Fn(k,N),createTime:Date.now(),subscriptionOptions:N};return yield vr(k,ge),ge.token})).apply(this,arguments)}function na(k,N){return wa.apply(this,arguments)}function wa(){return(wa=(0,F.Z)(function*(k,N){return(yield k.pushManager.getSubscription())||k.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:$i(N)})})).apply(this,arguments)}function ku(k,N){return N.vapidKey===k.vapidKey&&N.endpoint===k.endpoint&&N.auth===k.auth&&N.p256dh===k.p256dh}function ks(k){const N={from:k.from,collapseKey:k.collapse_key,messageId:k.fcmMessageId};return function ri(k,N){if(!N.notification)return;k.notification={};const $=N.notification.title;$&&(k.notification.title=$);const ge=N.notification.body;ge&&(k.notification.body=ge);const Ge=N.notification.image;Ge&&(k.notification.image=Ge);const lt=N.notification.icon;lt&&(k.notification.icon=lt)}(N,k),function bi(k,N){!N.data||(k.data=N.data)}(N,k),function Kr(k,N){var $,ge,Ge,lt,Rt;if(!(N.fcmOptions||null!==($=N.notification)&&void 0!==$&&$.click_action))return;k.fcmOptions={};const Jt=null!==(Ge=null===(ge=N.fcmOptions)||void 0===ge?void 0:ge.link)&&void 0!==Ge?Ge:null===(lt=N.notification)||void 0===lt?void 0:lt.click_action;Jt&&(k.fcmOptions.link=Jt);const zn=null===(Rt=N.fcmOptions)||void 0===Rt?void 0:Rt.analytics_label;zn&&(k.fcmOptions.analyticsLabel=zn)}(N,k),N}function is(k){return"object"==typeof k&&!!k&&va in k}function Wo(k,N){const $=[];for(let ge=0;ge<k.length;ge++)$.push(k.charAt(ge)),ge<N.length&&$.push(N.charAt(ge));return $.join("")}function os(k){return Hr.create("missing-app-config-values",{valueName:k})}Wo("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Wo("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Io{constructor(N,$,ge){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ge=function Ps(k){if(!k||!k.options)throw os("App Configuration Object");if(!k.name)throw os("App Name");const N=["projectId","apiKey","appId","messagingSenderId"],{options:$}=k;for(const ge of N)if(!$[ge])throw os(ge);return{appName:k.name,projectId:$.projectId,apiKey:$.apiKey,appId:$.appId,senderId:$.messagingSenderId}}(N);this.firebaseDependencies={app:N,appConfig:Ge,installations:$,analyticsProvider:ge}}_delete(){return Promise.resolve()}}function ss(k){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,F.Z)(function*(k){var N;try{k.swRegistration=yield navigator.serviceWorker.register(ui,{scope:ts}),k.swRegistration.update().catch(()=>{})}catch($){throw Hr.create("failed-service-worker-registration",{browserErrorMessage:null===(N=$)||void 0===N?void 0:N.message})}})).apply(this,arguments)}function bc(k,N){return ra.apply(this,arguments)}function ra(){return(ra=(0,F.Z)(function*(k,N){if(!N&&!k.swRegistration&&(yield ss(k)),N||!k.swRegistration){if(!(N instanceof ServiceWorkerRegistration))throw Hr.create("invalid-sw-registration");k.swRegistration=N}})).apply(this,arguments)}function _t(k,N){return vo.apply(this,arguments)}function vo(){return(vo=(0,F.Z)(function*(k,N){N?k.vapidKey=N:k.vapidKey||(k.vapidKey=Li)})).apply(this,arguments)}function Ki(){return(Ki=(0,F.Z)(function*(k,N){if(!navigator)throw Hr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Hr.create("permission-blocked");return yield _t(k,N?.vapidKey),yield bc(k,N?.serviceWorkerRegistration),wc(k)})).apply(this,arguments)}function _r(k,N,$){return bs.apply(this,arguments)}function bs(){return(bs=(0,F.Z)(function*(k,N,$){const ge=Ko(N);(yield k.firebaseDependencies.analyticsProvider.get()).logEvent(ge,{message_id:$[va],message_name:$[ns],message_time:$[Va],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ko(k){switch(k){case Vi.NOTIFICATION_CLICKED:return"notification_open";case Vi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function H(){return(H=(0,F.Z)(function*(k,N){const $=N.data;if(!$.isFirebaseMessaging)return;k.onMessageHandler&&$.messageType===Vi.PUSH_RECEIVED&&("function"==typeof k.onMessageHandler?k.onMessageHandler(ks($)):k.onMessageHandler.next(ks($)));const ge=$.data;is(ge)&&"1"===ge[mo]&&(yield _r(k,$.messageType,ge))})).apply(this,arguments)}const I="@firebase/messaging",Q="0.10.0",we=k=>{const N=new Io(k.getProvider("app").getImmediate(),k.getProvider("installations-internal").getImmediate(),k.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",$=>function D(k,N){return H.apply(this,arguments)}(N,$)),N},st=k=>{const N=k.getProvider("messaging").getImmediate();return{getToken:ge=>function Os(k,N){return Ki.apply(this,arguments)}(N,ge)}};function hn(){return dr.apply(this,arguments)}function dr(){return(dr=(0,F.Z)(function*(){try{yield(0,ne.eu)()}catch{return!1}return typeof window<"u"&&(0,ne.hl)()&&(0,ne.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function yt(){(0,oe._registerComponent)(new he.wA("messaging",we,"PUBLIC")),(0,oe._registerComponent)(new he.wA("messaging-internal",st,"PRIVATE")),(0,oe.registerVersion)(I,Q),(0,oe.registerVersion)(I,Q,"esm2017")}();const ao="analytics",as="firebase_id",_o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",rl="https://www.googletagmanager.com/gtag/js",qr=new ee.Yd("@firebase/analytics");function ia(k){return Promise.all(k.map(N=>N.catch($=>$)))}function cs(k,N){const $=document.createElement("script");$.src=`${rl}?l=${k}&id=${N}`,$.async=!0,document.head.appendChild($)}function Ul(k,N,$,ge,Ge,lt){return jl.apply(this,arguments)}function jl(){return(jl=(0,F.Z)(function*(k,N,$,ge,Ge,lt){const Rt=ge[Ge];try{if(Rt)yield N[Rt];else{const zn=(yield ia($)).find(Bn=>Bn.measurementId===Ge);zn&&(yield N[zn.appId])}}catch(Jt){qr.error(Jt)}k("config",Ge,lt)})).apply(this,arguments)}function wo(k,N,$,ge,Ge){return ba.apply(this,arguments)}function ba(){return(ba=(0,F.Z)(function*(k,N,$,ge,Ge){try{let lt=[];if(Ge&&Ge.send_to){let Rt=Ge.send_to;Array.isArray(Rt)||(Rt=[Rt]);const Jt=yield ia($);for(const zn of Rt){const Bn=Jt.find(Mn=>Mn.measurementId===zn),Wn=Bn&&N[Bn.appId];if(!Wn){lt=[];break}lt.push(Wn)}}0===lt.length&&(lt=Object.values(N)),yield Promise.all(lt),k("event",ge,Ge||{})}catch(lt){qr.error(lt)}})).apply(this,arguments)}function il(k){const N=window.document.getElementsByTagName("script");for(const $ of Object.values(N))if($.src&&$.src.includes(rl)&&$.src.includes(k))return $;return null}const Zr=new ne.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Ga=new class $a{constructor(N={},$=1e3){this.throttleMetadata=N,this.intervalMillis=$}getThrottleMetadata(N){return this.throttleMetadata[N]}setThrottleMetadata(N,$){this.throttleMetadata[N]=$}deleteThrottleMetadata(N){delete this.throttleMetadata[N]}};function Cc(k){return new Headers({Accept:"application/json","x-goog-api-key":k})}function Sc(k){return $r.apply(this,arguments)}function $r(){return($r=(0,F.Z)(function*(k){var N;const{appId:$,apiKey:ge}=k,Ge={method:"GET",headers:Cc(ge)},lt=_o.replace("{app-id}",$),Rt=yield fetch(lt,Ge);if(200!==Rt.status&&304!==Rt.status){let Jt="";try{const zn=yield Rt.json();null!==(N=zn.error)&&void 0!==N&&N.message&&(Jt=zn.error.message)}catch{}throw Zr.create("config-fetch-failed",{httpStatus:Rt.status,responseMessage:Jt})}return Rt.json()})).apply(this,arguments)}function sl(k){return hi.apply(this,arguments)}function hi(){return(hi=(0,F.Z)(function*(k,N=Ga,$){const{appId:ge,apiKey:Ge,measurementId:lt}=k.options;if(!ge)throw Zr.create("no-app-id");if(!Ge){if(lt)return{measurementId:lt,appId:ge};throw Zr.create("no-api-key")}const Rt=N.getThrottleMetadata(ge)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Jt=new Cs;return setTimeout((0,F.Z)(function*(){Jt.abort()}),void 0!==$?$:6e4),al({appId:ge,apiKey:Ge,measurementId:lt},Rt,Jt,N)})).apply(this,arguments)}function al(k,N,$){return zo.apply(this,arguments)}function zo(){return(zo=(0,F.Z)(function*(k,{throttleEndTimeMillis:N,backoffCount:$},ge,Ge=Ga){var lt,Rt;const{appId:Jt,measurementId:zn}=k;try{yield cl(ge,N)}catch(Bn){if(zn)return qr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${zn} provided in the "measurementId" field in the local Firebase config. [${null===(lt=Bn)||void 0===lt?void 0:lt.message}]`),{appId:Jt,measurementId:zn};throw Bn}try{const Bn=yield Sc(k);return Ge.deleteThrottleMetadata(Jt),Bn}catch(Bn){const Wn=Bn;if(!ll(Wn)){if(Ge.deleteThrottleMetadata(Jt),zn)return qr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${zn} provided in the "measurementId" field in the local Firebase config. [${Wn?.message}]`),{appId:Jt,measurementId:zn};throw Bn}const Mn=503===Number(null===(Rt=Wn?.customData)||void 0===Rt?void 0:Rt.httpStatus)?(0,ne.$s)($,Ge.intervalMillis,30):(0,ne.$s)($,Ge.intervalMillis),ii={throttleEndTimeMillis:Date.now()+Mn,backoffCount:$+1};return Ge.setThrottleMetadata(Jt,ii),qr.debug(`Calling attemptFetch again in ${Mn} millis`),al(k,ii,ge,Ge)}})).apply(this,arguments)}function cl(k,N){return new Promise(($,ge)=>{const Ge=Math.max(N-Date.now(),0),lt=setTimeout($,Ge);k.addEventListener(()=>{clearTimeout(lt),ge(Zr.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}function ll(k){if(!(k instanceof ne.ZR&&k.customData))return!1;const N=Number(k.customData.httpStatus);return 429===N||500===N||503===N||504===N}class Cs{constructor(){this.listeners=[]}addEventListener(N){this.listeners.push(N)}abort(){this.listeners.forEach(N=>N())}}let Ns,Wa;function oa(){return(oa=(0,F.Z)(function*(k,N,$,ge,Ge){if(Ge&&Ge.global)k("event",$,ge);else{const lt=yield N;k("event",$,Object.assign(Object.assign({},ge),{send_to:lt}))}})).apply(this,arguments)}function Rs(k){Wa=k}function Mc(k){Ns=k}function fi(){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,F.Z)(function*(){var k;if(!(0,ne.hl)())return qr.warn(Zr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ne.eu)()}catch(N){return qr.warn(Zr.create("indexeddb-unavailable",{errorInfo:null===(k=N)||void 0===k?void 0:k.toString()}).message),!1}return!0})).apply(this,arguments)}function Vs(){return(Vs=(0,F.Z)(function*(k,N,$,ge,Ge,lt,Rt){var Jt;const zn=sl(k);zn.then(mi=>{$[mi.measurementId]=mi.appId,k.options.measurementId&&mi.measurementId!==k.options.measurementId&&qr.warn(`The measurement ID in the local Firebase config (${k.options.measurementId}) does not match the measurement ID fetched from the server (${mi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(mi=>qr.error(mi)),N.push(zn);const Bn=fi().then(mi=>{if(mi)return ge.getId()}),[Wn,Mn]=yield Promise.all([zn,Bn]);il(lt)||cs(lt,Wn.measurementId),Wa&&(Ge("consent","default",Wa),Rs(void 0)),Ge("js",new Date);const ii=null!==(Jt=Rt?.config)&&void 0!==Jt?Jt:{};return ii.origin="firebase",ii.update=!0,null!=Mn&&(ii[as]=Mn),Ge("config",Wn.measurementId,ii),Ns&&(Ge("set",Ns),Mc(void 0)),Wn.measurementId})).apply(this,arguments)}class ca{constructor(N){this.app=N}_delete(){return delete Si[this.app.options.appId],Promise.resolve()}}let Si={},Br=[];const Yr={};let la,bo,Hs="dataLayer",qa=!1;function Dc(k,N,$){!function I4(){const k=[];if((0,ne.ru)()&&k.push("This is a browser extension environment."),(0,ne.zI)()||k.push("Cookies are not available."),k.length>0){const N=k.map((ge,Ge)=>`(${Ge+1}) ${ge}`).join(" "),$=Zr.create("invalid-analytics-context",{errorInfo:N});qr.warn($.message)}}();const ge=k.options.appId;if(!ge)throw Zr.create("no-app-id");if(!k.options.apiKey){if(!k.options.measurementId)throw Zr.create("no-api-key");qr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${k.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Si[ge])throw Zr.create("already-exists",{id:ge});if(!qa){!function Ua(k){let N=[];Array.isArray(window[k])?N=window[k]:window[k]=N}(Hs);const{wrappedGtag:lt,gtagCore:Rt}=function Ca(k,N,$,ge,Ge){let lt=function(...Rt){window[ge].push(arguments)};return window[Ge]&&"function"==typeof window[Ge]&&(lt=window[Ge]),window[Ge]=function ja(k,N,$,ge){function lt(){return(lt=(0,F.Z)(function*(Rt,Jt,zn){try{"event"===Rt?yield wo(k,N,$,Jt,zn):"config"===Rt?yield Ul(k,N,$,ge,Jt,zn):"consent"===Rt?k("consent","update",zn):k("set",Jt)}catch(Bn){qr.error(Bn)}})).apply(this,arguments)}return function Ge(Rt,Jt,zn){return lt.apply(this,arguments)}}(lt,k,N,$),{gtagCore:lt,wrappedGtag:window[Ge]}}(Si,Br,Yr,Hs,"gtag");bo=lt,la=Rt,qa=!0}return Si[ge]=function ul(k,N,$,ge,Ge,lt,Rt){return Vs.apply(this,arguments)}(k,Br,Yr,N,la,Hs,$),new ca(k)}function Pu(){return Tc.apply(this,arguments)}function Tc(){return(Tc=(0,F.Z)(function*(){if((0,ne.ru)()||!(0,ne.zI)()||!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch{return!1}})).apply(this,arguments)}const dl="@firebase/analytics";!function Zi(){(0,oe._registerComponent)(new he.wA(ao,(N,{options:$})=>Dc(N.getProvider("app").getImmediate(),N.getProvider("installations-internal").getImmediate(),$),"PUBLIC")),(0,oe._registerComponent)(new he.wA("analytics-internal",function k(N){try{const $=N.getProvider(ao).getImmediate();return{logEvent:(ge,Ge,lt)=>function Ea(k,N,$,ge){k=(0,ne.m9)(k),function Fs(k,N,$,ge,Ge){return oa.apply(this,arguments)}(bo,Si[k.app.options.appId],N,$,ge).catch(Ge=>qr.error(Ge))}($,ge,Ge,lt)}}catch($){throw Zr.create("interop-component-reg-failed",{reason:$})}},"PRIVATE")),(0,oe.registerVersion)(dl,"0.8.4"),(0,oe.registerVersion)(dl,"0.8.4","esm2017")}();var Co=T(4408),ua=T(7565);const Kl=new class ko extends ua.v{}(class xc extends Co.o{constructor(N,$){super(N,$),this.scheduler=N,this.work=$}schedule(N,$=0){return $>0?super.schedule(N,$):(this.delay=$,this.state=N,this.scheduler.flush(this),this)}execute(N,$){return $>0||this.closed?super.execute(N,$):this._execute(N,$)}requestAsyncId(N,$,ge=0){return null!=ge&&ge>0||null==ge&&this.delay>0?super.requestAsyncId(N,$,ge):(N.flush(this),0)}});var da=T(4986),Ys=T(8505),Da=T(9468),Ic=T(5363);const zi=new v.GfV("7.4.1"),Za="__angularfire_symbol__analyticsIsSupportedValue",w="__angularfire_symbol__analyticsIsSupported",b="__angularfire_symbol__remoteConfigIsSupportedValue",_="__angularfire_symbol__remoteConfigIsSupported",x="__angularfire_symbol__messagingIsSupportedValue",O="__angularfire_symbol__messagingIsSupported";function Kt(k,N,$){if(N){if(1===N.length)return N[0];const lt=N.filter(Rt=>Rt.app===$);if(1===lt.length)return lt[0]}return $.container.getProvider(k).getImmediate({optional:!0})}globalThis[w]||(globalThis[w]=Pu().then(k=>globalThis[Za]=k).catch(()=>globalThis[Za]=!1)),globalThis[O]||(globalThis[O]=hn().then(k=>globalThis[x]=k).catch(()=>globalThis[x]=!1)),globalThis[_]||(globalThis[_]=Xs().then(k=>globalThis[b]=k).catch(()=>globalThis[b]=!1));const Vn=(k,N)=>{const $=N?[N]:(0,h.C6)(),ge=[];return $.forEach(Ge=>{Ge.container.getProvider(k).instances.forEach(Rt=>{ge.includes(Rt)||ge.push(Rt)})}),ge};function rn(){}class hr{constructor(N,$=Kl){this.zone=N,this.delegate=$}now(){return this.delegate.now()}schedule(N,$,ge){const Ge=this.zone;return this.delegate.schedule(function(Rt){Ge.runGuarded(()=>{N.apply(this,[Rt])})},$,ge)}}class si{constructor(N){this.zone=N,this.task=null}call(N,$){const ge=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",rn,{},rn,rn)),$.pipe((0,Ys.b)({next:ge,complete:ge,error:ge})).subscribe(N).add(ge)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Qi=(()=>{class k{constructor($){this.ngZone=$,this.outsideAngular=$.runOutsideAngular(()=>new hr(Zone.current)),this.insideAngular=$.run(()=>new hr(Zone.current,da.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return k.\u0275fac=function($){return new($||k)(v.LFG(v.R0b))},k.\u0275prov=v.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})();function Xi(){const k=globalThis.\u0275AngularFireScheduler;if(!k)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return k}function ha(k){return Xi(),function D1(k){return function($){return($=$.lift(new si(k.ngZone))).pipe((0,Da.R)(k.outsideAngular),(0,Ic.Q)(k.insideAngular))}}(Xi())(k)}},8809:(Pt,ke,T)=>{T.d(ke,{T6:()=>J,VD:()=>_e,WE:()=>ee,Yt:()=>Ie,lC:()=>F,py:()=>he,rW:()=>h,s:()=>q,ve:()=>ne,vq:()=>V});var v=T(2567);function h(ie,Ue,be){return{r:255*(0,v.sh)(ie,255),g:255*(0,v.sh)(Ue,255),b:255*(0,v.sh)(be,255)}}function F(ie,Ue,be){ie=(0,v.sh)(ie,255),Ue=(0,v.sh)(Ue,255),be=(0,v.sh)(be,255);var ze=Math.max(ie,Ue,be),ft=Math.min(ie,Ue,be),at=0,ct=0,Se=(ze+ft)/2;if(ze===ft)ct=0,at=0;else{var Le=ze-ft;switch(ct=Se>.5?Le/(2-ze-ft):Le/(ze+ft),ze){case ie:at=(Ue-be)/Le+(Ue<be?6:0);break;case Ue:at=(be-ie)/Le+2;break;case be:at=(ie-Ue)/Le+4}at/=6}return{h:at,s:ct,l:Se}}function oe(ie,Ue,be){return be<0&&(be+=1),be>1&&(be-=1),be<1/6?ie+6*be*(Ue-ie):be<.5?Ue:be<2/3?ie+(Ue-ie)*(2/3-be)*6:ie}function ne(ie,Ue,be){var ze,ft,at;if(ie=(0,v.sh)(ie,360),Ue=(0,v.sh)(Ue,100),be=(0,v.sh)(be,100),0===Ue)ft=be,at=be,ze=be;else{var ct=be<.5?be*(1+Ue):be+Ue-be*Ue,Se=2*be-ct;ze=oe(Se,ct,ie+1/3),ft=oe(Se,ct,ie),at=oe(Se,ct,ie-1/3)}return{r:255*ze,g:255*ft,b:255*at}}function he(ie,Ue,be){ie=(0,v.sh)(ie,255),Ue=(0,v.sh)(Ue,255),be=(0,v.sh)(be,255);var ze=Math.max(ie,Ue,be),ft=Math.min(ie,Ue,be),at=0,ct=ze,Se=ze-ft,Le=0===ze?0:Se/ze;if(ze===ft)at=0;else{switch(ze){case ie:at=(Ue-be)/Se+(Ue<be?6:0);break;case Ue:at=(be-ie)/Se+2;break;case be:at=(ie-Ue)/Se+4}at/=6}return{h:at,s:Le,v:ct}}function ee(ie,Ue,be){ie=6*(0,v.sh)(ie,360),Ue=(0,v.sh)(Ue,100),be=(0,v.sh)(be,100);var ze=Math.floor(ie),ft=ie-ze,at=be*(1-Ue),ct=be*(1-ft*Ue),Se=be*(1-(1-ft)*Ue),Le=ze%6;return{r:255*[be,ct,at,at,Se,be][Le],g:255*[Se,be,be,ct,at,at][Le],b:255*[at,at,Se,be,be,ct][Le]}}function V(ie,Ue,be,ze){var ft=[(0,v.FZ)(Math.round(ie).toString(16)),(0,v.FZ)(Math.round(Ue).toString(16)),(0,v.FZ)(Math.round(be).toString(16))];return ze&&ft[0].startsWith(ft[0].charAt(1))&&ft[1].startsWith(ft[1].charAt(1))&&ft[2].startsWith(ft[2].charAt(1))?ft[0].charAt(0)+ft[1].charAt(0)+ft[2].charAt(0):ft.join("")}function q(ie,Ue,be,ze,ft){var at=[(0,v.FZ)(Math.round(ie).toString(16)),(0,v.FZ)(Math.round(Ue).toString(16)),(0,v.FZ)(Math.round(be).toString(16)),(0,v.FZ)(K(ze))];return ft&&at[0].startsWith(at[0].charAt(1))&&at[1].startsWith(at[1].charAt(1))&&at[2].startsWith(at[2].charAt(1))&&at[3].startsWith(at[3].charAt(1))?at[0].charAt(0)+at[1].charAt(0)+at[2].charAt(0)+at[3].charAt(0):at.join("")}function K(ie){return Math.round(255*parseFloat(ie)).toString(16)}function J(ie){return _e(ie)/255}function _e(ie){return parseInt(ie,16)}function Ie(ie){return{r:ie>>16,g:(65280&ie)>>8,b:255&ie}}},3487:(Pt,ke,T)=>{T.d(ke,{R:()=>v});var v={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}},7952:(Pt,ke,T)=>{T.d(ke,{uA:()=>oe});var v=T(8809),h=T(3487),F=T(2567);function oe(_e){var Ie={r:0,g:0,b:0},ie=1,Ue=null,be=null,ze=null,ft=!1,at=!1;return"string"==typeof _e&&(_e=function K(_e){if(0===(_e=_e.trim().toLowerCase()).length)return!1;var Ie=!1;if(h.R[_e])_e=h.R[_e],Ie=!0;else if("transparent"===_e)return{r:0,g:0,b:0,a:0,format:"name"};var ie=Y.rgb.exec(_e);return ie?{r:ie[1],g:ie[2],b:ie[3]}:(ie=Y.rgba.exec(_e))?{r:ie[1],g:ie[2],b:ie[3],a:ie[4]}:(ie=Y.hsl.exec(_e))?{h:ie[1],s:ie[2],l:ie[3]}:(ie=Y.hsla.exec(_e))?{h:ie[1],s:ie[2],l:ie[3],a:ie[4]}:(ie=Y.hsv.exec(_e))?{h:ie[1],s:ie[2],v:ie[3]}:(ie=Y.hsva.exec(_e))?{h:ie[1],s:ie[2],v:ie[3],a:ie[4]}:(ie=Y.hex8.exec(_e))?{r:(0,v.VD)(ie[1]),g:(0,v.VD)(ie[2]),b:(0,v.VD)(ie[3]),a:(0,v.T6)(ie[4]),format:Ie?"name":"hex8"}:(ie=Y.hex6.exec(_e))?{r:(0,v.VD)(ie[1]),g:(0,v.VD)(ie[2]),b:(0,v.VD)(ie[3]),format:Ie?"name":"hex"}:(ie=Y.hex4.exec(_e))?{r:(0,v.VD)(ie[1]+ie[1]),g:(0,v.VD)(ie[2]+ie[2]),b:(0,v.VD)(ie[3]+ie[3]),a:(0,v.T6)(ie[4]+ie[4]),format:Ie?"name":"hex8"}:!!(ie=Y.hex3.exec(_e))&&{r:(0,v.VD)(ie[1]+ie[1]),g:(0,v.VD)(ie[2]+ie[2]),b:(0,v.VD)(ie[3]+ie[3]),format:Ie?"name":"hex"}}(_e)),"object"==typeof _e&&(J(_e.r)&&J(_e.g)&&J(_e.b)?(Ie=(0,v.rW)(_e.r,_e.g,_e.b),ft=!0,at="%"===String(_e.r).substr(-1)?"prgb":"rgb"):J(_e.h)&&J(_e.s)&&J(_e.v)?(Ue=(0,F.JX)(_e.s),be=(0,F.JX)(_e.v),Ie=(0,v.WE)(_e.h,Ue,be),ft=!0,at="hsv"):J(_e.h)&&J(_e.s)&&J(_e.l)&&(Ue=(0,F.JX)(_e.s),ze=(0,F.JX)(_e.l),Ie=(0,v.ve)(_e.h,Ue,ze),ft=!0,at="hsl"),Object.prototype.hasOwnProperty.call(_e,"a")&&(ie=_e.a)),ie=(0,F.Yq)(ie),{ok:ft,format:_e.format||at,r:Math.min(255,Math.max(Ie.r,0)),g:Math.min(255,Math.max(Ie.g,0)),b:Math.min(255,Math.max(Ie.b,0)),a:ie}}var ee="(?:".concat("[-\\+]?\\d*\\.\\d+%?",")|(?:").concat("[-\\+]?\\d+%?",")"),V="[\\s|\\(]+(".concat(ee,")[,|\\s]+(").concat(ee,")[,|\\s]+(").concat(ee,")\\s*\\)?"),q="[\\s|\\(]+(".concat(ee,")[,|\\s]+(").concat(ee,")[,|\\s]+(").concat(ee,")[,|\\s]+(").concat(ee,")\\s*\\)?"),Y={CSS_UNIT:new RegExp(ee),rgb:new RegExp("rgb"+V),rgba:new RegExp("rgba"+q),hsl:new RegExp("hsl"+V),hsla:new RegExp("hsla"+q),hsv:new RegExp("hsv"+V),hsva:new RegExp("hsva"+q),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function J(_e){return Boolean(Y.CSS_UNIT.exec(String(_e)))}},5192:(Pt,ke,T)=>{T.d(ke,{C:()=>ne});var v=T(8809),h=T(3487),F=T(7952),oe=T(2567),ne=function(){function ee(V,q){var Y;if(void 0===V&&(V=""),void 0===q&&(q={}),V instanceof ee)return V;"number"==typeof V&&(V=(0,v.Yt)(V)),this.originalInput=V;var K=(0,F.uA)(V);this.originalInput=V,this.r=K.r,this.g=K.g,this.b=K.b,this.a=K.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(Y=q.format)&&void 0!==Y?Y:K.format,this.gradientType=q.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=K.ok}return ee.prototype.isDark=function(){return this.getBrightness()<128},ee.prototype.isLight=function(){return!this.isDark()},ee.prototype.getBrightness=function(){var V=this.toRgb();return(299*V.r+587*V.g+114*V.b)/1e3},ee.prototype.getLuminance=function(){var V=this.toRgb(),J=V.r/255,_e=V.g/255,Ie=V.b/255;return.2126*(J<=.03928?J/12.92:Math.pow((J+.055)/1.055,2.4))+.7152*(_e<=.03928?_e/12.92:Math.pow((_e+.055)/1.055,2.4))+.0722*(Ie<=.03928?Ie/12.92:Math.pow((Ie+.055)/1.055,2.4))},ee.prototype.getAlpha=function(){return this.a},ee.prototype.setAlpha=function(V){return this.a=(0,oe.Yq)(V),this.roundA=Math.round(100*this.a)/100,this},ee.prototype.toHsv=function(){var V=(0,v.py)(this.r,this.g,this.b);return{h:360*V.h,s:V.s,v:V.v,a:this.a}},ee.prototype.toHsvString=function(){var V=(0,v.py)(this.r,this.g,this.b),q=Math.round(360*V.h),Y=Math.round(100*V.s),K=Math.round(100*V.v);return 1===this.a?"hsv(".concat(q,", ").concat(Y,"%, ").concat(K,"%)"):"hsva(".concat(q,", ").concat(Y,"%, ").concat(K,"%, ").concat(this.roundA,")")},ee.prototype.toHsl=function(){var V=(0,v.lC)(this.r,this.g,this.b);return{h:360*V.h,s:V.s,l:V.l,a:this.a}},ee.prototype.toHslString=function(){var V=(0,v.lC)(this.r,this.g,this.b),q=Math.round(360*V.h),Y=Math.round(100*V.s),K=Math.round(100*V.l);return 1===this.a?"hsl(".concat(q,", ").concat(Y,"%, ").concat(K,"%)"):"hsla(".concat(q,", ").concat(Y,"%, ").concat(K,"%, ").concat(this.roundA,")")},ee.prototype.toHex=function(V){return void 0===V&&(V=!1),(0,v.vq)(this.r,this.g,this.b,V)},ee.prototype.toHexString=function(V){return void 0===V&&(V=!1),"#"+this.toHex(V)},ee.prototype.toHex8=function(V){return void 0===V&&(V=!1),(0,v.s)(this.r,this.g,this.b,this.a,V)},ee.prototype.toHex8String=function(V){return void 0===V&&(V=!1),"#"+this.toHex8(V)},ee.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},ee.prototype.toRgbString=function(){var V=Math.round(this.r),q=Math.round(this.g),Y=Math.round(this.b);return 1===this.a?"rgb(".concat(V,", ").concat(q,", ").concat(Y,")"):"rgba(".concat(V,", ").concat(q,", ").concat(Y,", ").concat(this.roundA,")")},ee.prototype.toPercentageRgb=function(){var V=function(q){return"".concat(Math.round(100*(0,oe.sh)(q,255)),"%")};return{r:V(this.r),g:V(this.g),b:V(this.b),a:this.a}},ee.prototype.toPercentageRgbString=function(){var V=function(q){return Math.round(100*(0,oe.sh)(q,255))};return 1===this.a?"rgb(".concat(V(this.r),"%, ").concat(V(this.g),"%, ").concat(V(this.b),"%)"):"rgba(".concat(V(this.r),"%, ").concat(V(this.g),"%, ").concat(V(this.b),"%, ").concat(this.roundA,")")},ee.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var V="#"+(0,v.vq)(this.r,this.g,this.b,!1),q=0,Y=Object.entries(h.R);q<Y.length;q++){var K=Y[q];if(V===K[1])return K[0]}return!1},ee.prototype.toString=function(V){var q=Boolean(V);V=V??this.format;var Y=!1;return!q&&this.a<1&&this.a>=0&&(V.startsWith("hex")||"name"===V)?"name"===V&&0===this.a?this.toName():this.toRgbString():("rgb"===V&&(Y=this.toRgbString()),"prgb"===V&&(Y=this.toPercentageRgbString()),("hex"===V||"hex6"===V)&&(Y=this.toHexString()),"hex3"===V&&(Y=this.toHexString(!0)),"hex4"===V&&(Y=this.toHex8String(!0)),"hex8"===V&&(Y=this.toHex8String()),"name"===V&&(Y=this.toName()),"hsl"===V&&(Y=this.toHslString()),"hsv"===V&&(Y=this.toHsvString()),Y||this.toHexString())},ee.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},ee.prototype.clone=function(){return new ee(this.toString())},ee.prototype.lighten=function(V){void 0===V&&(V=10);var q=this.toHsl();return q.l+=V/100,q.l=(0,oe.V2)(q.l),new ee(q)},ee.prototype.brighten=function(V){void 0===V&&(V=10);var q=this.toRgb();return q.r=Math.max(0,Math.min(255,q.r-Math.round(-V/100*255))),q.g=Math.max(0,Math.min(255,q.g-Math.round(-V/100*255))),q.b=Math.max(0,Math.min(255,q.b-Math.round(-V/100*255))),new ee(q)},ee.prototype.darken=function(V){void 0===V&&(V=10);var q=this.toHsl();return q.l-=V/100,q.l=(0,oe.V2)(q.l),new ee(q)},ee.prototype.tint=function(V){return void 0===V&&(V=10),this.mix("white",V)},ee.prototype.shade=function(V){return void 0===V&&(V=10),this.mix("black",V)},ee.prototype.desaturate=function(V){void 0===V&&(V=10);var q=this.toHsl();return q.s-=V/100,q.s=(0,oe.V2)(q.s),new ee(q)},ee.prototype.saturate=function(V){void 0===V&&(V=10);var q=this.toHsl();return q.s+=V/100,q.s=(0,oe.V2)(q.s),new ee(q)},ee.prototype.greyscale=function(){return this.desaturate(100)},ee.prototype.spin=function(V){var q=this.toHsl(),Y=(q.h+V)%360;return q.h=Y<0?360+Y:Y,new ee(q)},ee.prototype.mix=function(V,q){void 0===q&&(q=50);var Y=this.toRgb(),K=new ee(V).toRgb(),J=q/100;return new ee({r:(K.r-Y.r)*J+Y.r,g:(K.g-Y.g)*J+Y.g,b:(K.b-Y.b)*J+Y.b,a:(K.a-Y.a)*J+Y.a})},ee.prototype.analogous=function(V,q){void 0===V&&(V=6),void 0===q&&(q=30);var Y=this.toHsl(),K=360/q,J=[this];for(Y.h=(Y.h-(K*V>>1)+720)%360;--V;)Y.h=(Y.h+K)%360,J.push(new ee(Y));return J},ee.prototype.complement=function(){var V=this.toHsl();return V.h=(V.h+180)%360,new ee(V)},ee.prototype.monochromatic=function(V){void 0===V&&(V=6);for(var q=this.toHsv(),Y=q.h,K=q.s,J=q.v,_e=[],Ie=1/V;V--;)_e.push(new ee({h:Y,s:K,v:J})),J=(J+Ie)%1;return _e},ee.prototype.splitcomplement=function(){var V=this.toHsl(),q=V.h;return[this,new ee({h:(q+72)%360,s:V.s,l:V.l}),new ee({h:(q+216)%360,s:V.s,l:V.l})]},ee.prototype.onBackground=function(V){var q=this.toRgb(),Y=new ee(V).toRgb();return new ee({r:Y.r+(q.r-Y.r)*q.a,g:Y.g+(q.g-Y.g)*q.a,b:Y.b+(q.b-Y.b)*q.a})},ee.prototype.triad=function(){return this.polyad(3)},ee.prototype.tetrad=function(){return this.polyad(4)},ee.prototype.polyad=function(V){for(var q=this.toHsl(),Y=q.h,K=[this],J=360/V,_e=1;_e<V;_e++)K.push(new ee({h:(Y+_e*J)%360,s:q.s,l:q.l}));return K},ee.prototype.equals=function(V){return this.toRgbString()===new ee(V).toRgbString()},ee}()},2567:(Pt,ke,T)=>{function v(V,q){(function F(V){return"string"==typeof V&&-1!==V.indexOf(".")&&1===parseFloat(V)})(V)&&(V="100%");var Y=function oe(V){return"string"==typeof V&&-1!==V.indexOf("%")}(V);return V=360===q?V:Math.min(q,Math.max(0,parseFloat(V))),Y&&(V=parseInt(String(V*q),10)/100),Math.abs(V-q)<1e-6?1:V=360===q?(V<0?V%q+q:V%q)/parseFloat(String(q)):V%q/parseFloat(String(q))}function h(V){return Math.min(1,Math.max(0,V))}function ne(V){return V=parseFloat(V),(isNaN(V)||V<0||V>1)&&(V=1),V}function he(V){return V<=1?"".concat(100*Number(V),"%"):V}function ee(V){return 1===V.length?"0"+V:String(V)}T.d(ke,{FZ:()=>ee,JX:()=>he,V2:()=>h,Yq:()=>ne,sh:()=>v})},8247:(Pt,ke,T)=>{T.d(ke,{$:()=>jo,A:()=>K,B:()=>Ie,G:()=>Ni,H:()=>_i,J:()=>Bo,L:()=>Ee,M:()=>vs,N:()=>zs,P:()=>da,Q:()=>va,R:()=>Nu,T:()=>ns,U:()=>Li,V:()=>Vi,W:()=>Hi,X:()=>_c,Y:()=>_a,Z:()=>Fn,_:()=>nl,a:()=>ls,a0:()=>wc,a1:()=>oi,a2:()=>Go,a3:()=>Ya,a4:()=>na,a5:()=>ku,a6:()=>ri,a7:()=>bi,a8:()=>is,a9:()=>Wo,aA:()=>ve,aB:()=>zn,aC:()=>Us,aD:()=>Xo,aE:()=>cn,aI:()=>Cc,aL:()=>mo,aa:()=>ss,ab:()=>bc,ac:()=>_t,af:()=>_r,ag:()=>Ko,ah:()=>D,ak:()=>Gi,al:()=>yr,an:()=>rl,ao:()=>jl,ap:()=>He,aq:()=>ae,ar:()=>tn,as:()=>at,at:()=>ml,au:()=>Es,av:()=>re,aw:()=>ct,ax:()=>Me,ay:()=>mi,az:()=>Pe,b:()=>Zr,c:()=>x,d:()=>Ce,e:()=>W,f:()=>D1,g:()=>ge,h:()=>k,i:()=>Ls,j:()=>Rt,k:()=>eu,l:()=>Ma,m:()=>xa,o:()=>V,r:()=>Co,s:()=>Bs,u:()=>Kl});var v=T(5861),h=T(2090),F=T(9681),oe=T(1877),ne=T(655),he=T(4859);const V={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},K={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ie=function J(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ie=function _e(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ue=new h.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ze=new oe.Yd("@firebase/auth");function ft(C,...p){ze.logLevel<=oe.in.ERROR&&ze.error(`Auth (${F.SDK_VERSION}): ${C}`,...p)}function at(C,...p){throw ht(C,...p)}function ct(C,...p){return ht(C,...p)}function Se(C,p,m){const M=Object.assign(Object.assign({},ie()),{[p]:m});return new h.LL("auth","Firebase",M).create(p,{appName:C.name})}function Le(C,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&at(C,"argument-error"),Se(C,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ht(C,...p){if("string"!=typeof C){const m=p[0],M=[...p.slice(1)];return M[0]&&(M[0].appName=C.name),C._errorFactory.create(m,...M)}return Ue.create(C,...p)}function Me(C,p,...m){if(!C)throw ht(p,...m)}function je(C){const p="INTERNAL ASSERTION FAILED: "+C;throw ft(p),new Error(p)}function He(C,p){C||je(p)}const Te=new Map;function Pe(C){He(C instanceof Function,"Expected a class definition");let p=Te.get(C);return p?(He(p instanceof C,"Instance stored in cache mismatched with class"),p):(p=new C,Te.set(C,p),p)}function Ke(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function pt(){return"http:"===it()||"https:"===it()}function it(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class $e{constructor(p,m){this.shortDelay=p,this.longDelay=m,He(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,h.uI)()||(0,h.b$)()}get(){return function wt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(pt()||(0,h.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function bt(C,p){He(C.emulator,"Emulator should always be set here");const{url:m}=C.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class Ct{static initialize(p,m,M){this.fetchImpl=p,m&&(this.headersImpl=m),M&&(this.responseImpl=M)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void je("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void je("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void je("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Tt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},sn=new $e(3e4,6e4);function gn(C,p){return C.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:C.tenantId}):p}function en(C,p,m,M){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,v.Z)(function*(C,p,m,M,j={}){return pr(C,j,(0,v.Z)(function*(){let te={},Ze={};M&&("GET"===p?Ze=M:te={body:JSON.stringify(M)});const It=(0,h.xO)(Object.assign({key:C.config.apiKey},Ze)).slice(1),wn=yield C._getAdditionalHeaders();return wn["Content-Type"]="application/json",C.languageCode&&(wn["X-Firebase-Locale"]=C.languageCode),Ct.fetch()(Nr(C,C.config.apiHost,m,It),Object.assign({method:p,headers:wn,referrerPolicy:"no-referrer"},te))}))})).apply(this,arguments)}function pr(C,p,m){return kn.apply(this,arguments)}function kn(){return(kn=(0,v.Z)(function*(C,p,m){C._canInitEmulator=!1;const M=Object.assign(Object.assign({},Tt),p);try{const j=new yn(C),te=yield Promise.race([m(),j.promise]);j.clearNetworkTimeout();const Ze=yield te.json();if("needConfirmation"in Ze)throw sr(C,"account-exists-with-different-credential",Ze);if(te.ok&&!("errorMessage"in Ze))return Ze;{const It=te.ok?Ze.errorMessage:Ze.error.message,[wn,On]=It.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===wn)throw sr(C,"credential-already-in-use",Ze);if("EMAIL_EXISTS"===wn)throw sr(C,"email-already-in-use",Ze);if("USER_DISABLED"===wn)throw sr(C,"user-disabled",Ze);const ar=M[wn]||wn.toLowerCase().replace(/[_\s]+/g,"-");if(On)throw Se(C,ar,On);at(C,ar)}}catch(j){if(j instanceof h.ZR)throw j;at(C,"network-request-failed")}})).apply(this,arguments)}function vn(C,p,m,M){return mr.apply(this,arguments)}function mr(){return(mr=(0,v.Z)(function*(C,p,m,M,j={}){const te=yield en(C,p,m,M,j);return"mfaPendingCredential"in te&&at(C,"multi-factor-auth-required",{_serverResponse:te}),te})).apply(this,arguments)}function Nr(C,p,m,M){const j=`${p}${m}?${M}`;return C.config.emulator?bt(C.config,j):`${C.config.apiScheme}://${j}`}class yn{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,M)=>{this.timer=setTimeout(()=>M(ct(this.auth,"network-request-failed")),sn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function sr(C,p,m){const M={appName:C.name};m.email&&(M.email=m.email),m.phoneNumber&&(M.phoneNumber=m.phoneNumber);const j=ct(C,p,M);return j.customData._tokenResponse=m,j}function gr(){return(gr=(0,v.Z)(function*(C,p){return en(C,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function jt(C,p){return br.apply(this,arguments)}function br(){return(br=(0,v.Z)(function*(C,p){return en(C,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function tr(C,p){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,v.Z)(function*(C,p){return en(C,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function Yt(C){if(C)try{const p=new Date(Number(C));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function Ye(){return(Ye=(0,v.Z)(function*(C,p=!1){const m=(0,h.m9)(C),M=yield m.getIdToken(p),j=me(M);Me(j&&j.exp&&j.auth_time&&j.iat,m.auth,"internal-error");const te="object"==typeof j.firebase?j.firebase:void 0,Ze=te?.sign_in_provider;return{claims:j,token:M,authTime:Yt(ye(j.auth_time)),issuedAtTime:Yt(ye(j.iat)),expirationTime:Yt(ye(j.exp)),signInProvider:Ze||null,signInSecondFactor:te?.sign_in_second_factor||null}})).apply(this,arguments)}function ye(C){return 1e3*Number(C)}function me(C){var p;const[m,M,j]=C.split(".");if(void 0===m||void 0===M||void 0===j)return ft("JWT malformed, contained fewer than 3 sections"),null;try{const te=(0,h.tV)(M);return te?JSON.parse(te):(ft("Failed to decode base64 JWT payload"),null)}catch(te){return ft("Caught error parsing JWT payload as JSON",null===(p=te)||void 0===p?void 0:p.toString()),null}}function rt(C,p){return an.apply(this,arguments)}function an(){return(an=(0,v.Z)(function*(C,p,m=!1){if(m)return p;try{return yield p}catch(M){throw M instanceof h.ZR&&bn(M)&&C.auth.currentUser===C&&(yield C.auth.signOut()),M}})).apply(this,arguments)}function bn({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}class jn{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const M=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),M}{this.errorBackoff=3e4;const j=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,j)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const M=this.getInterval(p);this.timerId=setTimeout((0,v.Z)(function*(){yield m.iteration()}),M)}iteration(){var p=this;return(0,v.Z)(function*(){var m;try{yield p.user.getIdToken(!0)}catch(M){return void("auth/network-request-failed"===(null===(m=M)||void 0===m?void 0:m.code)&&p.schedule(!0))}p.schedule()})()}}class $t{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yt(this.lastLoginAt),this.creationTime=Yt(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Oe(C){return et.apply(this,arguments)}function et(){return(et=(0,v.Z)(function*(C){var p;const m=C.auth,M=yield C.getIdToken(),j=yield rt(C,tr(m,{idToken:M}));Me(j?.users.length,m,"internal-error");const te=j.users[0];C._notifyReloadListener(te);const Ze=null!==(p=te.providerUserInfo)&&void 0!==p&&p.length?Mt(te.providerUserInfo):[],It=Qt(C.providerData,Ze),ar=!!C.isAnonymous&&!(C.email&&te.passwordHash||It?.length),Qr={uid:te.localId,displayName:te.displayName||null,photoURL:te.photoUrl||null,email:te.email||null,emailVerified:te.emailVerified||!1,phoneNumber:te.phoneNumber||null,tenantId:te.tenantId||null,providerData:It,metadata:new $t(te.createdAt,te.lastLoginAt),isAnonymous:ar};Object.assign(C,Qr)})).apply(this,arguments)}function St(){return(St=(0,v.Z)(function*(C){const p=(0,h.m9)(C);yield Oe(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Qt(C,p){return[...C.filter(M=>!p.some(j=>j.providerId===M.providerId)),...p]}function Mt(C){return C.map(p=>{var{providerId:m}=p,M=(0,ne._T)(p,["providerId"]);return{providerId:m,uid:M.rawId||"",displayName:M.displayName||null,email:M.email||null,phoneNumber:M.phoneNumber||null,photoURL:M.photoUrl||null}})}function vt(){return(vt=(0,v.Z)(function*(C,p){const m=yield pr(C,{},(0,v.Z)(function*(){const M=(0,h.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:j,apiKey:te}=C.config,Ze=Nr(C,j,"/v1/token",`key=${te}`),It=yield C._getAdditionalHeaders();return It["Content-Type"]="application/x-www-form-urlencoded",Ct.fetch()(Ze,{method:"POST",headers:It,body:M})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Ot{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){Me(p.idToken,"internal-error"),Me(typeof p.idToken<"u","internal-error"),Me(typeof p.refreshToken<"u","internal-error");const m="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function ot(C){const p=me(C);return Me(p,"internal-error"),Me(typeof p.exp<"u","internal-error"),Me(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var M=this;return(0,v.Z)(function*(){return Me(!M.accessToken||M.refreshToken,p,"user-token-expired"),m||!M.accessToken||M.isExpired?M.refreshToken?(yield M.refresh(p,M.refreshToken),M.accessToken):null:M.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var M=this;return(0,v.Z)(function*(){const{accessToken:j,refreshToken:te,expiresIn:Ze}=yield function At(C,p){return vt.apply(this,arguments)}(p,m);M.updateTokensAndExpiration(j,te,Number(Ze))})()}updateTokensAndExpiration(p,m,M){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*M}static fromJSON(p,m){const{refreshToken:M,accessToken:j,expirationTime:te}=m,Ze=new Ot;return M&&(Me("string"==typeof M,"internal-error",{appName:p}),Ze.refreshToken=M),j&&(Me("string"==typeof j,"internal-error",{appName:p}),Ze.accessToken=j),te&&(Me("number"==typeof te,"internal-error",{appName:p}),Ze.expirationTime=te),Ze}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Ot,this.toJSON())}_performRefresh(){return je("not implemented")}}function _n(C,p){Me("string"==typeof C||typeof C>"u","internal-error",{appName:p})}class pn{constructor(p){var{uid:m,auth:M,stsTokenManager:j}=p,te=(0,ne._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=M,this.stsTokenManager=j,this.accessToken=j.accessToken,this.displayName=te.displayName||null,this.email=te.email||null,this.emailVerified=te.emailVerified||!1,this.phoneNumber=te.phoneNumber||null,this.photoURL=te.photoURL||null,this.isAnonymous=te.isAnonymous||!1,this.tenantId=te.tenantId||null,this.providerData=te.providerData?[...te.providerData]:[],this.metadata=new $t(te.createdAt||void 0,te.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,v.Z)(function*(){const M=yield rt(m,m.stsTokenManager.getToken(m.auth,p));return Me(M,m.auth,"internal-error"),m.accessToken!==M&&(m.accessToken=M,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),M})()}getIdTokenResult(p){return function Xt(C){return Ye.apply(this,arguments)}(this,p)}reload(){return function Nt(C){return St.apply(this,arguments)}(this)}_assign(p){this!==p&&(Me(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new pn(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){Me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var M=this;return(0,v.Z)(function*(){let j=!1;p.idToken&&p.idToken!==M.stsTokenManager.accessToken&&(M.stsTokenManager.updateFromServerResponse(p),j=!0),m&&(yield Oe(M)),yield M.auth._persistUserIfCurrent(M),j&&M.auth._notifyListenersIfCurrent(M)})()}delete(){var p=this;return(0,v.Z)(function*(){const m=yield p.getIdToken();return yield rt(p,function Vr(C,p){return gr.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var M,j,te,Ze,It,wn,On,ar;const Qr=null!==(M=m.displayName)&&void 0!==M?M:void 0,Ms=null!==(j=m.email)&&void 0!==j?j:void 0,rc=null!==(te=m.phoneNumber)&&void 0!==te?te:void 0,Hu=null!==(Ze=m.photoURL)&&void 0!==Ze?Ze:void 0,k1=null!==(It=m.tenantId)&&void 0!==It?It:void 0,tu=null!==(wn=m._redirectEventId)&&void 0!==wn?wn:void 0,O4=null!==(On=m.createdAt)&&void 0!==On?On:void 0,N4=null!==(ar=m.lastLoginAt)&&void 0!==ar?ar:void 0,{uid:ic,emailVerified:P1,isAnonymous:nu,providerData:Bu,stsTokenManager:Yu}=m;Me(ic&&Yu,p,"internal-error");const O1=Ot.fromJSON(this.name,Yu);Me("string"==typeof ic,p,"internal-error"),_n(Qr,p.name),_n(Ms,p.name),Me("boolean"==typeof P1,p,"internal-error"),Me("boolean"==typeof nu,p,"internal-error"),_n(rc,p.name),_n(Hu,p.name),_n(k1,p.name),_n(tu,p.name),_n(O4,p.name),_n(N4,p.name);const Mr=new pn({uid:ic,auth:p,email:Ms,emailVerified:P1,displayName:Qr,isAnonymous:nu,photoURL:Hu,phoneNumber:rc,tenantId:k1,stsTokenManager:O1,createdAt:O4,lastLoginAt:N4});return Bu&&Array.isArray(Bu)&&(Mr.providerData=Bu.map(Yd=>Object.assign({},Yd))),tu&&(Mr._redirectEventId=tu),Mr}static _fromIdTokenResponse(p,m,M=!1){return(0,v.Z)(function*(){const j=new Ot;j.updateFromServerResponse(m);const te=new pn({uid:m.localId,auth:p,stsTokenManager:j,isAnonymous:M});return yield Oe(te),te})()}}const Ee=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,v.Z)(function*(){return!0})()}_set(m,M){var j=this;return(0,v.Z)(function*(){j.storage[m]=M})()}_get(m){var M=this;return(0,v.Z)(function*(){const j=M.storage[m];return void 0===j?null:j})()}_remove(m){var M=this;return(0,v.Z)(function*(){delete M.storage[m]})()}_addListener(m,M){}_removeListener(m,M){}}return C.type="NONE",C})();function ve(C,p,m){return`firebase:${C}:${p}:${m}`}class Ae{constructor(p,m,M){this.persistence=p,this.auth=m,this.userKey=M;const{config:j,name:te}=this.auth;this.fullUserKey=ve(this.userKey,j.apiKey,te),this.fullPersistenceKey=ve("persistence",j.apiKey,te),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,v.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?pn._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,v.Z)(function*(){if(m.persistence===p)return;const M=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,M?m.setCurrentUser(M):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,M="authUser"){return(0,v.Z)(function*(){if(!m.length)return new Ae(Pe(Ee),p,M);const j=(yield Promise.all(m.map(function(){var On=(0,v.Z)(function*(ar){if(yield ar._isAvailable())return ar});return function(ar){return On.apply(this,arguments)}}()))).filter(On=>On);let te=j[0]||Pe(Ee);const Ze=ve(M,p.config.apiKey,p.name);let It=null;for(const On of m)try{const ar=yield On._get(Ze);if(ar){const Qr=pn._fromJSON(p,ar);On!==te&&(It=Qr),te=On;break}}catch{}const wn=j.filter(On=>On._shouldAllowMigration);return te._shouldAllowMigration&&wn.length?(te=wn[0],It&&(yield te._set(Ze,It.toJSON())),yield Promise.all(m.map(function(){var On=(0,v.Z)(function*(ar){if(ar!==te)try{yield ar._remove(Ze)}catch{}});return function(ar){return On.apply(this,arguments)}}())),new Ae(te,p,M)):new Ae(te,p,M)})()}}function fe(C){const p=C.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Dt(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(G(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(nn(p))return"Blackberry";if(de(p))return"Webos";if(ce(p))return"Safari";if((p.includes("chrome/")||We(p))&&!p.includes("edge/"))return"Chrome";if(tn(p))return"Android";{const M=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===M?.length)return M[1]}return"Other"}function G(C=(0,h.z$)()){return/firefox\//i.test(C)}function ce(C=(0,h.z$)()){const p=C.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function We(C=(0,h.z$)()){return/crios\//i.test(C)}function Dt(C=(0,h.z$)()){return/iemobile/i.test(C)}function tn(C=(0,h.z$)()){return/android/i.test(C)}function nn(C=(0,h.z$)()){return/blackberry/i.test(C)}function de(C=(0,h.z$)()){return/webos/i.test(C)}function ae(C=(0,h.z$)()){return/iphone|ipad|ipod/i.test(C)||/macintosh/i.test(C)&&/mobile/i.test(C)}function re(C=(0,h.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}function Wt(C=(0,h.z$)()){return ae(C)||tn(C)||de(C)||nn(C)||/windows phone/i.test(C)||Dt(C)}function Ln(C,p=[]){let m;switch(C){case"Browser":m=fe((0,h.z$)());break;case"Worker":m=`${fe((0,h.z$)())}-${C}`;break;default:m=C}const M=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${F.SDK_VERSION}/${M}`}class Sr{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const M=te=>new Promise((Ze,It)=>{try{Ze(p(te))}catch(wn){It(wn)}});M.onAbort=m,this.queue.push(M);const j=this.queue.length-1;return()=>{this.queue[j]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,v.Z)(function*(){var M;if(m.auth.currentUser===p)return;const j=[];try{for(const te of m.queue)yield te(p),te.onAbort&&j.push(te.onAbort)}catch(te){j.reverse();for(const Ze of j)try{Ze()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null===(M=te)||void 0===M?void 0:M.message})}})()}}class Dr{constructor(p,m,M){this.app=p,this.heartbeatServiceProvider=m,this.config=M,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ji(this),this.idTokenSubscription=new ji(this),this.beforeStateQueue=new Sr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ue,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=M.sdkClientVersion}_initializeWithPersistence(p,m){var M=this;return m&&(this._popupRedirectResolver=Pe(m)),this._initializationPromise=this.queue((0,v.Z)(function*(){var j,te;if(!M._deleted&&(M.persistenceManager=yield Ae.create(M,p),!M._deleted)){if(null!==(j=M._popupRedirectResolver)&&void 0!==j&&j._shouldInitProactively)try{yield M._popupRedirectResolver._initialize(M)}catch{}yield M.initializeCurrentUser(m),M.lastNotifiedUid=(null===(te=M.currentUser)||void 0===te?void 0:te.uid)||null,!M._deleted&&(M._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,v.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUser(p){var m=this;return(0,v.Z)(function*(){var M;const j=yield m.assertedPersistence.getCurrentUser();let te=j,Ze=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const It=null===(M=m.redirectUser)||void 0===M?void 0:M._redirectEventId,wn=te?._redirectEventId,On=yield m.tryRedirectSignIn(p);(!It||It===wn)&&On?.user&&(te=On.user,Ze=!0)}if(!te)return m.directlySetCurrentUser(null);if(!te._redirectEventId){if(Ze)try{yield m.beforeStateQueue.runMiddleware(te)}catch(It){te=j,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(It))}return te?m.reloadAndSetCurrentUserOrClear(te):m.directlySetCurrentUser(null)}return Me(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===te._redirectEventId?m.directlySetCurrentUser(te):m.reloadAndSetCurrentUserOrClear(te)})()}tryRedirectSignIn(p){var m=this;return(0,v.Z)(function*(){let M=null;try{M=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch{yield m._setRedirectUser(null)}return M})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,v.Z)(function*(){var M;try{yield Oe(p)}catch(j){if("auth/network-request-failed"!==(null===(M=j)||void 0===M?void 0:M.code))return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function Bt(){if(typeof navigator>"u")return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var p=this;return(0,v.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,v.Z)(function*(){const M=p?(0,h.m9)(p):null;return M&&Me(M.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(M&&M._clone(m))})()}_updateCurrentUser(p,m=!1){var M=this;return(0,v.Z)(function*(){if(!M._deleted)return p&&Me(M.tenantId===p.tenantId,M,"tenant-id-mismatch"),m||(yield M.beforeStateQueue.runMiddleware(p)),M.queue((0,v.Z)(function*(){yield M.directlySetCurrentUser(p),M.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,v.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var m=this;return this.queue((0,v.Z)(function*(){yield m.assertedPersistence.setPersistence(Pe(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new h.LL("auth","Firebase",p())}onAuthStateChanged(p,m,M){return this.registerStateListener(this.authStateSubscription,p,m,M)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,M){return this.registerStateListener(this.idTokenSubscription,p,m,M)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var M=this;return(0,v.Z)(function*(){const j=yield M.getOrInitRedirectPersistenceManager(m);return null===p?j.removeCurrentUser():j.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,v.Z)(function*(){if(!m.redirectPersistenceManager){const M=p&&Pe(p)||m._popupRedirectResolver;Me(M,m,"argument-error"),m.redirectPersistenceManager=yield Ae.create(m,[Pe(M._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,v.Z)(function*(){var M,j;return m._isInitialized&&(yield m.queue((0,v.Z)(function*(){}))),(null===(M=m._currentUser)||void 0===M?void 0:M._redirectEventId)===p?m._currentUser:(null===(j=m.redirectUser)||void 0===j?void 0:j._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,v.Z)(function*(){if(p===m.currentUser)return m.queue((0,v.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const M=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==M&&(this.lastNotifiedUid=M,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,M,j){if(this._deleted)return()=>{};const te="function"==typeof m?m:m.next.bind(m),Ze=this._isInitialized?Promise.resolve():this._initializationPromise;return Me(Ze,this,"internal-error"),Ze.then(()=>te(this.currentUser)),"function"==typeof m?p.addObserver(m,M,j):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,v.Z)(function*(){m.currentUser&&m.currentUser!==p&&m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh(),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return Me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Ln(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,v.Z)(function*(){var m;const M={"X-Client-Version":p.clientVersion};p.app.options.appId&&(M["X-Firebase-gmpid"]=p.app.options.appId);const j=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return j&&(M["X-Firebase-Client"]=j),M})()}}function cn(C){return(0,h.m9)(C)}class ji{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,h.ne)(m=>this.observer=m)}get next(){return Me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ni(C,p,m){const M=cn(C);Me(M._canInitEmulator,M,"emulator-config-failed"),Me(/^https?:\/\//.test(p),M,"invalid-emulator-scheme");const j=!!m?.disableWarnings,te=Ro(p),{host:Ze,port:It}=function Fi(C){const p=Ro(C),m=/(\/\/)?([^?#/]+)/.exec(C.substr(p.length));if(!m)return{host:"",port:null};const M=m[2].split("@").pop()||"",j=/^(\[[^\]]+\])(:|$)/.exec(M);if(j){const te=j[1];return{host:te,port:Ur(M.substr(te.length+1))}}{const[te,Ze]=M.split(":");return{host:te,port:Ur(Ze)}}}(p);M.config.emulator={url:`${te}//${Ze}${null===It?"":`:${It}`}/`},M.settings.appVerificationDisabledForTesting=!0,M.emulatorConfig=Object.freeze({host:Ze,port:It,protocol:te.replace(":",""),options:Object.freeze({disableWarnings:j})}),j||function Lo(){function C(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",C):C())}()}function Ro(C){const p=C.indexOf(":");return p<0?"":C.substr(0,p+1)}function Ur(C){if(!C)return null;const p=Number(C);return isNaN(p)?null:p}class _i{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return je("not implemented")}_getIdTokenResponse(p){return je("not implemented")}_linkToIdToken(p,m){return je("not implemented")}_getReauthenticationResolver(p){return je("not implemented")}}function ni(C,p){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,v.Z)(function*(C,p){return en(C,"POST","/v1/accounts:resetPassword",gn(C,p))})).apply(this,arguments)}function xo(C,p){return Er.apply(this,arguments)}function Er(){return(Er=(0,v.Z)(function*(C,p){return en(C,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function La(C,p){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,v.Z)(function*(C,p){return en(C,"POST","/v1/accounts:update",gn(C,p))})).apply(this,arguments)}function po(){return(po=(0,v.Z)(function*(C,p){return vn(C,"POST","/v1/accounts:signInWithPassword",gn(C,p))})).apply(this,arguments)}function Ho(C,p){return Be.apply(this,arguments)}function Be(){return(Be=(0,v.Z)(function*(C,p){return en(C,"POST","/v1/accounts:sendOobCode",gn(C,p))})).apply(this,arguments)}function R(C,p){return B.apply(this,arguments)}function B(){return(B=(0,v.Z)(function*(C,p){return Ho(C,p)})).apply(this,arguments)}function le(C,p){return De.apply(this,arguments)}function De(){return(De=(0,v.Z)(function*(C,p){return Ho(C,p)})).apply(this,arguments)}function qe(C,p){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,v.Z)(function*(C,p){return Ho(C,p)})).apply(this,arguments)}function dn(C,p){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,v.Z)(function*(C,p){return Ho(C,p)})).apply(this,arguments)}function Nn(){return(Nn=(0,v.Z)(function*(C,p){return vn(C,"POST","/v1/accounts:signInWithEmailLink",gn(C,p))})).apply(this,arguments)}function li(){return(li=(0,v.Z)(function*(C,p){return vn(C,"POST","/v1/accounts:signInWithEmailLink",gn(C,p))})).apply(this,arguments)}class Wr extends _i{constructor(p,m,M,j=null){super("password",M),this._email=p,this._password=m,this._tenantId=j}static _fromEmailAndPassword(p,m){return new Wr(p,m,"password")}static _fromEmailAndCode(p,m,M=null){return new Wr(p,m,"emailLink",M)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,v.Z)(function*(){switch(m.signInMethod){case"password":return function fo(C,p){return po.apply(this,arguments)}(p,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function mn(C,p){return Nn.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:at(p,"internal-error")}})()}_linkToIdToken(p,m){var M=this;return(0,v.Z)(function*(){switch(M.signInMethod){case"password":return xo(p,{idToken:m,returnSecureToken:!0,email:M._email,password:M._password});case"emailLink":return function ur(C,p){return li.apply(this,arguments)}(p,{idToken:m,email:M._email,oobCode:M._password});default:at(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Jr(C,p){return jr.apply(this,arguments)}function jr(){return(jr=(0,v.Z)(function*(C,p){return vn(C,"POST","/v1/accounts:signInWithIdp",gn(C,p))})).apply(this,arguments)}class Bo extends _i{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new Bo(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):at("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:M,signInMethod:j}=m,te=(0,ne._T)(m,["providerId","signInMethod"]);if(!M||!j)return null;const Ze=new Bo(M,j);return Ze.idToken=te.idToken||void 0,Ze.accessToken=te.accessToken||void 0,Ze.secret=te.secret,Ze.nonce=te.nonce,Ze.pendingToken=te.pendingToken||null,Ze}_getIdTokenResponse(p){return Jr(p,this.buildRequest())}_linkToIdToken(p,m){const M=this.buildRequest();return M.idToken=m,Jr(p,M)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Jr(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,h.xO)(m)}return p}}function Zc(C,p){return gc.apply(this,arguments)}function gc(){return(gc=(0,v.Z)(function*(C,p){return en(C,"POST","/v1/accounts:sendVerificationCode",gn(C,p))})).apply(this,arguments)}function ms(){return(ms=(0,v.Z)(function*(C,p){return vn(C,"POST","/v1/accounts:signInWithPhoneNumber",gn(C,p))})).apply(this,arguments)}function vc(){return(vc=(0,v.Z)(function*(C,p){const m=yield vn(C,"POST","/v1/accounts:signInWithPhoneNumber",gn(C,p));if(m.temporaryProof)throw sr(C,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Xc={USER_NOT_FOUND:"user-not-found"};function el(){return(el=(0,v.Z)(function*(C,p){return vn(C,"POST","/v1/accounts:signInWithPhoneNumber",gn(C,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Xc)})).apply(this,arguments)}class es extends _i{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new es({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new es({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function Qc(C,p){return ms.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function gs(C,p){return vc.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Jc(C,p){return el.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:M,verificationCode:j}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:M,code:j}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:M,phoneNumber:j,temporaryProof:te}=p;return M||m||j||te?new es({verificationId:m,verificationCode:M,phoneNumber:j,temporaryProof:te}):null}}class Ri{constructor(p){var m,M,j,te,Ze,It;const wn=(0,h.zd)((0,h.pd)(p)),On=null!==(m=wn.apiKey)&&void 0!==m?m:null,ar=null!==(M=wn.oobCode)&&void 0!==M?M:null,Qr=function ga(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(j=wn.mode)&&void 0!==j?j:null);Me(On&&ar&&Qr,"argument-error"),this.apiKey=On,this.operation=Qr,this.code=ar,this.continueUrl=null!==(te=wn.continueUrl)&&void 0!==te?te:null,this.languageCode=null!==(Ze=wn.languageCode)&&void 0!==Ze?Ze:null,this.tenantId=null!==(It=wn.tenantId)&&void 0!==It?It:null}static parseLink(p){const m=function Qs(C){const p=(0,h.zd)((0,h.pd)(C)).link,m=p?(0,h.zd)((0,h.pd)(p)).deep_link_id:null,M=(0,h.zd)((0,h.pd)(C)).deep_link_id;return(M?(0,h.zd)((0,h.pd)(M)).link:null)||M||m||p||C}(p);try{return new Ri(m)}catch{return null}}}let vs=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(m,M){return Wr._fromEmailAndPassword(m,M)}static credentialWithLink(m,M){const j=Ri.parseLink(M);return Me(j,"argument-error"),Wr._fromEmailAndCode(m,j.code,j.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class ui{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class ts extends ui{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Li extends ts{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return Me("providerId"in m&&"signInMethod"in m,"argument-error"),Bo._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return Me(p.idToken||p.accessToken,"argument-error"),Bo._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Li.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Li.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:M,oauthTokenSecret:j,pendingToken:te,nonce:Ze,providerId:It}=p;if(!M&&!j&&!m&&!te||!It)return null;try{return new Li(It)._credential({idToken:m,accessToken:M,nonce:Ze,pendingToken:te})}catch{return null}}}let zs=(()=>{class C extends ts{constructor(){super("facebook.com")}static credential(m){return Bo._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return C.credentialFromTaggedObject(m)}static credentialFromError(m){return C.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return C.credential(m.oauthAccessToken)}catch{return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),va=(()=>{class C extends ts{constructor(){super("google.com"),this.addScope("profile")}static credential(m,M){return Bo._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:M})}static credentialFromResult(m){return C.credentialFromTaggedObject(m)}static credentialFromError(m){return C.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:M,oauthAccessToken:j}=m;if(!M&&!j)return null;try{return C.credential(M,j)}catch{return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),ns=(()=>{class C extends ts{constructor(){super("github.com")}static credential(m){return Bo._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return C.credentialFromTaggedObject(m)}static credentialFromError(m){return C.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return C.credential(m.oauthAccessToken)}catch{return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class mo extends _i{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return Jr(p,this.buildRequest())}_linkToIdToken(p,m){const M=this.buildRequest();return M.idToken=m,Jr(p,M)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Jr(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:M,signInMethod:j,pendingToken:te}=m;return M&&j&&te&&M===j?new mo(M,te):null}static _create(p,m){return new mo(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Vi extends ui{constructor(p){Me(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Vi.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Vi.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=mo.fromJSON(p);return Me(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:M}=p;if(!m||!M)return null;try{return mo._create(M,m)}catch{return null}}}let Hi=(()=>{class C extends ts{constructor(){super("twitter.com")}static credential(m,M){return Bo._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:M})}static credentialFromResult(m){return C.credentialFromTaggedObject(m)}static credentialFromError(m){return C.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:M,oauthTokenSecret:j}=m;if(!M||!j)return null;try{return C.credential(M,j)}catch{return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function $i(C,p){return ro.apply(this,arguments)}function ro(){return(ro=(0,v.Z)(function*(C,p){return vn(C,"POST","/v1/accounts:signUp",gn(C,p))})).apply(this,arguments)}class io{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,M,j=!1){return(0,v.Z)(function*(){const te=yield pn._fromIdTokenResponse(p,M,j),Ze=ys(M);return new io({user:te,providerId:Ze,_tokenResponse:M,operationType:m})})()}static _forOperation(p,m,M){return(0,v.Z)(function*(){yield p._updateTokensIfNecessary(M,!0);const j=ys(M);return new io({user:p,providerId:j,_tokenResponse:M,operationType:m})})()}}function ys(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function _c(C){return ya.apply(this,arguments)}function ya(){return(ya=(0,v.Z)(function*(C){var p;const m=cn(C);if(yield m._initializationPromise,null!==(p=m.currentUser)&&void 0!==p&&p.isAnonymous)return new io({user:m.currentUser,providerId:null,operationType:"signIn"});const M=yield $i(m,{returnSecureToken:!0}),j=yield io._fromIdTokenResponse(m,"signIn",M,!0);return yield m._updateCurrentUser(j.user),j})).apply(this,arguments)}class Fr extends h.ZR{constructor(p,m,M,j){var te;super(m.code,m.message),this.operationType=M,this.user=j,Object.setPrototypeOf(this,Fr.prototype),this.customData={appName:p.name,tenantId:null!==(te=p.tenantId)&&void 0!==te?te:void 0,_serverResponse:m.customData._serverResponse,operationType:M}}static _fromErrorAndOperation(p,m,M,j){return new Fr(p,m,M,j)}}function Ha(C,p,m,M){return("reauthenticate"===p?m._getReauthenticationResolver(C):m._getIdTokenResponse(C)).catch(te=>{throw"auth/multi-factor-auth-required"===te.code?Fr._fromErrorAndOperation(C,te,p,M):te})}function tl(C){return new Set(C.map(({providerId:p})=>p).filter(p=>!!p))}function Gi(C,p){return ei.apply(this,arguments)}function ei(){return(ei=(0,v.Z)(function*(C,p){const m=(0,h.m9)(C);yield di(!0,m,p);const{providerUserInfo:M}=yield jt(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),j=tl(M||[]);return m.providerData=m.providerData.filter(te=>j.has(te.providerId)),j.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function rs(C,p){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,v.Z)(function*(C,p,m=!1){const M=yield rt(C,p._linkToIdToken(C.auth,yield C.getIdToken()),m);return io._forOperation(C,"link",M)})).apply(this,arguments)}function di(C,p,m){return vr.apply(this,arguments)}function vr(){return(vr=(0,v.Z)(function*(C,p,m){yield Oe(p);const j=!1===C?"provider-already-linked":"no-such-provider";Me(tl(p.providerData).has(m)===C,p.auth,j)})).apply(this,arguments)}function _s(C,p){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,v.Z)(function*(C,p,m=!1){var M;const{auth:j}=C,te="reauthenticate";try{const Ze=yield rt(C,Ha(j,te,p,C),m);Me(Ze.idToken,j,"internal-error");const It=me(Ze.idToken);Me(It,j,"internal-error");const{sub:wn}=It;return Me(C.uid===wn,j,"user-mismatch"),io._forOperation(C,te,Ze)}catch(Ze){throw"auth/user-not-found"===(null===(M=Ze)||void 0===M?void 0:M.code)&&at(j,"user-mismatch"),Ze}})).apply(this,arguments)}function Ba(C,p){return go.apply(this,arguments)}function go(){return(go=(0,v.Z)(function*(C,p,m=!1){const M="signIn",j=yield Ha(C,M,p),te=yield io._fromIdTokenResponse(C,M,j);return m||(yield C._updateCurrentUser(te.user)),te})).apply(this,arguments)}function _a(C,p){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,v.Z)(function*(C,p){return Ba(cn(C),p)})).apply(this,arguments)}function Fn(C,p){return Js.apply(this,arguments)}function Js(){return(Js=(0,v.Z)(function*(C,p){const m=(0,h.m9)(C);return yield di(!1,m,p.providerId),rs(m,p)})).apply(this,arguments)}function nl(C,p){return ea.apply(this,arguments)}function ea(){return(ea=(0,v.Z)(function*(C,p){return _s((0,h.m9)(C),p)})).apply(this,arguments)}function As(C,p){return wi.apply(this,arguments)}function wi(){return(wi=(0,v.Z)(function*(C,p){return vn(C,"POST","/v1/accounts:signInWithCustomToken",gn(C,p))})).apply(this,arguments)}function jo(C,p){return $o.apply(this,arguments)}function $o(){return($o=(0,v.Z)(function*(C,p){const m=cn(C),M=yield As(m,{token:p,returnSecureToken:!0}),j=yield io._fromIdTokenResponse(m,"signIn",M);return yield m._updateCurrentUser(j.user),j})).apply(this,arguments)}class ws{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?kt._fromServerResponse(p,m):at(p,"internal-error")}}class kt extends ws{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new kt(m)}}function ir(C,p,m){var M;Me((null===(M=m.url)||void 0===M?void 0:M.length)>0,C,"invalid-continue-uri"),Me(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(Me(m.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(Me(m.android.packageName.length>0,C,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function wc(C,p,m){return ta.apply(this,arguments)}function ta(){return(ta=(0,v.Z)(function*(C,p,m){const M=(0,h.m9)(C),j={requestType:"PASSWORD_RESET",email:p};m&&ir(M,j,m),yield le(M,j)})).apply(this,arguments)}function oi(C,p,m){return oo.apply(this,arguments)}function oo(){return(oo=(0,v.Z)(function*(C,p,m){yield ni((0,h.m9)(C),{oobCode:p,newPassword:m})})).apply(this,arguments)}function Go(C,p){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,v.Z)(function*(C,p){yield La((0,h.m9)(C),{oobCode:p})})).apply(this,arguments)}function Ya(C,p){return so.apply(this,arguments)}function so(){return(so=(0,v.Z)(function*(C,p){const m=(0,h.m9)(C),M=yield ni(m,{oobCode:p}),j=M.requestType;switch(Me(j,m,"internal-error"),j){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Me(M.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Me(M.mfaInfo,m,"internal-error");default:Me(M.email,m,"internal-error")}let te=null;return M.mfaInfo&&(te=ws._fromServerResponse(cn(m),M.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.newEmail:M.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.email:M.newEmail)||null,multiFactorInfo:te},operation:j}})).apply(this,arguments)}function na(C,p){return wa.apply(this,arguments)}function wa(){return(wa=(0,v.Z)(function*(C,p){const{data:m}=yield Ya((0,h.m9)(C),p);return m.email})).apply(this,arguments)}function ku(C,p,m){return ks.apply(this,arguments)}function ks(){return(ks=(0,v.Z)(function*(C,p,m){const M=cn(C),j=yield $i(M,{returnSecureToken:!0,email:p,password:m}),te=yield io._fromIdTokenResponse(M,"signIn",j);return yield M._updateCurrentUser(te.user),te})).apply(this,arguments)}function ri(C,p,m){return _a((0,h.m9)(C),vs.credential(p,m))}function bi(C,p,m){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,v.Z)(function*(C,p,m){const M=(0,h.m9)(C),j={requestType:"EMAIL_SIGNIN",email:p};Me(m.handleCodeInApp,M,"argument-error"),m&&ir(M,j,m),yield qe(M,j)})).apply(this,arguments)}function is(C,p){return"EMAIL_SIGNIN"===Ri.parseLink(p)?.operation}function Wo(C,p,m){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,v.Z)(function*(C,p,m){const M=(0,h.m9)(C),j=vs.credentialWithLink(p,m||Ke());return Me(j._tenantId===(M.tenantId||null),M,"tenant-id-mismatch"),_a(M,j)})).apply(this,arguments)}function os(C,p){return Io.apply(this,arguments)}function Io(){return(Io=(0,v.Z)(function*(C,p){return en(C,"POST","/v1/accounts:createAuthUri",gn(C,p))})).apply(this,arguments)}function ss(C,p){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,v.Z)(function*(C,p){const M={identifier:p,continueUri:pt()?Ke():"http://localhost"},{signinMethods:j}=yield os((0,h.m9)(C),M);return j||[]})).apply(this,arguments)}function bc(C,p){return ra.apply(this,arguments)}function ra(){return(ra=(0,v.Z)(function*(C,p){const m=(0,h.m9)(C),j={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};p&&ir(m.auth,j,p);const{email:te}=yield R(m.auth,j);te!==C.email&&(yield C.reload())})).apply(this,arguments)}function _t(C,p,m){return vo.apply(this,arguments)}function vo(){return(vo=(0,v.Z)(function*(C,p,m){const M=(0,h.m9)(C),te={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:p};m&&ir(M.auth,te,m);const{email:Ze}=yield dn(M.auth,te);Ze!==C.email&&(yield C.reload())})).apply(this,arguments)}function Os(C,p){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,v.Z)(function*(C,p){return en(C,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function _r(C,p){return bs.apply(this,arguments)}function bs(){return(bs=(0,v.Z)(function*(C,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const M=(0,h.m9)(C),te={idToken:yield M.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},Ze=yield rt(M,Os(M.auth,te));M.displayName=Ze.displayName||null,M.photoURL=Ze.photoUrl||null;const It=M.providerData.find(({providerId:wn})=>"password"===wn);It&&(It.displayName=M.displayName,It.photoURL=M.photoURL),yield M._updateTokensIfNecessary(Ze)})).apply(this,arguments)}function Ko(C,p){return H((0,h.m9)(C),p,null)}function D(C,p){return H((0,h.m9)(C),null,p)}function H(C,p,m){return I.apply(this,arguments)}function I(){return(I=(0,v.Z)(function*(C,p,m){const{auth:M}=C,te={idToken:yield C.getIdToken(),returnSecureToken:!0};p&&(te.email=p),m&&(te.password=m);const Ze=yield rt(C,xo(M,te));yield C._updateTokensIfNecessary(Ze,!0)})).apply(this,arguments)}class we{constructor(p,m,M={}){this.isNewUser=p,this.providerId=m,this.profile=M}}class st extends we{constructor(p,m,M,j){super(p,m,M),this.username=j}}class yt extends we{constructor(p,m){super(p,"facebook.com",m)}}class hn extends st{constructor(p,m){super(p,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class dr extends we{constructor(p,m){super(p,"google.com",m)}}class Cr extends st{constructor(p,m,M){super(p,"twitter.com",m,M)}}function yr(C){const{user:p,_tokenResponse:m}=C;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Q(C){var p,m;if(!C)return null;const{providerId:M}=C,j=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},te=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!M&&C?.idToken){const Ze=null===(m=null===(p=me(C.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(Ze)return new we(te,"anonymous"!==Ze&&"custom"!==Ze?Ze:null)}if(!M)return null;switch(M){case"facebook.com":return new yt(te,j);case"github.com":return new hn(te,j);case"google.com":return new dr(te,j);case"twitter.com":return new Cr(te,j,C.screenName||null);case"custom":case"anonymous":return new we(te,null);default:return new we(te,M,j)}}(m)}class qi{constructor(p,m,M){this.type=p,this.credential=m,this.auth=M}static _fromIdtoken(p,m){return new qi("enroll",p,m)}static _fromMfaPendingCredential(p){return new qi("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,M;if(p?.multiFactorSession){if(null!==(m=p.multiFactorSession)&&void 0!==m&&m.pendingCredential)return qi._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(M=p.multiFactorSession)&&void 0!==M&&M.idToken)return qi._fromIdtoken(p.multiFactorSession.idToken)}return null}}class _o{constructor(p,m,M){this.session=p,this.hints=m,this.signInResolver=M}static _fromError(p,m){const M=cn(p),j=m.customData._serverResponse,te=(j.mfaInfo||[]).map(It=>ws._fromServerResponse(M,It));Me(j.mfaPendingCredential,M,"internal-error");const Ze=qi._fromMfaPendingCredential(j.mfaPendingCredential);return new _o(Ze,te,function(){var It=(0,v.Z)(function*(wn){const On=yield wn._process(M,Ze);delete j.mfaInfo,delete j.mfaPendingCredential;const ar=Object.assign(Object.assign({},j),{idToken:On.idToken,refreshToken:On.refreshToken});switch(m.operationType){case"signIn":const Qr=yield io._fromIdTokenResponse(M,m.operationType,ar);return yield M._updateCurrentUser(Qr.user),Qr;case"reauthenticate":return Me(m.user,M,"internal-error"),io._forOperation(m.user,m.operationType,ar);default:at(M,"internal-error")}});return function(wn){return It.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,v.Z)(function*(){return m.signInResolver(p)})()}}function rl(C,p){var m;const M=(0,h.m9)(C),j=p;return Me(p.customData.operationType,M,"argument-error"),Me(null===(m=j.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,M,"argument-error"),_o._fromError(M,j)}function qr(C,p){return en(C,"POST","/v2/accounts/mfaEnrollment:start",gn(C,p))}class Ua{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(M=>ws._fromServerResponse(p.auth,M)))})}static _fromUser(p){return new Ua(p)}getSession(){var p=this;return(0,v.Z)(function*(){return qi._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,m){var M=this;return(0,v.Z)(function*(){const j=p,te=yield M.getSession(),Ze=yield rt(M.user,j._process(M.user.auth,te,m));return yield M.user._updateTokensIfNecessary(Ze),M.user.reload()})()}unenroll(p){var m=this;return(0,v.Z)(function*(){var M;const j="string"==typeof p?p:p.uid,te=yield m.user.getIdToken(),Ze=yield rt(m.user,function cs(C,p){return en(C,"POST","/v2/accounts/mfaEnrollment:withdraw",gn(C,p))}(m.user.auth,{idToken:te,mfaEnrollmentId:j}));m.enrolledFactors=m.enrolledFactors.filter(({uid:It})=>It!==j),yield m.user._updateTokensIfNecessary(Ze);try{yield m.user.reload()}catch(It){if("auth/user-token-expired"!==(null===(M=It)||void 0===M?void 0:M.code))throw It}})()}}const Ul=new WeakMap;function jl(C){const p=(0,h.m9)(C);return Ul.has(p)||Ul.set(p,Ua._fromUser(p)),Ul.get(p)}const wo="__sak";class ba{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(wo,"1"),this.storage.removeItem(wo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Zr=(()=>{class C extends ba{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,M)=>this.onStorageEvent(m,M),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ja(){const C=(0,h.z$)();return ce(C)||ae(C)}()&&function Sn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Wt(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const M of Object.keys(this.listeners)){const j=this.storage.getItem(M),te=this.localCache[M];j!==te&&m(M,te,j)}}onStorageEvent(m,M=!1){if(!m.key)return void this.forAllChangedKeys((It,wn,On)=>{this.notifyListeners(It,On)});const j=m.key;if(M?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const It=this.storage.getItem(j);if(m.newValue!==It)null!==m.newValue?this.storage.setItem(j,m.newValue):this.storage.removeItem(j);else if(this.localCache[j]===m.newValue&&!M)return}const te=()=>{const It=this.storage.getItem(j);!M&&this.localCache[j]===It||this.notifyListeners(j,It)},Ze=this.storage.getItem(j);!function Je(){return(0,h.w1)()&&10===document.documentMode}()||Ze===m.newValue||m.newValue===m.oldValue?te():setTimeout(te,10)}notifyListeners(m,M){this.localCache[m]=M;const j=this.listeners[m];if(j)for(const te of Array.from(j))te(M&&JSON.parse(M))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,M,j)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:M,newValue:j}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,M){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(M)}_removeListener(m,M){this.listeners[m]&&(this.listeners[m].delete(M),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,M){var j=()=>super._set,te=this;return(0,v.Z)(function*(){yield j().call(te,m,M),te.localCache[m]=JSON.stringify(M)})()}_get(m){var M=()=>super._get,j=this;return(0,v.Z)(function*(){const te=yield M().call(j,m);return j.localCache[m]=JSON.stringify(te),te})()}_remove(m){var M=()=>super._remove,j=this;return(0,v.Z)(function*(){yield M().call(j,m),delete j.localCache[m]})()}}return C.type="LOCAL",C})(),ls=(()=>{class C extends ba{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,M){}_removeListener(m,M){}}return C.type="SESSION",C})();let Ga=(()=>{class C{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const M=this.receivers.find(te=>te.isListeningto(m));if(M)return M;const j=new C(m);return this.receivers.push(j),j}isListeningto(m){return this.eventTarget===m}handleEvent(m){var M=this;return(0,v.Z)(function*(){const j=m,{eventId:te,eventType:Ze,data:It}=j.data,wn=M.handlersMap[Ze];if(!wn?.size)return;j.ports[0].postMessage({status:"ack",eventId:te,eventType:Ze});const On=Array.from(wn).map(function(){var Qr=(0,v.Z)(function*(Ms){return Ms(j.origin,It)});return function(Ms){return Qr.apply(this,arguments)}}()),ar=yield function $a(C){return Promise.all(C.map(function(){var p=(0,v.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(M){return{fulfilled:!1,reason:M}}});return function(m){return p.apply(this,arguments)}}()))}(On);j.ports[0].postMessage({status:"done",eventId:te,eventType:Ze,response:ar})})()}_subscribe(m,M){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(M)}_unsubscribe(m,M){this.handlersMap[m]&&M&&this.handlersMap[m].delete(M),(!M||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function Cc(C="",p=10){let m="";for(let M=0;M<p;M++)m+=Math.floor(10*Math.random());return C+m}class Sc{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,M=50){var j=this;return(0,v.Z)(function*(){const te=typeof MessageChannel<"u"?new MessageChannel:null;if(!te)throw new Error("connection_unavailable");let Ze,It;return new Promise((wn,On)=>{const ar=Cc("",20);te.port1.start();const Qr=setTimeout(()=>{On(new Error("unsupported_event"))},M);It={messageChannel:te,onMessage(Ms){const rc=Ms;if(rc.data.eventId===ar)switch(rc.data.status){case"ack":clearTimeout(Qr),Ze=setTimeout(()=>{On(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ze),wn(rc.data.response);break;default:clearTimeout(Qr),clearTimeout(Ze),On(new Error("invalid_response"))}}},j.handlers.add(It),te.port1.addEventListener("message",It.onMessage),j.target.postMessage({eventType:p,eventId:ar,data:m},[te.port2])}).finally(()=>{It&&j.removeMessageHandler(It)})})()}}function $r(){return window}function hi(){return typeof $r().WorkerGlobalScope<"u"&&"function"==typeof $r().importScripts}function zo(){return(zo=(0,v.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Cs="firebaseLocalStorageDb",Fs="firebaseLocalStorage",oa="fbase_key";class Ss{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Ao(C,p){return C.transaction([Fs],p?"readwrite":"readonly").objectStore(Fs)}function sa(){const C=indexedDB.open(Cs,1);return new Promise((p,m)=>{C.addEventListener("error",()=>{m(C.error)}),C.addEventListener("upgradeneeded",()=>{const M=C.result;try{M.createObjectStore(Fs,{keyPath:oa})}catch(j){m(j)}}),C.addEventListener("success",(0,v.Z)(function*(){const M=C.result;M.objectStoreNames.contains(Fs)?p(M):(M.close(),yield function Ec(){const C=indexedDB.deleteDatabase(Cs);return new Ss(C).toPromise()}(),p(yield sa()))}))})}function us(C,p,m){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,v.Z)(function*(C,p,m){const M=Ao(C,!0).put({[oa]:p,value:m});return new Ss(M).toPromise()})).apply(this,arguments)}function aa(){return(aa=(0,v.Z)(function*(C,p){const m=Ao(C,!1).get(p),M=yield new Ss(m).toPromise();return void 0===M?null:M.value})).apply(this,arguments)}function Wa(C,p){const m=Ao(C,!0).delete(p);return new Ss(m).toPromise()}const Ls=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,v.Z)(function*(){return m.db||(m.db=yield sa()),m.db})()}_withRetries(m){var M=this;return(0,v.Z)(function*(){let j=0;for(;;)try{const te=yield M._openDb();return yield m(te)}catch(te){if(j++>3)throw te;M.db&&(M.db.close(),M.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,v.Z)(function*(){return hi()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,v.Z)(function*(){m.receiver=Ga._getInstance(function ll(){return hi()?self:null}()),m.receiver._subscribe("keyChanged",function(){var M=(0,v.Z)(function*(j,te){return{keyProcessed:(yield m._poll()).includes(te.key)}});return function(j,te){return M.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var M=(0,v.Z)(function*(j,te){return["keyChanged"]});return function(j,te){return M.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,v.Z)(function*(){var M,j;if(m.activeServiceWorker=yield function al(){return zo.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Sc(m.activeServiceWorker);const te=yield m.sender._send("ping",{},800);!te||(null===(M=te[0])||void 0===M?void 0:M.fulfilled)&&(null===(j=te[0])||void 0===j?void 0:j.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var M=this;return(0,v.Z)(function*(){if(M.sender&&M.activeServiceWorker&&function cl(){var C;return(null===(C=navigator?.serviceWorker)||void 0===C?void 0:C.controller)||null}()===M.activeServiceWorker)try{yield M.sender._send("keyChanged",{key:m},M.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,v.Z)(function*(){try{if(!indexedDB)return!1;const m=yield sa();return yield us(m,wo,"1"),yield Wa(m,wo),!0}catch{}return!1})()}_withPendingWrite(m){var M=this;return(0,v.Z)(function*(){M.pendingWrites++;try{yield m()}finally{M.pendingWrites--}})()}_set(m,M){var j=this;return(0,v.Z)(function*(){return j._withPendingWrite((0,v.Z)(function*(){return yield j._withRetries(te=>us(te,m,M)),j.localCache[m]=M,j.notifyServiceWorker(m)}))})()}_get(m){var M=this;return(0,v.Z)(function*(){const j=yield M._withRetries(te=>function Gl(C,p){return aa.apply(this,arguments)}(te,m));return M.localCache[m]=j,j})()}_remove(m){var M=this;return(0,v.Z)(function*(){return M._withPendingWrite((0,v.Z)(function*(){return yield M._withRetries(j=>Wa(j,m)),delete M.localCache[m],M.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,v.Z)(function*(){const M=yield m._withRetries(Ze=>{const It=Ao(Ze,!1).getAll();return new Ss(It).toPromise()});if(!M)return[];if(0!==m.pendingWrites)return[];const j=[],te=new Set;for(const{fbase_key:Ze,value:It}of M)te.add(Ze),JSON.stringify(m.localCache[Ze])!==JSON.stringify(It)&&(m.notifyListeners(Ze,It),j.push(Ze));for(const Ze of Object.keys(m.localCache))m.localCache[Ze]&&!te.has(Ze)&&(m.notifyListeners(Ze,null),j.push(Ze));return j})()}notifyListeners(m,M){this.localCache[m]=M;const j=this.listeners[m];if(j)for(const te of Array.from(j))te(M)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,v.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,M){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(M)}_removeListener(m,M){this.listeners[m]&&(this.listeners[m].delete(M),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})();function ul(C,p){return en(C,"POST","/v2/accounts/mfaSignIn:start",gn(C,p))}function Si(){return(Si=(0,v.Z)(function*(C){return(yield en(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Yr(C){return new Promise((p,m)=>{const M=document.createElement("script");M.setAttribute("src",C),M.onload=p,M.onerror=j=>{const te=ct("internal-error");te.customData=j,m(te)},M.type="text/javascript",M.charset="UTF-8",function Br(){var C,p;return null!==(p=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==p?p:document}().appendChild(M)})}function Hs(C){return`__${C}${Math.floor(1e6*Math.random())}`}const bo=1e12;class qa{constructor(p){this.auth=p,this.counter=bo,this._widgets=new Map}render(p,m){const M=this.counter;return this._widgets.set(M,new zr(p,this.auth.name,m||{})),this.counter++,M}reset(p){var m;const M=p||bo;null===(m=this._widgets.get(M))||void 0===m||m.delete(),this._widgets.delete(M)}getResponse(p){var m;return(null===(m=this._widgets.get(p||bo))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,v.Z)(function*(){var M;return null===(M=m._widgets.get(p||bo))||void 0===M||M.execute(),""})()}}class zr{constructor(p,m,M){this.params=M,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const j="string"==typeof p?document.getElementById(p):p;Me(j,"argument-error",{appName:m}),this.container=j,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function I4(C){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let M=0;M<C;M++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Dc=Hs("rcb"),Sa=new $e(3e4,6e4);class Pu{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=$r().grecaptcha)||void 0===p||!p.render)}load(p,m=""){return Me(function Tc(C){return C.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C)}(m),p,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve($r().grecaptcha):new Promise((M,j)=>{const te=$r().setTimeout(()=>{j(ct(p,"network-request-failed"))},Sa.get());$r()[Dc]=()=>{$r().clearTimeout(te),delete $r()[Dc];const It=$r().grecaptcha;if(!It)return void j(ct(p,"internal-error"));const wn=It.render;It.render=(On,ar)=>{const Qr=wn(On,ar);return this.counter++,Qr},this.hostLanguage=m,M(It)},Yr(`https://www.google.com/recaptcha/api.js??${(0,h.xO)({onload:Dc,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(te),j(ct(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var m;return!(null===(m=$r().grecaptcha)||void 0===m||!m.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class M1{load(p){return(0,v.Z)(function*(){return new qa(p)})()}clearedOneInstance(){}}const Qo="recaptcha",Ou={theme:"light",type:"image"};class Nu{constructor(p,m=Object.assign({},Ou),M){this.parameters=m,this.type=Qo,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=cn(M),this.isInvisible="invisible"===this.parameters.size,Me(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const j="string"==typeof p?document.getElementById(p):p;Me(j,this.auth,"argument-error"),this.container=j,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new M1:new Pu,this.validateStartingState()}verify(){var p=this;return(0,v.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),M=p.getAssertedRecaptcha();return M.getResponse(m)||new Promise(te=>{const Ze=It=>{!It||(p.tokenChangeListeners.delete(Ze),te(It))};p.tokenChangeListeners.add(Ze),p.isInvisible&&M.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){Me(!this.parameters.sitekey,this.auth,"argument-error"),Me(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Me(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(M=>M(m)),"function"==typeof p)p(m);else if("string"==typeof p){const M=$r()[p];"function"==typeof M&&M(m)}}}assertNotDestroyed(){Me(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,v.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const M=document.createElement("div");m.appendChild(M),m=M}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,v.Z)(function*(){Me(pt()&&!hi(),p.auth,"internal-error"),yield function pi(){let C=null;return new Promise(p=>{"complete"!==document.readyState?(C=()=>p(),window.addEventListener("load",C)):p()}).catch(p=>{throw C&&window.removeEventListener("load",C),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function ca(C){return Si.apply(this,arguments)}(p.auth);Me(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return Me(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ea{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=es._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function Bs(C,p,m){return dl.apply(this,arguments)}function dl(){return(dl=(0,v.Z)(function*(C,p,m){const M=cn(C),j=yield ua(M,p,(0,h.m9)(m));return new Ea(j,te=>_a(M,te))})).apply(this,arguments)}function Ma(C,p,m){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,v.Z)(function*(C,p,m){const M=(0,h.m9)(C);yield di(!1,M,"phone");const j=yield ua(M.auth,p,(0,h.m9)(m));return new Ea(j,te=>Fn(M,te))})).apply(this,arguments)}function Co(C,p,m){return xc.apply(this,arguments)}function xc(){return(xc=(0,v.Z)(function*(C,p,m){const M=(0,h.m9)(C),j=yield ua(M.auth,p,(0,h.m9)(m));return new Ea(j,te=>nl(M,te))})).apply(this,arguments)}function ua(C,p,m){return ko.apply(this,arguments)}function ko(){return(ko=(0,v.Z)(function*(C,p,m){var M;const j=yield m.verify();try{let te;if(Me("string"==typeof j,C,"argument-error"),Me(m.type===Qo,C,"argument-error"),te="string"==typeof p?{phoneNumber:p}:p,"session"in te){const Ze=te.session;if("phoneNumber"in te)return Me("enroll"===Ze.type,C,"internal-error"),(yield qr(C,{idToken:Ze.credential,phoneEnrollmentInfo:{phoneNumber:te.phoneNumber,recaptchaToken:j}})).phoneSessionInfo.sessionInfo;{Me("signin"===Ze.type,C,"internal-error");const It=(null===(M=te.multiFactorHint)||void 0===M?void 0:M.uid)||te.multiFactorUid;return Me(It,C,"missing-multi-factor-info"),(yield ul(C,{mfaPendingCredential:Ze.credential,mfaEnrollmentId:It,phoneSignInInfo:{recaptchaToken:j}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ze}=yield Zc(C,{phoneNumber:te.phoneNumber,recaptchaToken:j});return Ze}}finally{m._reset()}})).apply(this,arguments)}function Kl(C,p){return ql.apply(this,arguments)}function ql(){return(ql=(0,v.Z)(function*(C,p){yield rs((0,h.m9)(C),p)})).apply(this,arguments)}let da=(()=>{class C{constructor(m){this.providerId=C.PROVIDER_ID,this.auth=cn(m)}verifyPhoneNumber(m,M){return ua(this.auth,m,(0,h.m9)(M))}static credential(m,M){return es._fromVerification(m,M)}static credentialFromResult(m){return C.credentialFromTaggedObject(m)}static credentialFromError(m){return C.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:M,temporaryProof:j}=m;return M&&j?es._fromTokenResponse(M,j):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function Ys(C,p){return p?Pe(p):(Me(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class Da extends _i{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Jr(p,this._buildIdpRequest())}_linkToIdToken(p,m){return Jr(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return Jr(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function Ic(C){return Ba(C.auth,new Da(C),C.bypassAuthState)}function zi(C){const{auth:p,user:m}=C;return Me(m,p,"internal-error"),_s(m,new Da(C),C.bypassAuthState)}function Za(C){return w.apply(this,arguments)}function w(){return(w=(0,v.Z)(function*(C){const{auth:p,user:m}=C;return Me(m,p,"internal-error"),rs(m,new Da(C),C.bypassAuthState)})).apply(this,arguments)}class b{constructor(p,m,M,j,te=!1){this.auth=p,this.resolver=M,this.user=j,this.bypassAuthState=te,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,v.Z)(function*(M,j){p.pendingPromise={resolve:M,reject:j};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(te){p.reject(te)}});return function(M,j){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,v.Z)(function*(){const{urlResponse:M,sessionId:j,postBody:te,tenantId:Ze,error:It,type:wn}=p;if(It)return void m.reject(It);const On={auth:m.auth,requestUri:M,sessionId:j,tenantId:Ze||void 0,postBody:te||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(wn)(On))}catch(ar){m.reject(ar)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Ic;case"linkViaPopup":case"linkViaRedirect":return Za;case"reauthViaPopup":case"reauthViaRedirect":return zi;default:at(this.auth,"internal-error")}}resolve(p){He(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){He(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const _=new $e(2e3,1e4);function x(C,p,m){return O.apply(this,arguments)}function O(){return(O=(0,v.Z)(function*(C,p,m){const M=cn(C);Le(C,p,ui);const j=Ys(M,m);return new Kt(M,"signInViaPopup",p,j).executeNotNull()})).apply(this,arguments)}function W(C,p,m){return pe.apply(this,arguments)}function pe(){return(pe=(0,v.Z)(function*(C,p,m){const M=(0,h.m9)(C);Le(M.auth,p,ui);const j=Ys(M.auth,m);return new Kt(M.auth,"reauthViaPopup",p,j,M).executeNotNull()})).apply(this,arguments)}function Ce(C,p,m){return dt.apply(this,arguments)}function dt(){return(dt=(0,v.Z)(function*(C,p,m){const M=(0,h.m9)(C);Le(M.auth,p,ui);const j=Ys(M.auth,m);return new Kt(M.auth,"linkViaPopup",p,j,M).executeNotNull()})).apply(this,arguments)}let Kt=(()=>{class C extends b{constructor(m,M,j,te,Ze){super(m,M,te,Ze),this.provider=j,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var m=this;return(0,v.Z)(function*(){const M=yield m.execute();return Me(M,m.auth,"internal-error"),M})()}onExecution(){var m=this;return(0,v.Z)(function*(){He(1===m.filter.length,"Popup operations only handle one event");const M=Cc();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],M),m.authWindow.associatedEvent=M,m.resolver._originValidation(m.auth).catch(j=>{m.reject(j)}),m.resolver._isIframeWebStorageSupported(m.auth,j=>{j||m.reject(ct(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(ct(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const m=()=>{var M,j;this.pollId=null!==(j=null===(M=this.authWindow)||void 0===M?void 0:M.window)&&void 0!==j&&j.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ct(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,_.get())};m()}}return C.currentPopupAction=null,C})();const rn=new Map;class hr extends b{constructor(p,m,M=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,M),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,v.Z)(function*(){let M=rn.get(m.auth._key());if(!M){try{const te=(yield function si(C,p){return Qi.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;M=()=>Promise.resolve(te)}catch(j){M=()=>Promise.reject(j)}rn.set(m.auth._key(),M)}return m.bypassAuthState||rn.set(m.auth._key(),()=>Promise.resolve(null)),M()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,M=this;return(0,v.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(M,p);if("unknown"!==p.type){if(p.eventId){const j=yield M.auth._redirectUserForId(p.eventId);if(j)return M.user=j,m().call(M,p);M.resolve(null)}}else M.resolve(null)})()}onExecution(){return(0,v.Z)(function*(){})()}cleanUp(){}}function Qi(){return(Qi=(0,v.Z)(function*(C,p){const m=ha(p),M=Ta(C);if(!(yield M._isAvailable()))return!1;const j="true"===(yield M._get(m));return yield M._remove(m),j})).apply(this,arguments)}function Xi(C,p){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,v.Z)(function*(C,p){return Ta(C)._set(ha(p),"true")})).apply(this,arguments)}function Xo(){rn.clear()}function Us(C,p){rn.set(C._key(),p)}function Ta(C){return Pe(C._redirectPersistence)}function ha(C){return ve("pendingRedirect",C.config.apiKey,C.name)}function D1(C,p,m){return function Ei(C,p,m){return Qa.apply(this,arguments)}(C,p,m)}function Qa(){return(Qa=(0,v.Z)(function*(C,p,m){const M=cn(C);Le(C,p,ui);const j=Ys(M,m);return yield Xi(j,M),j._openRedirect(M,p,"signInViaRedirect")})).apply(this,arguments)}function k(C,p,m){return function N(C,p,m){return $.apply(this,arguments)}(C,p,m)}function $(){return($=(0,v.Z)(function*(C,p,m){const M=(0,h.m9)(C);Le(M.auth,p,ui);const j=Ys(M.auth,m);yield Xi(j,M.auth);const te=yield Wn(M);return j._openRedirect(M.auth,p,"reauthViaRedirect",te)})).apply(this,arguments)}function ge(C,p,m){return function Ge(C,p,m){return lt.apply(this,arguments)}(C,p,m)}function lt(){return(lt=(0,v.Z)(function*(C,p,m){const M=(0,h.m9)(C);Le(M.auth,p,ui);const j=Ys(M.auth,m);yield di(!1,M,p.providerId),yield Xi(j,M.auth);const te=yield Wn(M);return j._openRedirect(M.auth,p,"linkViaRedirect",te)})).apply(this,arguments)}function Rt(C,p){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,v.Z)(function*(C,p){return yield cn(C)._initializationPromise,zn(C,p,!1)})).apply(this,arguments)}function zn(C,p){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,v.Z)(function*(C,p,m=!1){const M=cn(C),j=Ys(M,p),Ze=yield new hr(M,j,m).execute();return Ze&&!m&&(delete Ze.user._redirectEventId,yield M._persistUserIfCurrent(Ze.user),yield M._setRedirectUser(null,p)),Ze})).apply(this,arguments)}function Wn(C){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,v.Z)(function*(C){const p=Cc(`${C.uid}:::`);return C._redirectEventId=p,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),p})).apply(this,arguments)}class mi{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(M=>{this.isEventForConsumer(p,M)&&(m=!0,this.sendToConsumer(p,M),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function fa(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Pr(C);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var M;if(p.error&&!Pr(p)){const j=(null===(M=p.error.code)||void 0===M?void 0:M.split("auth/")[1])||"internal-error";m.onError(ct(this.auth,j))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const M=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&M}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Xa(p))}saveEventToCache(p){this.cachedEventUids.add(Xa(p)),this.lastProcessedEventTime=Date.now()}}function Xa(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(p=>p).join("-")}function Pr({type:C,error:p}){return"unknown"===C&&"auth/no-auth-event"===p?.code}function Es(C){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,v.Z)(function*(C,p={}){return en(C,"GET","/v1/projects",p)})).apply(this,arguments)}const hl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ja=/^https?/;function Zl(){return(Zl=(0,v.Z)(function*(C){if(C.config.emulator)return;const{authorizedDomains:p}=yield Es(C);for(const m of p)try{if(N0(m))return}catch{}at(C,"unauthorized-domain")})).apply(this,arguments)}function N0(C){const p=Ke(),{protocol:m,hostname:M}=new URL(p);if(C.startsWith("chrome-extension://")){const Ze=new URL(C);return""===Ze.hostname&&""===M?"chrome-extension:"===m&&C.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&Ze.hostname===M}if(!Ja.test(m))return!1;if(hl.test(C))return M===C;const j=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+j+"|"+j+")$","i").test(M)}const Jh=new $e(3e4,6e4);function Ql(){const C=$r().___jsl;if(C?.H)for(const p of Object.keys(C.H))if(C.H[p].r=C.H[p].r||[],C.H[p].L=C.H[p].L||[],C.H[p].r=[...C.H[p].L],C.CP)for(let m=0;m<C.CP.length;m++)C.CP[m]=null}let Ac=null;function z4(C){return Ac=Ac||function zc(C){return new Promise((p,m)=>{var M,j,te;function Ze(){Ql(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Ql(),m(ct(C,"network-request-failed"))},timeout:Jh.get()})}if(null!==(j=null===(M=$r().gapi)||void 0===M?void 0:M.iframes)&&void 0!==j&&j.Iframe)p(gapi.iframes.getContext());else{if(null===(te=$r().gapi)||void 0===te||!te.load){const It=Hs("iframefcb");return $r()[It]=()=>{gapi.load?Ze():m(ct(C,"network-request-failed"))},Yr(`https://apis.google.com/js/api.js?onload=${It}`).catch(wn=>m(wn))}Ze()}}).catch(p=>{throw Ac=null,p})}(C),Ac}const Nd=new $e(5e3,15e3),Fd={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},e2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function A4(C){const p=C.config;Me(p.authDomain,C,"auth-domain-config-required");const m=p.emulator?bt(p,"emulator/auth/iframe"):`https://${C.config.authDomain}/__/auth/iframe`,M={apiKey:p.apiKey,appName:C.name,v:F.SDK_VERSION},j=e2.get(C.config.apiHost);j&&(M.eid=j);const te=C._getFrameworks();return te.length&&(M.fw=te.join(",")),`${m}?${(0,h.xO)(M).slice(1)}`}function Fu(){return Fu=(0,v.Z)(function*(C){const p=yield z4(C),m=$r().gapi;return Me(m,C,"internal-error"),p.open({where:document.body,url:A4(C),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Fd,dontclear:!0},M=>new Promise(function(){var j=(0,v.Z)(function*(te,Ze){yield M.restyle({setHideOnLeave:!1});const It=ct(C,"network-request-failed"),wn=$r().setTimeout(()=>{Ze(It)},Nd.get());function On(){$r().clearTimeout(wn),te(M)}M.ping(On).then(On,()=>{Ze(It)})});return function(te,Ze){return j.apply(this,arguments)}}()))}),Fu.apply(this,arguments)}const Xl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class t2{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ml(C,p,m,M,j,te){Me(C.config.authDomain,C,"auth-domain-config-required"),Me(C.config.apiKey,C,"invalid-api-key");const Ze={apiKey:C.config.apiKey,appName:C.name,authType:m,redirectUrl:M,v:F.SDK_VERSION,eventId:j};if(p instanceof ui){p.setDefaultLanguage(C.languageCode),Ze.providerId=p.providerId||"",(0,h.xb)(p.getCustomParameters())||(Ze.customParameters=JSON.stringify(p.getCustomParameters()));for(const[wn,On]of Object.entries(te||{}))Ze[wn]=On}if(p instanceof ts){const wn=p.getScopes().filter(On=>""!==On);wn.length>0&&(Ze.scopes=wn.join(","))}C.tenantId&&(Ze.tid=C.tenantId);const It=Ze;for(const wn of Object.keys(It))void 0===It[wn]&&delete It[wn];return`${function tc({config:C}){return C.emulator?bt(C,"emulator/auth/handler"):`https://${C.authDomain}/__/auth/handler`}(C)}?${(0,h.xO)(It).slice(1)}`}const I1="webStorageSupport",eu=class Vu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ls,this._completeRedirectFn=zn,this._overrideRedirectResult=Us}_openPopup(p,m,M,j){var te=this;return(0,v.Z)(function*(){var Ze;He(null===(Ze=te.eventManagers[p._key()])||void 0===Ze?void 0:Ze.manager,"_initialize() not called before _openPopup()");const It=ml(p,m,M,Ke(),j);return function x1(C,p,m,M=500,j=600){const te=Math.max((window.screen.availHeight-j)/2,0).toString(),Ze=Math.max((window.screen.availWidth-M)/2,0).toString();let It="";const wn=Object.assign(Object.assign({},Xl),{width:M.toString(),height:j.toString(),top:te,left:Ze}),On=(0,h.z$)().toLowerCase();m&&(It=We(On)?"_blank":m),G(On)&&(p=p||"http://localhost",wn.scrollbars="yes");const ar=Object.entries(wn).reduce((Ms,[rc,Hu])=>`${Ms}${rc}=${Hu},`,"");if(function xe(C=(0,h.z$)()){var p;return ae(C)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(On)&&"_self"!==It)return function P4(C,p){const m=document.createElement("a");m.href=C,m.target=p;const M=document.createEvent("MouseEvent");M.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(M)}(p||"",It),new t2(null);const Qr=window.open(p||"",It,ar);Me(Qr,C,"popup-blocked");try{Qr.focus()}catch{}return new t2(Qr)}(p,It,Cc())})()}_openRedirect(p,m,M,j){var te=this;return(0,v.Z)(function*(){return yield te._originValidation(p),function sl(C){$r().location.href=C}(ml(p,m,M,Ke(),j)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:j,promise:te}=this.eventManagers[m];return j?Promise.resolve(j):(He(te,"If manager is not set, promise should be"),te)}const M=this.initAndGetManager(p);return this.eventManagers[m]={promise:M},M.catch(()=>{delete this.eventManagers[m]}),M}initAndGetManager(p){var m=this;return(0,v.Z)(function*(){const M=yield function Rd(C){return Fu.apply(this,arguments)}(p),j=new mi(p);return M.register("authEvent",te=>(Me(te?.authEvent,p,"invalid-auth-event"),{status:j.onEvent(te.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:j},m.iframes[p._key()]=M,j})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(I1,{type:I1},j=>{var te;const Ze=null===(te=j?.[0])||void 0===te?void 0:te[I1];void 0!==Ze&&m(!!Ze),at(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function ec(C){return Zl.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return Wt()||ce()||ae()}};class ai extends class n2{constructor(p){this.factorId=p}_process(p,m,M){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,M);case"signin":return this._finalizeSignIn(p,m.credential);default:return je("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new ai(p)}_finalizeEnroll(p,m,M){return function ia(C,p){return en(C,"POST","/v2/accounts/mfaEnrollment:finalize",gn(C,p))}(p,{idToken:m,displayName:M,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function Vs(C,p){return en(C,"POST","/v2/accounts/mfaSignIn:finalize",gn(C,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let xa=(()=>{class C{constructor(){}static assertion(m){return ai._fromCredential(m)}}return C.FACTOR_ID="phone",C})();var gl="@firebase/auth",Ld="0.20.11";class r2{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,v.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(M=>{var j;p((null===(j=M)||void 0===j?void 0:j.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);!m||(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){Me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,h.Pz)("authIdTokenMaxAge"),function Hd(C){(0,F._registerComponent)(new he.wA("auth",(p,{options:m})=>{const M=p.getProvider("app").getImmediate(),j=p.getProvider("heartbeat"),{apiKey:te,authDomain:Ze}=M.options;return((It,wn)=>{Me(te&&!te.includes(":"),"invalid-api-key",{appName:It.name}),Me(!Ze?.includes(":"),"argument-error",{appName:It.name});const On={apiKey:te,authDomain:Ze,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ln(C)},ar=new Dr(It,wn,On);return function Fe(C,p){const m=p?.persistence||[],M=(Array.isArray(m)?m:[m]).map(Pe);p?.errorMap&&C._updateErrorMap(p.errorMap),C._initializeWithPersistence(M,p?.popupRedirectResolver)}(ar,m),ar})(M,j)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,M)=>{p.getProvider("auth-internal").initialize()})),(0,F._registerComponent)(new he.wA("auth-internal",p=>{const m=cn(p.getProvider("auth").getImmediate());return new r2(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,F.registerVersion)(gl,Ld,function Vd(C){switch(C){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(C)),(0,F.registerVersion)(gl,Ld,"esm2017")}("Browser")},2090:(Pt,ke,T)=>{T.d(ke,{$s:()=>Ot,BH:()=>Bt,G6:()=>Le,L:()=>V,LL:()=>Tt,Pz:()=>wt,Sg:()=>$e,UG:()=>ie,US:()=>he,ZB:()=>K,ZR:()=>Ct,aH:()=>it,b$:()=>ze,eu:()=>Me,hl:()=>ht,jU:()=>Ue,m9:()=>Pn,ne:()=>Ye,pd:()=>mt,r3:()=>yn,ru:()=>be,tV:()=>q,uI:()=>Ie,vZ:()=>jt,w1:()=>at,xO:()=>Lt,xb:()=>Vr,z$:()=>_e,zI:()=>je,zd:()=>Yt});const oe=function(Ee){const ve=[];let Ae=0;for(let fe=0;fe<Ee.length;fe++){let G=Ee.charCodeAt(fe);G<128?ve[Ae++]=G:G<2048?(ve[Ae++]=G>>6|192,ve[Ae++]=63&G|128):55296==(64512&G)&&fe+1<Ee.length&&56320==(64512&Ee.charCodeAt(fe+1))?(G=65536+((1023&G)<<10)+(1023&Ee.charCodeAt(++fe)),ve[Ae++]=G>>18|240,ve[Ae++]=G>>12&63|128,ve[Ae++]=G>>6&63|128,ve[Ae++]=63&G|128):(ve[Ae++]=G>>12|224,ve[Ae++]=G>>6&63|128,ve[Ae++]=63&G|128)}return ve},he={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ee,ve){if(!Array.isArray(Ee))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Ae=ve?this.byteToCharMapWebSafe_:this.byteToCharMap_,fe=[];for(let G=0;G<Ee.length;G+=3){const ce=Ee[G],We=G+1<Ee.length,Dt=We?Ee[G+1]:0,tn=G+2<Ee.length,nn=tn?Ee[G+2]:0;let re=(15&Dt)<<2|nn>>6,xe=63&nn;tn||(xe=64,We||(re=64)),fe.push(Ae[ce>>2],Ae[(3&ce)<<4|Dt>>4],Ae[re],Ae[xe])}return fe.join("")},encodeString(Ee,ve){return this.HAS_NATIVE_SUPPORT&&!ve?btoa(Ee):this.encodeByteArray(oe(Ee),ve)},decodeString(Ee,ve){return this.HAS_NATIVE_SUPPORT&&!ve?atob(Ee):function(Ee){const ve=[];let Ae=0,fe=0;for(;Ae<Ee.length;){const G=Ee[Ae++];if(G<128)ve[fe++]=String.fromCharCode(G);else if(G>191&&G<224){const ce=Ee[Ae++];ve[fe++]=String.fromCharCode((31&G)<<6|63&ce)}else if(G>239&&G<365){const tn=((7&G)<<18|(63&Ee[Ae++])<<12|(63&Ee[Ae++])<<6|63&Ee[Ae++])-65536;ve[fe++]=String.fromCharCode(55296+(tn>>10)),ve[fe++]=String.fromCharCode(56320+(1023&tn))}else{const ce=Ee[Ae++],We=Ee[Ae++];ve[fe++]=String.fromCharCode((15&G)<<12|(63&ce)<<6|63&We)}}return ve.join("")}(this.decodeStringToByteArray(Ee,ve))},decodeStringToByteArray(Ee,ve){this.init_();const Ae=ve?this.charToByteMapWebSafe_:this.charToByteMap_,fe=[];for(let G=0;G<Ee.length;){const ce=Ae[Ee.charAt(G++)],Dt=G<Ee.length?Ae[Ee.charAt(G)]:0;++G;const nn=G<Ee.length?Ae[Ee.charAt(G)]:64;++G;const ae=G<Ee.length?Ae[Ee.charAt(G)]:64;if(++G,null==ce||null==Dt||null==nn||null==ae)throw Error();fe.push(ce<<2|Dt>>4),64!==nn&&(fe.push(Dt<<4&240|nn>>2),64!==ae&&fe.push(nn<<6&192|ae))}return fe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ee=0;Ee<this.ENCODED_VALS.length;Ee++)this.byteToCharMap_[Ee]=this.ENCODED_VALS.charAt(Ee),this.charToByteMap_[this.byteToCharMap_[Ee]]=Ee,this.byteToCharMapWebSafe_[Ee]=this.ENCODED_VALS_WEBSAFE.charAt(Ee),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ee]]=Ee,Ee>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ee)]=Ee,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ee)]=Ee)}}},V=function(Ee){return function(Ee){const ve=oe(Ee);return he.encodeByteArray(ve,!0)}(Ee).replace(/\./g,"")},q=function(Ee){try{return he.decodeString(Ee,!0)}catch(ve){console.error("base64Decode failed: ",ve)}return null};function K(Ee,ve){if(!(ve instanceof Object))return ve;switch(ve.constructor){case Date:return new Date(ve.getTime());case Object:void 0===Ee&&(Ee={});break;case Array:Ee=[];break;default:return ve}for(const Ae in ve)!ve.hasOwnProperty(Ae)||!J(Ae)||(Ee[Ae]=K(Ee[Ae],ve[Ae]));return Ee}function J(Ee){return"__proto__"!==Ee}function _e(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ie(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_e())}function ie(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ue(){return"object"==typeof self&&self.self===self}function be(){const Ee="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ee&&void 0!==Ee.id}function ze(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function at(){const Ee=_e();return Ee.indexOf("MSIE ")>=0||Ee.indexOf("Trident/")>=0}function Le(){return!ie()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ht(){return"object"==typeof indexedDB}function Me(){return new Promise((Ee,ve)=>{try{let Ae=!0;const fe="validate-browser-context-for-indexeddb-analytics-module",G=self.indexedDB.open(fe);G.onsuccess=()=>{G.result.close(),Ae||self.indexedDB.deleteDatabase(fe),Ee(!0)},G.onupgradeneeded=()=>{Ae=!1},G.onerror=()=>{var ce;ve((null===(ce=G.error)||void 0===ce?void 0:ce.message)||"")}}catch(Ae){ve(Ae)}})}function je(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const Fe=()=>{try{return function He(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Ee=process.env.__FIREBASE_DEFAULTS__;return Ee?JSON.parse(Ee):void 0})()||(()=>{if(typeof document>"u")return;let Ee;try{Ee=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ve=Ee&&q(Ee[1]);return ve&&JSON.parse(ve)})()}catch(Ee){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Ee}`)}},it=()=>{var Ee;return null===(Ee=Fe())||void 0===Ee?void 0:Ee.config},wt=Ee=>{var ve;return null===(ve=Fe())||void 0===ve?void 0:ve[`_${Ee}`]};class Bt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ve,Ae)=>{this.resolve=ve,this.reject=Ae})}wrapCallback(ve){return(Ae,fe)=>{Ae?this.reject(Ae):this.resolve(fe),"function"==typeof ve&&(this.promise.catch(()=>{}),1===ve.length?ve(Ae):ve(Ae,fe))}}}function $e(Ee,ve){if(Ee.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const fe=ve||"demo-project",G=Ee.iat||0,ce=Ee.sub||Ee.user_id;if(!ce)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const We=Object.assign({iss:`https://securetoken.google.com/${fe}`,aud:fe,iat:G,exp:G+3600,auth_time:G,sub:ce,user_id:ce,firebase:{sign_in_provider:"custom",identities:{}}},Ee);return[V(JSON.stringify({alg:"none",type:"JWT"})),V(JSON.stringify(We)),""].join(".")}class Ct extends Error{constructor(ve,Ae,fe){super(Ae),this.code=ve,this.customData=fe,this.name="FirebaseError",Object.setPrototypeOf(this,Ct.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tt.prototype.create)}}class Tt{constructor(ve,Ae,fe){this.service=ve,this.serviceName=Ae,this.errors=fe}create(ve,...Ae){const fe=Ae[0]||{},G=`${this.service}/${ve}`,ce=this.errors[ve],We=ce?function sn(Ee,ve){return Ee.replace(gn,(Ae,fe)=>{const G=ve[fe];return null!=G?String(G):`<${fe}?>`})}(ce,fe):"Error";return new Ct(G,`${this.serviceName}: ${We} (${G}).`,fe)}}const gn=/\{\$([^}]+)}/g;function yn(Ee,ve){return Object.prototype.hasOwnProperty.call(Ee,ve)}function Vr(Ee){for(const ve in Ee)if(Object.prototype.hasOwnProperty.call(Ee,ve))return!1;return!0}function jt(Ee,ve){if(Ee===ve)return!0;const Ae=Object.keys(Ee),fe=Object.keys(ve);for(const G of Ae){if(!fe.includes(G))return!1;const ce=Ee[G],We=ve[G];if(br(ce)&&br(We)){if(!jt(ce,We))return!1}else if(ce!==We)return!1}for(const G of fe)if(!Ae.includes(G))return!1;return!0}function br(Ee){return null!==Ee&&"object"==typeof Ee}function Lt(Ee){const ve=[];for(const[Ae,fe]of Object.entries(Ee))Array.isArray(fe)?fe.forEach(G=>{ve.push(encodeURIComponent(Ae)+"="+encodeURIComponent(G))}):ve.push(encodeURIComponent(Ae)+"="+encodeURIComponent(fe));return ve.length?"&"+ve.join("&"):""}function Yt(Ee){const ve={};return Ee.replace(/^\?/,"").split("&").forEach(fe=>{if(fe){const[G,ce]=fe.split("=");ve[decodeURIComponent(G)]=decodeURIComponent(ce)}}),ve}function mt(Ee){const ve=Ee.indexOf("?");if(!ve)return"";const Ae=Ee.indexOf("#",ve);return Ee.substring(ve,Ae>0?Ae:void 0)}function Ye(Ee,ve){const Ae=new ye(Ee,ve);return Ae.subscribe.bind(Ae)}class ye{constructor(ve,Ae){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Ae,this.task.then(()=>{ve(this)}).catch(fe=>{this.error(fe)})}next(ve){this.forEachObserver(Ae=>{Ae.next(ve)})}error(ve){this.forEachObserver(Ae=>{Ae.error(ve)}),this.close(ve)}complete(){this.forEachObserver(ve=>{ve.complete()}),this.close()}subscribe(ve,Ae,fe){let G;if(void 0===ve&&void 0===Ae&&void 0===fe)throw new Error("Missing Observer.");G=function ot(Ee,ve){if("object"!=typeof Ee||null===Ee)return!1;for(const Ae of ve)if(Ae in Ee&&"function"==typeof Ee[Ae])return!0;return!1}(ve,["next","error","complete"])?ve:{next:ve,error:Ae,complete:fe},void 0===G.next&&(G.next=rt),void 0===G.error&&(G.error=rt),void 0===G.complete&&(G.complete=rt);const ce=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?G.error(this.finalError):G.complete()}catch{}}),this.observers.push(G),ce}unsubscribeOne(ve){void 0===this.observers||void 0===this.observers[ve]||(delete this.observers[ve],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ve){if(!this.finalized)for(let Ae=0;Ae<this.observers.length;Ae++)this.sendOne(Ae,ve)}sendOne(ve,Ae){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ve])try{Ae(this.observers[ve])}catch(fe){typeof console<"u"&&console.error&&console.error(fe)}})}close(ve){this.finalized||(this.finalized=!0,void 0!==ve&&(this.finalError=ve),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rt(){}function Ot(Ee,ve=1e3,Ae=2){const fe=ve*Math.pow(Ae,Ee),G=Math.round(.5*fe*(Math.random()-.5)*2);return Math.min(144e5,fe+G)}function Pn(Ee){return Ee&&Ee._delegate?Ee._delegate:Ee}},2537:(Pt,ke,T)=>{T.d(ke,{m:()=>tr});var v=T(6895),h=T(4650),F=T(445),oe=T(7518),he=(T(1691),T(3353)),ee=T(4903),V=T(7423),q=T(6287);new h.OlP("NzIsInDropDownMenuToken"),new h.OlP("NzMenuServiceLocalToken");let gr=(()=>{class Lt{}return Lt.\u0275fac=function(mt){return new(mt||Lt)},Lt.\u0275mod=h.oAB({type:Lt}),Lt.\u0275inj=h.cJS({imports:[F.vT,v.ez,he.ud,oe.U8,V.PV,ee.g,q.T]}),Lt})();var jt=T(6616),br=T(4384);let tr=(()=>{class Lt{}return Lt.\u0275fac=function(mt){return new(mt||Lt)},Lt.\u0275mod=h.oAB({type:Lt}),Lt.\u0275inj=h.cJS({imports:[v.ez,gr,jt.sL,V.PV,br.Jb]}),Lt})()},2134:(Pt,ke,T)=>{var v=T(1481),h=T(4650),F=T(4537),oe=T(6895),ne=T(8996),he=T(9751),ee=T(4742),V=T(8421),q=T(3269),Y=T(5403),K=T(3268),J=T(1810),Ie=T(4004);let ie=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq))},n.\u0275dir=h.lG2({type:n}),n})(),Ue=(()=>{class n extends ie{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,features:[h.qOj]}),n})();const be=new h.OlP("NgValueAccessor"),at={provide:be,useExisting:(0,h.Gpc)(()=>Le),multi:!0},Se=new h.OlP("CompositionEventMode");let Le=(()=>{class n extends ie{constructor(t,r,s){super(t,r),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ct(){const n=(0,oe.q)()?(0,oe.q)().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(Se,8))},n.\u0275dir=h.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&h.NdJ("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[h._Bn([at]),h.qOj]}),n})();function Me(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function je(n){return null!=n&&"number"==typeof n.length}const He=new h.OlP("NgValidators"),Te=new h.OlP("NgAsyncValidators"),Pe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ve{static min(e){return function Fe(n){return e=>{if(Me(e.value)||Me(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function Ke(n){return e=>{if(Me(e.value)||Me(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function pt(n){return Me(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function it(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function wt(n){return Me(n.value)||Pe.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function Bt(n){return e=>Me(e.value)||!je(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function $e(n){return e=>je(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function bt(n){if(!n)return Ct;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Me(r.value))return null;const s=r.value;return e.test(s)?null:{pattern:{requiredPattern:t,actualValue:s}}}}(e)}static nullValidator(e){return null}static compose(e){return kn(e)}static composeAsync(e){return mr(e)}}function Ct(n){return null}function Tt(n){return null!=n}function sn(n){return(0,h.QGY)(n)?(0,ne.D)(n):n}function gn(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function en(n,e){return e.map(t=>t(n))}function pr(n){return n.map(e=>function Qn(n){return!n.validate}(e)?e:t=>e.validate(t))}function kn(n){if(!n)return null;const e=n.filter(Tt);return 0==e.length?null:function(t){return gn(en(t,e))}}function vn(n){return null!=n?kn(pr(n)):null}function mr(n){if(!n)return null;const e=n.filter(Tt);return 0==e.length?null:function(t){return function _e(...n){const e=(0,q.jO)(n),{args:t,keys:r}=(0,ee.D)(n),s=new he.y(l=>{const{length:d}=t;if(!d)return void l.complete();const g=new Array(d);let E=d,P=d;for(let U=0;U<d;U++){let se=!1;(0,V.Xf)(t[U]).subscribe((0,Y.x)(l,Re=>{se||(se=!0,P--),g[U]=Re},()=>E--,void 0,()=>{(!E||!se)&&(P||l.next(r?(0,J.n)(r,g):g),l.complete())}))}});return e?s.pipe((0,K.Z)(e)):s}(en(t,e).map(sn)).pipe((0,Ie.U)(gn))}}function Nr(n){return null!=n?mr(pr(n)):null}function yn(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function sr(n){return n._rawValidators}function Vr(n){return n._rawAsyncValidators}function gr(n){return n?Array.isArray(n)?n:[n]:[]}function jt(n,e){return Array.isArray(n)?n.includes(e):n===e}function br(n,e){const t=gr(e);return gr(n).forEach(s=>{jt(t,s)||t.push(s)}),t}function tr(n,e){return gr(e).filter(t=>!jt(n,t))}class Lt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=vn(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Nr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Yt extends Lt{get formDirective(){return null}get path(){return null}}class mt extends Lt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Xt{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let me=(()=>{class n extends Xt{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(mt,2))},n.\u0275dir=h.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&h.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[h.qOj]}),n})(),ot=(()=>{class n extends Xt{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Yt,10))},n.\u0275dir=h.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&h.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[h.qOj]}),n})();const ve="VALID",Ae="INVALID",fe="PENDING",G="DISABLED";function ce(n){return(nn(n)?n.validators:n)||null}function We(n){return Array.isArray(n)?vn(n):n||null}function Dt(n,e){return(nn(e)?e.asyncValidators:n)||null}function tn(n){return Array.isArray(n)?Nr(n):n||null}function nn(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function de(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new h.vHH(1e3,"");if(!r[t])throw new h.vHH(1001,"")}function ae(n,e,t){n._forEachChild((r,s)=>{if(void 0===t[s])throw new h.vHH(1002,"")})}class re{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=We(this._rawValidators),this._composedAsyncValidatorFn=tn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ve}get invalid(){return this.status===Ae}get pending(){return this.status==fe}get disabled(){return this.status===G}get enabled(){return this.status!==G}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=We(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=tn(e)}addValidators(e){this.setValidators(br(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(br(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(tr(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(tr(e,this._rawAsyncValidators))}hasValidator(e){return jt(this._rawValidators,e)}hasAsyncValidator(e){return jt(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=fe,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=G,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ve,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ve||this.status===fe)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?G:ve}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=fe,this._hasOwnPendingAsyncValidator=!0;const t=sn(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,s)=>r&&r._find(s),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new h.vpe,this.statusChanges=new h.vpe}_calculateStatus(){return this._allControlsDisabled()?G:this.errors?Ae:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(fe)?fe:this._anyControlsHaveStatus(Ae)?Ae:ve}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){nn(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class xe extends re{constructor(e,t,r){super(ce(t),Dt(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){ae(this,0,e),Object.keys(e).forEach(r=>{de(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const s=this.controls[r];s&&s.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,s)=>{r.reset(e[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,s)=>((r.enabled||this.disabled)&&(t[s]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((s,l)=>{r=t(r,s,l)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class Sn extends xe{}function Sr(n,e){return[...e.path,n]}function Dr(n,e){Ro(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function Ur(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&_i(n,e)})}(n,e),function ni(n,e){const t=(r,s)=>{e.valueAccessor.writeValue(r),s&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Lo(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&_i(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Ni(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function cn(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Fi(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function ji(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Ro(n,e){const t=sr(n);null!==e.validator?n.setValidators(yn(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=Vr(n);null!==e.asyncValidator?n.setAsyncValidators(yn(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const s=()=>n.updateValueAndValidity();ji(e._rawValidators,s),ji(e._rawAsyncValidators,s)}function Fi(n,e){let t=!1;if(null!==n){if(null!==e.validator){const s=sr(n);if(Array.isArray(s)&&s.length>0){const l=s.filter(d=>d!==e.validator);l.length!==s.length&&(t=!0,n.setValidators(l))}}if(null!==e.asyncValidator){const s=Vr(n);if(Array.isArray(s)&&s.length>0){const l=s.filter(d=>d!==e.asyncValidator);l.length!==s.length&&(t=!0,n.setAsyncValidators(l))}}}const r=()=>{};return ji(e._rawValidators,r),ji(e._rawAsyncValidators,r),t}function _i(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function po(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function R(n,e){if(!e)return null;let t,r,s;return Array.isArray(e),e.forEach(l=>{l.constructor===Le?t=l:function Ho(n){return Object.getPrototypeOf(n.constructor)===Ue}(l)?r=l:s=l}),s||r||t||null}function dn(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Cn(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const mn=class extends re{constructor(e=null,t,r){super(ce(t),Dt(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),nn(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Cn(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){dn(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){dn(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Cn(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},gc={provide:mt,useExisting:(0,h.Gpc)(()=>ms)},Qc=(()=>Promise.resolve())();let ms=(()=>{class n extends mt{constructor(t,r,s,l,d){super(),this._changeDetectorRef=d,this.control=new mn,this._registered=!1,this.update=new h.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=R(0,l)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),po(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Dr(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Qc.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,s=0!==r&&(0,h.D6c)(r);Qc.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Sr(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Yt,9),h.Y36(He,10),h.Y36(Te,10),h.Y36(be,10),h.Y36(h.sBO,8))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[h._Bn([gc]),h.qOj,h.TTD]}),n})(),gs=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),es=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();const vs=new h.OlP("NgModelWithFormControlWarning"),ui={provide:mt,useExisting:(0,h.Gpc)(()=>ts)};let ts=(()=>{class n extends mt{constructor(t,r,s,l){super(),this._ngModelWarningConfig=l,this.update=new h.vpe,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(r),this.valueAccessor=R(0,s)}set isDisabled(t){}ngOnChanges(t){if(this._isControlChanged(t)){const r=t.form.previousValue;r&&cn(r,this,!1),Dr(this.form,this),this.form.updateValueAndValidity({emitEvent:!1})}po(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&cn(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(h.Y36(He,10),h.Y36(Te,10),h.Y36(be,10),h.Y36(vs,8))},n.\u0275dir=h.lG2({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[h._Bn([ui]),h.qOj,h.TTD]}),n})();const Li={provide:Yt,useExisting:(0,h.Gpc)(()=>zs)};let zs=(()=>{class n extends Yt{constructor(t,r){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new h.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Fi(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Dr(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){cn(t.control||null,t,!1),function B(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function Be(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,s=this.form.get(t.path);r!==s&&(cn(r||null,t),(n=>n instanceof mn)(s)&&(Dr(s,t),t.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function Ar(n,e){Ro(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function xo(n,e){return Fi(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ro(this.form,this),this._oldForm&&Fi(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(He,10),h.Y36(Te,10))},n.\u0275dir=h.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&h.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([Li]),h.qOj,h.TTD]}),n})();const Vi={provide:mt,useExisting:(0,h.Gpc)(()=>Hi)};let Hi=(()=>{class n extends mt{constructor(t,r,s,l,d){super(),this._ngModelWarningConfig=d,this._added=!1,this.update=new h.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=R(0,l)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),po(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Sr(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(h.Y36(Yt,13),h.Y36(He,10),h.Y36(Te,10),h.Y36(be,10),h.Y36(vs,8))},n.\u0275dir=h.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[h._Bn([Vi]),h.qOj,h.TTD]}),n})(),ta=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[es]}),n})(),oo=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:vs,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[ta]}),n})();class Go extends re{constructor(e,t,r){super(ce(t),Dt(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let s=this._adjustIndex(e);s<0&&(s=0),this.controls[s]&&this.controls[s]._registerOnCollectionChange(()=>{}),this.controls.splice(s,1),t&&(this.controls.splice(s,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){ae(this,0,e),e.forEach((r,s)=>{de(this,!1,s),this.at(s).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,s)=>{this.at(s)&&this.at(s).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,s)=>{r.reset(e[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function so(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let na=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const s=this._reduceControls(t);let l={};return so(r)?l=r:null!==r&&(l.validators=r.validator,l.asyncValidators=r.asyncValidator),new xe(s,l)}record(t,r=null){const s=this._reduceControls(t);return new Sn(s,r)}control(t,r,s){let l={};return this.useNonNullable?(so(r)?l=r:(l.validators=r,l.asyncValidators=s),new mn(t,{...l,nonNullable:!0})):new mn(t,r,s)}array(t,r,s){const l=t.map(d=>this._createControl(d));return new Go(l,r,s)}_reduceControls(t){const r={};return Object.keys(t).forEach(s=>{r[s]=this._createControl(t[s])}),r}_createControl(t){return t instanceof mn||t instanceof re?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:oo}),n})();var ri=T(4986),bi=T(9646),Kr=T(5813),is=T(8675),Wo=T(4482);function Ps(){return(0,Wo.e)((n,e)=>{let t,r=!1;n.subscribe((0,Y.x)(e,s=>{const l=t;t=s,r&&e.next([l,s]),r=!0}))})}var D,os=T(5026),Io=T(1884),ss=T(9300),Ci=T(2011),ra=(T(5881),T(3942)),_t=T(5861),vo=T(9681),Os=T(4859),Ki=T(1877),_r=T(2090),bs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ko={},H=H||{},I=bs||self;function Q(){}function we(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function st(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var hn="closure_uid_"+(1e9*Math.random()>>>0),dr=0;function Cr(n,e,t){return n.call.apply(n.bind,arguments)}function yr(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),n.apply(e,s)}}return function(){return n.apply(e,arguments)}}function In(n,e,t){return(In=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Cr:yr).apply(null,arguments)}function Rr(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Hn(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,s,l){for(var d=Array(arguments.length-2),g=2;g<arguments.length;g++)d[g-2]=arguments[g];return e.prototype[s].apply(r,d)}}function wr(){this.s=this.s,this.o=this.o}wr.prototype.s=!1,wr.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function yt(n){Object.prototype.hasOwnProperty.call(n,hn)&&n[hn]||(n[hn]=++dr)}(this)},wr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const yo=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function ao(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function as(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(we(r)){const s=n.length||0,l=r.length||0;n.length=s+l;for(let d=0;d<l;d++)n[s+d]=r[d]}else n.push(r)}}function Tr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Tr.prototype.h=function(){this.defaultPrevented=!0};var qi=function(){if(!I.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{I.addEventListener("test",Q,e),I.removeEventListener("test",Q,e)}catch{}return n}();function _o(n){return/^[\s\xa0]*$/.test(n)}var rl=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function qr(n,e){return n<e?-1:n>e?1:0}function ia(){var n=I.navigator;return n&&(n=n.userAgent)?n:""}function cs(n){return-1!=ia().indexOf(n)}function Ua(n){return Ua[" "](n),n}Ua[" "]=Q;var Zr,n,jl=cs("Opera"),wo=cs("Trident")||cs("MSIE"),ba=cs("Edge"),ja=ba||wo,Ca=cs("Gecko")&&!(-1!=ia().toLowerCase().indexOf("webkit")&&!cs("Edge"))&&!(cs("Trident")||cs("MSIE"))&&!cs("Edge"),il=-1!=ia().toLowerCase().indexOf("webkit")&&!cs("Edge");function ol(){var n=I.document;return n?n.documentMode:void 0}e:{var $l="",ls=(n=ia(),Ca?/rv:([^\);]+)(\)|;)/.exec(n):ba?/Edge\/([\d\.]+)/.exec(n):wo?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):il?/WebKit\/(\S+)/.exec(n):jl?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(ls&&($l=ls?ls[1]:""),wo){var $a=ol();if(null!=$a&&$a>parseFloat($l)){Zr=String($a);break e}}Zr=$l}var Ga={};var sl=I.document&&wo&&(ol()||parseInt(Zr,10))||void 0;function hi(n,e){if(Tr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Ca){e:{try{Ua(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:al[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&hi.X.h.call(this)}}Hn(hi,Tr);var al={2:"touch",3:"pen",4:"mouse"};hi.prototype.h=function(){hi.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var zo="closure_listenable_"+(1e6*Math.random()|0),cl=0;function ll(n,e,t,r,s){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=s,this.key=++cl,this.ba=this.ea=!1}function Cs(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function Ns(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Fs(n){const e={};for(const t in n)e[t]=n[t];return e}const oa="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ss(n,e){let t,r;for(let s=1;s<arguments.length;s++){for(t in r=arguments[s],r)n[t]=r[t];for(let l=0;l<oa.length;l++)t=oa[l],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Ao(n){this.src=n,this.g={},this.h=0}function Ec(n,e){var t=e.type;if(t in n.g){var l,r=n.g[t],s=yo(r,e);(l=0<=s)&&Array.prototype.splice.call(r,s,1),l&&(Cs(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function sa(n,e,t,r){for(var s=0;s<n.length;++s){var l=n[s];if(!l.ba&&l.listener==e&&l.capture==!!t&&l.ha==r)return s}return-1}Ao.prototype.add=function(n,e,t,r,s){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var d=sa(n,e,r,s);return-1<d?(e=n[d],t||(e.ea=!1)):((e=new ll(e,this.src,l,!!r,s)).ea=t,n.push(e)),e};var us="closure_lm_"+(1e6*Math.random()|0),Zo={};function Gl(n,e,t,r,s){if(r&&r.once)return Rs(n,e,t,r,s);if(Array.isArray(e)){for(var l=0;l<e.length;l++)Gl(n,e[l],t,r,s);return null}return t=Si(t),n&&n[zo]?n.N(e,t,st(r)?!!r.capture:!!r,s):aa(n,e,t,!1,r,s)}function aa(n,e,t,r,s,l){if(!e)throw Error("Invalid event type");var d=st(s)?!!s.capture:!!s,g=Vs(n);if(g||(n[us]=g=new Ao(n)),(t=g.add(e,t,r,d,l)).proxy)return t;if(r=function Wa(){const e=ul;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)qi||(s=d),void 0===s&&(s=!1),n.addEventListener(e.toString(),r,s);else if(n.attachEvent)n.attachEvent(Ls(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Rs(n,e,t,r,s){if(Array.isArray(e)){for(var l=0;l<e.length;l++)Rs(n,e[l],t,r,s);return null}return t=Si(t),n&&n[zo]?n.O(e,t,st(r)?!!r.capture:!!r,s):aa(n,e,t,!0,r,s)}function Mc(n,e,t,r,s){if(Array.isArray(e))for(var l=0;l<e.length;l++)Mc(n,e[l],t,r,s);else r=st(r)?!!r.capture:!!r,t=Si(t),n&&n[zo]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=sa(l=n.g[e],t,r,s))&&(Cs(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=Vs(n))&&(e=n.g[e.toString()],n=-1,e&&(n=sa(e,t,r,s)),(t=-1<n?e[n]:null)&&fi(t))}function fi(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[zo])Ec(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Ls(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Vs(e))?(Ec(t,n),0==t.h&&(t.src=null,e[us]=null)):Cs(n)}}}function Ls(n){return n in Zo?Zo[n]:Zo[n]="on"+n}function ul(n,e){if(n.ba)n=!0;else{e=new hi(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&fi(n),n=t.call(r,e)}return n}function Vs(n){return(n=n[us])instanceof Ao?n:null}var ca="__closure_events_fn_"+(1e9*Math.random()>>>0);function Si(n){return"function"==typeof n?n:(n[ca]||(n[ca]=function(e){return n.handleEvent(e)}),n[ca])}function Br(){wr.call(this),this.i=new Ao(this),this.P=this,this.I=null}function Yr(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Tr(e,n);else if(e instanceof Tr)e.target=e.target||n;else{var s=e;Ss(e=new Tr(r,n),s)}if(s=!0,t)for(var l=t.length-1;0<=l;l--){var d=e.g=t[l];s=Hs(d,r,!0,e)&&s}if(s=Hs(d=e.g=n,r,!0,e)&&s,s=Hs(d,r,!1,e)&&s,t)for(l=0;l<t.length;l++)s=Hs(d=e.g=t[l],r,!1,e)&&s}function Hs(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var s=!0,l=0;l<e.length;++l){var d=e[l];if(d&&!d.ba&&d.capture==t){var g=d.listener,E=d.ha||d.src;d.ea&&Ec(n.i,d),s=!1!==g.call(E,r)&&s}}return s&&!r.defaultPrevented}Hn(Br,wr),Br.prototype[zo]=!0,Br.prototype.removeEventListener=function(n,e,t,r){Mc(this,n,e,t,r)},Br.prototype.M=function(){if(Br.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Cs(t[r]);delete n.g[e],n.h--}}this.I=null},Br.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Br.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Ka=I.JSON.stringify;function la(){var n=Tc;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Sa,qa=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new zr,n=>n.reset());class zr{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function I4(n){I.setTimeout(()=>{throw n},0)}function Dc(n,e){Sa||function Wl(){var n=I.Promise.resolve(void 0);Sa=function(){n.then(M1)}}(),Pu||(Sa(),Pu=!0),Tc.add(n,e)}var Pu=!1,Tc=new class bo{constructor(){this.h=this.g=null}add(e,t){const r=qa.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function M1(){for(var n;n=la();){try{n.h.call(n.g)}catch(t){I4(t)}var e=qa;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Pu=!1}function Qo(n,e){Br.call(this),this.h=n||1,this.g=e||I,this.j=In(this.lb,this),this.l=Date.now()}function Ou(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function Nu(n,e,t){if("function"==typeof n)t&&(n=In(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=In(n.handleEvent,n)}return 2147483647<Number(e)?-1:I.setTimeout(n,e||0)}function pi(n){n.g=Nu(()=>{n.g=null,n.i&&(n.i=!1,pi(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Hn(Qo,Br),(D=Qo.prototype).ca=!1,D.R=null,D.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Yr(this,"tick"),this.ca&&(Ou(this),this.start()))}},D.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},D.M=function(){Qo.X.M.call(this),Ou(this),delete this.g};class Ea extends wr{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:pi(this)}M(){super.M(),this.g&&(I.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bs(n){wr.call(this),this.h=n,this.g={}}Hn(Bs,wr);var dl=[];function Ma(n,e,t,r){Array.isArray(t)||(t&&(dl[0]=t.toString()),t=dl);for(var s=0;s<t.length;s++){var l=Gl(e,t[s],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function Zi(n){Ns(n.g,function(e,t){this.g.hasOwnProperty(t)&&fi(e)},n),n.g={}}function Co(){this.g=!0}function ko(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function ql(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var l=s[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var d=1;d<s.length;d++)s[d]=""}}}return Ka(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Bs.prototype.M=function(){Bs.X.M.call(this),Zi(this)},Bs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Co.prototype.Aa=function(){this.g=!1},Co.prototype.info=function(){};var da={},Ys=null;function Da(){return Ys=Ys||new Br}function Ic(n){Tr.call(this,da.Pa,n)}function zi(n){const e=Da();Yr(e,new Ic(e))}function Za(n,e){Tr.call(this,da.STAT_EVENT,n),this.stat=e}function w(n){const e=Da();Yr(e,new Za(e,n))}function b(n,e){Tr.call(this,da.Qa,n),this.size=e}function _(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return I.setTimeout(function(){n()},e)}da.Pa="serverreachability",Hn(Ic,Tr),da.STAT_EVENT="statevent",Hn(Za,Tr),da.Qa="timingevent",Hn(b,Tr);var x={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},O={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function W(){}function Ce(){}W.prototype.h=null;var rn,dt={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Kt(){Tr.call(this,"d")}function Vn(){Tr.call(this,"c")}function hr(){}function si(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new Bs(this),this.O=Xi,this.T=new Qo(n=ja?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Qi}function Qi(){this.i=null,this.g="",this.h=!1}Hn(Kt,Tr),Hn(Vn,Tr),Hn(hr,W),hr.prototype.g=function(){return new XMLHttpRequest},hr.prototype.i=function(){return{}},rn=new hr;var Xi=45e3,Ji={},Xo={};function Us(n,e,t){n.K=1,n.v=fa(Mn(e)),n.s=t,n.P=!0,Ta(n,null)}function Ta(n,e){n.F=Date.now(),Qa(n),n.A=Mn(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),Nd(t.i,"t",r),n.C=0,t=n.l.H,n.h=new Qi,n.g=Bu(n.l,t?e:null,!n.s),0<n.N&&(n.L=new Ea(In(n.La,n,n.g),n.N)),Ma(n.S,n.g,"readystatechange",n.ib),e=n.H?Fs(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),zi(),function xc(n,e,t,r,s,l){n.info(function(){if(n.g)if(l)for(var d="",g=l.split("&"),E=0;E<g.length;E++){var P=g[E].split("=");if(1<P.length){var U=P[0];P=P[1];var se=U.split("_");d=2<=se.length&&"type"==se[1]?d+(U+"=")+P+"&":d+(U+"=redacted&")}}else d=null;else d=l;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.U,n.s)}function ha(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function D1(n,e,t){let s,r=!0;for(;!n.I&&n.C<t.length;){if(s=Ei(n,t),s==Xo){4==e&&(n.o=4,w(14),r=!1),ko(n.j,n.m,null,"[Incomplete Response]");break}if(s==Ji){n.o=4,w(15),ko(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}ko(n.j,n.m,s,null),Ge(n,s)}ha(n)&&s!=Xo&&s!=Ji&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,w(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Hu(e),e.K=!0,w(11))):(ko(n.j,n.m,t,"[Invalid Chunked Response]"),ge(n),$(n))}function Ei(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Xo:(t=Number(e.substring(t,r)),isNaN(t)?Ji:(r+=1)+t>e.length?Xo:(e=e.substr(r,t),n.C=r+t,e))}function Qa(n){n.V=Date.now()+n.O,k(n,n.O)}function k(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=_(In(n.gb,n),e)}function N(n){n.B&&(I.clearTimeout(n.B),n.B=null)}function $(n){0==n.l.G||n.I||O4(n.l,n)}function ge(n){N(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Ou(n.T),Zi(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Ge(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Xl(t.h,n)))if(!n.J&&Xl(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;tu(t),te(t)}rc(t),w(18)}}else t.Ba=s[1],0<t.Ba-t.T&&37500>s[2]&&t.L&&0==t.A&&!t.v&&(t.v=_(In(t.cb,t),6e3));if(1>=Fu(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else ic(t,11)}else if((n.J||t.g==n)&&tu(t),!_o(e))for(s=t.Fa.g.parse(e),e=0;e<s.length;e++){let P=s[e];if(t.T=P[0],P=P[1],2==t.G)if("c"==P[0]){t.I=P[1],t.ka=P[2];const U=P[3];null!=U&&(t.ma=U,t.j.info("VER="+t.ma));const se=P[4];null!=se&&(t.Ca=se,t.j.info("SVER="+t.Ca));const Re=P[5];null!=Re&&"number"==typeof Re&&0<Re&&(t.J=r=1.5*Re,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const Xe=n.g;if(Xe){const tt=Xe.g?Xe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(tt){var l=r.h;l.g||-1==tt.indexOf("spdy")&&-1==tt.indexOf("quic")&&-1==tt.indexOf("h2")||(l.j=l.l,l.g=new Set,l.h&&(Ru(l,l.h),l.h=null))}if(r.D){const Et=Xe.g?Xe.g.getResponseHeader("X-HTTP-Session-Id"):null;Et&&(r.za=Et,Pr(r.F,r.D,Et))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var d=n;if((r=t).sa=nu(r,r.H?r.ka:null,r.V),d.J){pl(r.h,d);var g=d,E=r.J;E&&g.setTimeout(E),g.B&&(N(g),Qa(g)),r.g=d}else Ms(r);0<t.i.length&&It(t)}else"stop"!=P[0]&&"close"!=P[0]||ic(t,7);else 3==t.G&&("stop"==P[0]||"close"==P[0]?"stop"==P[0]?ic(t,7):j(t):"noop"!=P[0]&&t.l&&t.l.wa(P),t.A=0)}zi()}catch{}}function Jt(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(we(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Rt(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(we(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function lt(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(we(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),s=r.length,l=0;l<s;l++)e.call(void 0,r[l],t&&t[l],n)}(D=si.prototype).setTimeout=function(n){this.O=n},D.ib=function(n){n=n.target;const e=this.L;e&&3==nc(n)?e.l():this.La(n)},D.La=function(n){try{if(n==this.g)e:{const U=nc(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>U)&&(3!=U||ja||this.g&&(this.h.h||this.g.fa()||o2(this.g)))){this.I||4!=U||7==e||zi(),N(this);var t=this.g.aa();this.Y=t;t:if(ha(this)){var r=o2(this.g);n="";var s=r.length,l=4==nc(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ge(this),$(this);var d="";break t}this.h.i=new I.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:l&&e==s-1});r.splice(0,s),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.fa();if(this.i=200==t,function ua(n,e,t,r,s,l,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+"\n"+t+"\n"+l+" "+d})}(this.j,this.u,this.A,this.m,this.U,U,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var g,E=this.g;if((g=E.g?E.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_o(g)){var P=g;break t}}P=null}if(!(t=P)){this.i=!1,this.o=3,w(12),ge(this),$(this);break e}ko(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ge(this,t)}this.P?(D1(this,U,d),ja&&this.i&&3==U&&(Ma(this.S,this.T,"tick",this.hb),this.T.start())):(ko(this.j,this.m,d,null),Ge(this,d)),4==U&&ge(this),this.i&&!this.I&&(4==U?O4(this.l,this):(this.i=!1,Qa(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,w(12)):(this.o=0,w(13)),ge(this),$(this)}}}catch{}},D.hb=function(){if(this.g){var n=nc(this.g),e=this.g.fa();this.C<e.length&&(N(this),D1(this,n,e),this.i&&4!=n&&Qa(this))}},D.cancel=function(){this.I=!0,ge(this)},D.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function Kl(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(zi(),w(17)),ge(this),this.o=2,$(this)):k(this,this.V-n)};var zn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wn(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Wn){this.h=void 0!==e?e:n.h,ii(this,n.j),this.s=n.s,this.g=n.g,mi(this,n.m),this.l=n.l,e=n.i;var t=new Ql;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Xa(this,t),this.o=n.o}else n&&(t=String(n).match(zn))?(this.h=!!e,ii(this,t[1]||"",!0),this.s=Es(t[2]||""),this.g=Es(t[3]||"",!0),mi(this,t[4]),this.l=Es(t[5]||"",!0),Xa(this,t[6]||"",!0),this.o=Es(t[7]||"")):(this.h=!!e,this.i=new Ql(null,this.h))}function Mn(n){return new Wn(n)}function ii(n,e,t){n.j=t?Es(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function mi(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Xa(n,e,t){e instanceof Ql?(n.i=e,function F0(n,e){e&&!n.j&&(zc(n),n.i=null,n.g.forEach(function(t,r){var s=r.toLowerCase();r!=s&&(Ac(this,r),Nd(this,s,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Jo(e,N0)),n.i=new Ql(e,n.h))}function Pr(n,e,t){n.i.set(e,t)}function fa(n){return Pr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Es(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Jo(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,hl),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function hl(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Wn.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Jo(e,Ja,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Jo(e,Ja,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Jo(t,"/"==t.charAt(0)?Zl:ec,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Jo(t,Jh)),n.join("")};var Ja=/[#\/\?@]/g,ec=/[#\?:]/g,Zl=/[#\?]/g,N0=/[#\?@]/g,Jh=/#/g;function Ql(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function zc(n){n.g||(n.g=new Map,n.h=0,n.i&&function Bn(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),s=null;if(0<=r){var l=n[t].substring(0,r);s=n[t].substring(r+1)}else l=n[t];e(l,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Ac(n,e){zc(n),e=fl(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function z4(n,e){return zc(n),e=fl(n,e),n.g.has(e)}function Nd(n,e,t){Ac(n,e),0<t.length&&(n.i=null,n.g.set(fl(n,e),ao(t)),n.h+=t.length)}function fl(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function e2(n){this.l=n||A4,n=I.PerformanceNavigationTiming?0<(n=I.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(I.g&&I.g.Ga&&I.g.Ga()&&I.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(D=Ql.prototype).add=function(n,e){zc(this),this.i=null,n=fl(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},D.forEach=function(n,e){zc(this),this.g.forEach(function(t,r){t.forEach(function(s){n.call(e,s,r,this)},this)},this)},D.oa=function(){zc(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const s=n[r];for(let l=0;l<s.length;l++)t.push(e[r])}return t},D.W=function(n){zc(this);let e=[];if("string"==typeof n)z4(this,n)&&(e=e.concat(this.g.get(fl(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},D.set=function(n,e){return zc(this),this.i=null,z4(this,n=fl(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},D.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},D.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const l=encodeURIComponent(String(r)),d=this.W(r);for(r=0;r<d.length;r++){var s=l;""!==d[r]&&(s+="="+encodeURIComponent(String(d[r]))),n.push(s)}}return this.i=n.join("&")};var A4=10;function Rd(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Fu(n){return n.h?1:n.g?n.g.size:0}function Xl(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Ru(n,e){n.g?n.g.add(e):n.h=e}function pl(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function k4(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return ao(n.i)}function T1(){}function t2(){this.g=new T1}function x1(n,e,t){const r=t||"";try{Jt(n,function(s,l){let d=s;st(s)&&(d=Ka(s)),e.push(r+l+"="+encodeURIComponent(d))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function Lu(n,e,t,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function Jl(n){this.l=n.ac||null,this.j=n.jb||!1}function ml(n,e){Br.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=tc,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}e2.prototype.cancel=function(){if(this.i=k4(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},T1.prototype.stringify=function(n){return I.JSON.stringify(n,void 0)},T1.prototype.parse=function(n){return I.JSON.parse(n,void 0)},Hn(Jl,W),Jl.prototype.g=function(){return new ml(this.l,this.j)},Jl.prototype.i=function(n){return function(){return n}}({}),Hn(ml,Br);var tc=0;function I1(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function Vu(n){n.readyState=4,n.l=null,n.j=null,n.A=null,eu(n)}function eu(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(D=ml.prototype).open=function(n,e){if(this.readyState!=tc)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,eu(this)},D.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||I).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},D.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Vu(this)),this.readyState=tc},D.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,eu(this)),this.g&&(this.readyState=3,eu(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof I.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;I1(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},D.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Vu(this):eu(this),3==this.readyState&&I1(this)}},D.Va=function(n){this.g&&(this.response=this.responseText=n,Vu(this))},D.Ua=function(n){this.g&&(this.response=n,Vu(this))},D.ga=function(){this.g&&Vu(this)},D.setRequestHeader=function(n,e){this.v.append(n,e)},D.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},D.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(ml.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var n2=I.JSON.parse;function ai(n){Br.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=xa,this.K=this.L=!1}Hn(ai,Br);var xa="",gl=/^https?$/i,Ld=["POST","PUT"];function Vd(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Hd(n),z1(n)}function Hd(n){n.D||(n.D=!0,Yr(n,"complete"),Yr(n,"error"))}function Bd(n){if(n.h&&typeof H<"u"&&(!n.C[1]||4!=nc(n)||2!=n.aa()))if(n.v&&4==nc(n))Nu(n.Ha,0,n);else if(Yr(n,"readystatechange"),4==nc(n)){n.h=!1;try{const g=n.aa();e:switch(g){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===g){var s=String(n.H).match(zn)[1]||null;if(!s&&I.self&&I.self.location){var l=I.self.location.protocol;s=l.substr(0,l.length-1)}r=!gl.test(s?s.toLowerCase():"")}t=r}if(t)Yr(n,"complete"),Yr(n,"success");else{n.m=6;try{var d=2<nc(n)?n.g.statusText:""}catch{d=""}n.j=d+" ["+n.aa()+"]",Hd(n)}}finally{z1(n)}}}function z1(n,e){if(n.g){A1(n);const t=n.g,r=n.C[0]?Q:null;n.g=null,n.C=null,e||Yr(n,"ready");try{t.onreadystatechange=r}catch{}}}function A1(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(I.clearTimeout(n.A),n.A=null)}function nc(n){return n.g?n.g.readyState:0}function o2(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case xa:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function C(n){let e="";return Ns(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function p(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=C(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Pr(n,e,t))}function m(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function M(n){this.Ca=0,this.i=[],this.j=new Co,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=m("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=m("baseRetryDelayMs",5e3,n),this.bb=m("retryDelaySeedMs",1e4,n),this.$a=m("forwardChannelMaxRetries",2,n),this.ta=m("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new e2(n&&n.concurrentRequestLimit),this.Fa=new t2,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function j(n){if(Ze(n),3==n.G){var e=n.U++,t=Mn(n.F);Pr(t,"SID",n.I),Pr(t,"RID",e),Pr(t,"TYPE","terminate"),ar(n,t),(e=new si(n,n.j,e,void 0)).K=2,e.v=fa(Mn(t)),t=!1,I.navigator&&I.navigator.sendBeacon&&(t=I.navigator.sendBeacon(e.v.toString(),"")),!t&&I.Image&&((new Image).src=e.v,t=!0),t||(e.g=Bu(e.l,null),e.g.da(e.v)),e.F=Date.now(),Qa(e)}P1(n)}function te(n){n.g&&(Hu(n),n.g.cancel(),n.g=null)}function Ze(n){te(n),n.u&&(I.clearTimeout(n.u),n.u=null),tu(n),n.h.cancel(),n.m&&("number"==typeof n.m&&I.clearTimeout(n.m),n.m=null)}function It(n){Rd(n.h)||n.m||(n.m=!0,Dc(n.Ja,n),n.C=0)}function On(n,e){var t;t=e?e.m:n.U++;const r=Mn(n.F);Pr(r,"SID",n.I),Pr(r,"RID",t),Pr(r,"AID",n.T),ar(n,r),n.o&&n.s&&p(r,n.o,n.s),t=new si(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=Qr(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),Ru(n.h,t),Us(t,r,e)}function ar(n,e){n.ia&&Ns(n.ia,function(t,r){Pr(e,r,t)}),n.l&&Jt({},function(t,r){Pr(e,r,t)})}function Qr(n,e,t){t=Math.min(n.i.length,t);var r=n.l?In(n.l.Ra,n.l,n):null;e:{var s=n.i;let l=-1;for(;;){const d=["count="+t];-1==l?0<t?(l=s[0].h,d.push("ofs="+l)):l=0:d.push("ofs="+l);let g=!0;for(let E=0;E<t;E++){let P=s[E].h;const U=s[E].g;if(P-=l,0>P)l=Math.max(0,s[E].h-100),g=!1;else try{x1(U,d,"req"+P+"_")}catch{r&&r(U)}}if(g){r=d.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function Ms(n){n.g||n.u||(n.Z=1,Dc(n.Ia,n),n.A=0)}function rc(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=_(In(n.Ia,n),N4(n,n.A)),n.A++,0))}function Hu(n){null!=n.B&&(I.clearTimeout(n.B),n.B=null)}function k1(n){n.g=new si(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=Mn(n.sa);Pr(e,"RID","rpc"),Pr(e,"SID",n.I),Pr(e,"CI",n.L?"0":"1"),Pr(e,"AID",n.T),Pr(e,"TYPE","xmlhttp"),ar(n,e),n.o&&n.s&&p(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=fa(Mn(e)),t.s=null,t.P=!0,Ta(t,n)}function tu(n){null!=n.v&&(I.clearTimeout(n.v),n.v=null)}function O4(n,e){var t=null;if(n.g==e){tu(n),Hu(n),n.g=null;var r=2}else{if(!Xl(n.h,e))return;t=e.D,pl(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var s=n.C;Yr(r=Da(),new b(r,t)),It(n)}else Ms(n);else if(3==(s=e.o)||0==s&&0<n.pa||!(1==r&&function wn(n,e){return!(Fu(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=_(In(n.Ja,n,e),N4(n,n.C)),n.C++,0)))}(n,e)||2==r&&rc(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),s){case 1:ic(n,5);break;case 4:ic(n,10);break;case 3:ic(n,6);break;default:ic(n,2)}}function N4(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function ic(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=In(n.kb,n);t||(t=new Wn("//www.google.com/images/cleardot.gif"),I.location&&"http"==I.location.protocol||ii(t,"https"),fa(t)),function P4(n,e){const t=new Co;if(I.Image){const r=new Image;r.onload=Rr(Lu,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Rr(Lu,t,r,"TestLoadImage: error",!1,e),r.onabort=Rr(Lu,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Rr(Lu,t,r,"TestLoadImage: timeout",!1,e),I.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else w(2);n.G=0,n.l&&n.l.va(e),P1(n),Ze(n)}function P1(n){if(n.G=0,n.la=[],n.l){const e=k4(n.h);(0!=e.length||0!=n.i.length)&&(as(n.la,e),as(n.la,n.i),n.h.i.length=0,ao(n.i),n.i.length=0),n.l.ua()}}function nu(n,e,t){var r=t instanceof Wn?Mn(t):new Wn(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),mi(r,r.m);else{var s=I.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var l=new Wn(null,void 0);r&&ii(l,r),e&&(l.g=e),s&&mi(l,s),t&&(l.l=t),r=l}return e=n.za,(t=n.D)&&e&&Pr(r,t,e),Pr(r,"VER",n.ma),ar(n,r),r}function Bu(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ai(t&&n.Da&&!n.ra?new Jl({jb:!0}):n.ra)).Ka(n.H),e}function Yu(){}function O1(){if(wo&&!(10<=Number(sl)))throw Error("Environmental error: no available transport.")}function Mr(n,e){Br.call(this),this.g=new M(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!_o(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!_o(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new ru(this)}function Yd(n){Kt.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function R0(){Vn.call(this),this.status=1}function ru(n){this.g=n}(D=ai.prototype).Ka=function(n){this.L=n},D.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():rn.g(),this.C=function pe(n){return n.h||(n.h=n.i())}(this.u?this.u:rn),this.g.onreadystatechange=In(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void Vd(this,l)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)t.set(s,r[s]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const l of r.keys())t.set(l,r.get(l))}r=Array.from(t.keys()).find(l=>"content-type"==l.toLowerCase()),s=I.FormData&&n instanceof I.FormData,!(0<=yo(Ld,e))||r||s||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,d]of t)this.g.setRequestHeader(l,d);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{A1(this),0<this.B&&((this.K=function r2(n){return wo&&function Cc(){return function Ul(n){var e=Ga;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=rl(String(Zr)).split("."),t=rl("9").split("."),r=Math.max(e.length,t.length);for(let d=0;0==n&&d<r;d++){var s=e[d]||"",l=t[d]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==s[0].length&&0==l[0].length)break;n=qr(0==s[1].length?0:parseInt(s[1],10),0==l[1].length?0:parseInt(l[1],10))||qr(0==s[2].length,0==l[2].length)||qr(s[2],l[2]),s=s[3],l=l[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=In(this.qa,this)):this.A=Nu(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){Vd(this,l)}},D.qa=function(){typeof H<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Yr(this,"timeout"),this.abort(8))},D.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Yr(this,"complete"),Yr(this,"abort"),z1(this))},D.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),z1(this,!0)),ai.X.M.call(this)},D.Ha=function(){this.s||(this.F||this.v||this.l?Bd(this):this.fb())},D.fb=function(){Bd(this)},D.aa=function(){try{return 2<nc(this)?this.g.status:-1}catch{return-1}},D.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},D.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),n2(e)}},D.Ea=function(){return this.m},D.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(D=M.prototype).ma=8,D.G=1,D.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const s=new si(this,this.j,n,void 0);let l=this.s;if(this.S&&(l?(l=Fs(l),Ss(l,this.S)):l=this.S),null!==this.o||this.N||(s.H=l,l=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Qr(this,s,e),Pr(t=Mn(this.F),"RID",n),Pr(t,"CVER",22),this.D&&Pr(t,"X-HTTP-Session-Id",this.D),ar(this,t),l&&(this.N?e="headers="+encodeURIComponent(String(C(l)))+"&"+e:this.o&&p(t,this.o,l)),Ru(this.h,s),this.Ya&&Pr(t,"TYPE","init"),this.O?(Pr(t,"$req",e),Pr(t,"SID","null"),s.Z=!0,Us(s,t,null)):Us(s,t,e),this.G=2}}else 3==this.G&&(n?On(this,n):0==this.i.length||Rd(this.h)||On(this))},D.Ia=function(){if(this.u=null,k1(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=_(In(this.eb,this),n)}},D.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,w(10),te(this),k1(this))},D.cb=function(){null!=this.v&&(this.v=null,te(this),rc(this),w(19))},D.kb=function(n){n?(this.j.info("Successfully pinged google.com"),w(2)):(this.j.info("Failed to ping google.com"),w(1))},(D=Yu.prototype).xa=function(){},D.wa=function(){},D.va=function(){},D.ua=function(){},D.Ra=function(){},O1.prototype.g=function(n,e){return new Mr(n,e)},Hn(Mr,Br),Mr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;w(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=nu(n,null,n.V),It(n)},Mr.prototype.close=function(){j(this.g)},Mr.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Ka(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&It(e)},Mr.prototype.M=function(){this.g.l=null,delete this.j,j(this.g),delete this.g,Mr.X.M.call(this)},Hn(Yd,Kt),Hn(R0,Vn),Hn(ru,Yu),ru.prototype.xa=function(){Yr(this.g,"a")},ru.prototype.wa=function(n){Yr(this.g,new Yd(n))},ru.prototype.va=function(n){Yr(this.g,new R0)},ru.prototype.ua=function(){Yr(this.g,"b")},O1.prototype.createWebChannel=O1.prototype.g,Mr.prototype.send=Mr.prototype.u,Mr.prototype.open=Mr.prototype.m,Mr.prototype.close=Mr.prototype.close,x.NO_ERROR=0,x.TIMEOUT=8,x.HTTP_ERROR=6,O.COMPLETE="complete",Ce.EventType=dt,dt.OPEN="a",dt.CLOSE="b",dt.ERROR="c",dt.MESSAGE="d",Br.prototype.listen=Br.prototype.N,ai.prototype.listenOnce=ai.prototype.O,ai.prototype.getLastError=ai.prototype.Oa,ai.prototype.getLastErrorCode=ai.prototype.Ea,ai.prototype.getStatus=ai.prototype.aa,ai.prototype.getResponseJson=ai.prototype.Sa,ai.prototype.getResponseText=ai.prototype.fa,ai.prototype.send=ai.prototype.da,ai.prototype.setWithCredentials=ai.prototype.Ka;var L0=Ko.createWebChannelTransport=function(){return new O1},sp=Ko.getStatEventTarget=function(){return Da()},s2=Ko.ErrorCode=x,ap=Ko.EventType=O,cp=Ko.Event=da,V0=Ko.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},pg=Ko.FetchXmlHttpFactory=Jl,a2=Ko.WebChannel=Ce,F4=Ko.XhrIo=ai;const Ud="@firebase/firestore";class So{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}So.UNAUTHENTICATED=new So(null),So.GOOGLE_CREDENTIALS=new So("google-credentials-uid"),So.FIRST_PARTY=new So("first-party-uid"),So.MOCK_USER=new So("mock-user");let Uu="9.13.0";const vl=new Ki.Yd("@firebase/firestore");function c2(){return vl.logLevel}function Gt(n,...e){if(vl.logLevel<=Ki.in.DEBUG){const t=e.map(l2);vl.debug(`Firestore (${Uu}): ${n}`,...t)}}function Ai(n,...e){if(vl.logLevel<=Ki.in.ERROR){const t=e.map(l2);vl.error(`Firestore (${Uu}): ${n}`,...t)}}function N1(n,...e){if(vl.logLevel<=Ki.in.WARN){const t=e.map(l2);vl.warn(`Firestore (${Uu}): ${n}`,...t)}}function l2(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function En(n="Unexpected state"){const e=`FIRESTORE (${Uu}) INTERNAL ASSERTION FAILED: `+n;throw Ai(e),new Error(e)}function $n(n,e){n||En()}function on(n,e){return n}const gt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ht extends _r.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Bi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Y0{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class u2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(So.UNAUTHENTICATED))}shutdown(){}}class jd{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ju{constructor(e){this.t=e,this.currentUser=So.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let s=this.i;const l=P=>this.i!==s?(s=this.i,t(P)):Promise.resolve();let d=new Bi;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new Bi,e.enqueueRetryable(()=>l(this.currentUser))};const g=()=>{const P=d;e.enqueueRetryable((0,_t.Z)(function*(){yield P.promise,yield l(r.currentUser)}))},E=P=>{Gt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=P,this.auth.addAuthTokenListener(this.o),g()};this.t.onInit(P=>E(P)),setTimeout(()=>{if(!this.auth){const P=this.t.getImmediate({optional:!0});P?E(P):(Gt("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new Bi)}},0),g()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Gt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($n("string"==typeof r.accessToken),new Y0(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return $n(null===e||"string"==typeof e),new So(e)}}class d2{constructor(e,t,r,s){this.h=e,this.l=t,this.m=r,this.g=s,this.type="FirstParty",this.user=So.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():($n(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class h2{constructor(e,t,r,s){this.h=e,this.l=t,this.m=r,this.g=s}getToken(){return Promise.resolve(new d2(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(So.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class U0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lp{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=l=>{null!=l.error&&Gt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const d=l.token!==this.A;return this.A=l.token,Gt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const s=l=>{Gt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.T.onInit(l=>s(l)),setTimeout(()=>{if(!this.appCheck){const l=this.T.getImmediate({optional:!0});l?s(l):Gt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?($n("string"==typeof t.token),this.A=t.token,new U0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function F1(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class j0{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=F1(40);for(let l=0;l<s.length;++l)r.length<20&&s[l]<t&&(r+=e.charAt(s[l]%e.length))}return r}}function cr(n,e){return n<e?-1:n>e?1:0}function R1(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}function $0(n){return n+"\0"}class ci{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ht(gt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ht(gt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ht(gt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ht(gt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ci.fromMillis(Date.now())}static fromDate(e){return ci.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new ci(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?cr(this.nanoseconds,e.nanoseconds):cr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Kn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Kn(e)}static min(){return new Kn(new ci(0,0))}static max(){return new Kn(new ci(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class L1{constructor(e,t,r){void 0===t?t=0:t>e.length&&En(),void 0===r?r=e.length-t:r>e.length-t&&En(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===L1.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof L1?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const l=e.get(s),d=t.get(s);if(l<d)return-1;if(l>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class kr extends L1{construct(e,t,r){return new kr(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ht(gt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new kr(t)}static emptyPath(){return new kr([])}}const f2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class eo extends L1{construct(e,t,r){return new eo(e,t,r)}static isValidIdentifier(e){return f2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),eo.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new eo(["__name__"])}static fromServerFormat(e){const t=[];let r="",s=0;const l=()=>{if(0===r.length)throw new Ht(gt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;s<e.length;){const g=e[s];if("\\"===g){if(s+1===e.length)throw new Ht(gt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const E=e[s+1];if("\\"!==E&&"."!==E&&"`"!==E)throw new Ht(gt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=E,s+=2}else"`"===g?(d=!d,s++):"."!==g||d?(r+=g,s++):(l(),s++)}if(l(),d)throw new Ht(gt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new eo(t)}static emptyPath(){return new eo([])}}class ln{constructor(e){this.path=e}static fromPath(e){return new ln(kr.fromString(e))}static fromName(e){return new ln(kr.fromString(e).popFirst(5))}static empty(){return new ln(kr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===kr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return kr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ln(new kr(e.slice()))}}class iu{constructor(e,t,r,s){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=s}}function p2(n){return n.fields.find(e=>2===e.kind)}function Ia(n){return n.fields.filter(e=>2!==e.kind)}iu.UNKNOWN_ID=-1;class $d{constructor(e,t){this.fieldPath=e,this.kind=t}}class V1{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new V1(0,pa.min())}}function G0(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Kn.fromTimestamp(1e9===r?new ci(t+1,0):new ci(t,r));return new pa(s,ln.empty(),e)}function W0(n){return new pa(n.readTime,n.key,-1)}class pa{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new pa(Kn.min(),ln.empty(),-1)}static max(){return new pa(Kn.max(),ln.empty(),-1)}}function Gd(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=ln.comparator(n.documentKey,e.documentKey),0!==t?t:cr(n.largestBatchId,e.largestBatchId))}const m2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Wd{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ou(n){return Kd.apply(this,arguments)}function Kd(){return Kd=(0,_t.Z)(function*(n){if(n.code!==gt.FAILED_PRECONDITION||n.message!==m2)throw n;Gt("LocalStore","Unexpectedly lost primary lease")}),Kd.apply(this,arguments)}class ut{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&En(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ut((r,s)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,s)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ut?t:ut.resolve(t)}catch(t){return ut.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ut.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ut.reject(t)}static resolve(e){return new ut((t,r)=>{t(e)})}static reject(e){return new ut((t,r)=>{r(e)})}static waitFor(e){return new ut((t,r)=>{let s=0,l=0,d=!1;e.forEach(g=>{++s,g.next(()=>{++l,d&&l===s&&t()},E=>r(E))}),d=!0,l===s&&t()})}static or(e){let t=ut.resolve(!1);for(const r of e)t=t.next(s=>s?ut.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,l)=>{r.push(t.call(this,s,l))}),this.waitFor(r)}static mapArray(e,t){return new ut((r,s)=>{const l=e.length,d=new Array(l);let g=0;for(let E=0;E<l;E++){const P=E;t(e[P]).next(U=>{d[P]=U,++g,g===l&&r(d)},U=>s(U))}})}static doWhile(e,t){return new ut((r,s)=>{const l=()=>{!0===e()?t().next(()=>{l()},s):r()};l()})}}class g2{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Bi,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new qd(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{const s=y2(r.target.error);this.P.reject(new qd(e,s))}}static open(e,t,r,s){try{return new g2(t,e.transaction(s,r))}catch(l){throw new qd(t,l)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Gt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new gg(t)}}class kc{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===kc.D((0,_r.z$)())&&Ai("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Gt("SimpleDb","Removing database:",e),H1(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,_r.hl)())return!1;if(kc.N())return!0;const e=(0,_r.z$)(),t=kc.D(e),r=0<t&&t<10,s=kc.k(e),l=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(e){var t=this;return(0,_t.Z)(function*(){return t.db||(Gt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,s)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=d=>{r(d.target.result)},l.onblocked=()=>{s(new qd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=d=>{const g=d.target.error;s("VersionError"===g.name?new Ht(gt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===g.name?new Ht(gt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+g):new qd(e,g))},l.onupgradeneeded=d=>{Gt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.S.$(d.target.result,l.transaction,d.oldVersion,t.version).next(()=>{Gt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,s){var l=this;return(0,_t.Z)(function*(){const d="readonly"===t;let g=0;for(;;){++g;try{l.db=yield l.F(e);const E=g2.open(l.db,e,d?"readonly":"readwrite",r),P=s(E).next(U=>(E.V(),U)).catch(U=>(E.abort(U),ut.reject(U))).toPromise();return P.catch(()=>{}),yield E.v,P}catch(E){const P=E,U="FirebaseError"!==P.name&&g<3;if(Gt("SimpleDb","Transaction failed with error:",P.message,"Retrying:",U),l.close(),!U)return Promise.reject(P)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class v2{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return H1(this.U.delete())}}class qd extends Ht{constructor(e,t){super(gt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function $u(n){return"IndexedDbTransactionError"===n.name}class gg{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Gt("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Gt("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),H1(r)}add(e){return Gt("SimpleDb","ADD",this.store.name,e,e),H1(this.store.add(e))}get(e){return H1(this.store.get(e)).next(t=>(void 0===t&&(t=null),Gt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Gt("SimpleDb","DELETE",this.store.name,e),H1(this.store.delete(e))}count(){return Gt("SimpleDb","COUNT",this.store.name),H1(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const s=this.cursor(r),l=[];return this.H(s,(d,g)=>{l.push(g)}).next(()=>l)}{const s=this.store.getAll(r.range);return new ut((l,d)=>{s.onerror=g=>{d(g.target.error)},s.onsuccess=g=>{l(g.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new ut((s,l)=>{r.onerror=d=>{l(d.target.error)},r.onsuccess=d=>{s(d.target.result)}})}Y(e,t){Gt("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const s=this.cursor(r);return this.H(s,(l,d,g)=>g.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const s=this.cursor(r);return this.H(s,t)}tt(e){const t=this.cursor({});return new ut((r,s)=>{t.onerror=l=>{const d=y2(l.target.error);s(d)},t.onsuccess=l=>{const d=l.target.result;d?e(d.primaryKey,d.value).next(g=>{g?d.continue():r()}):r()}})}H(e,t){const r=[];return new ut((s,l)=>{e.onerror=d=>{l(d.target.error)},e.onsuccess=d=>{const g=d.target.result;if(!g)return void s();const E=new v2(g),P=t(g.primaryKey,g.value,E);if(P instanceof ut){const U=P.catch(se=>(E.done(),ut.reject(se)));r.push(U)}E.isDone?s():null===E.G?g.continue():g.continue(E.G)}}).next(()=>ut.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function H1(n){return new ut((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const s=y2(r.target.error);t(s)}})}let dp=!1;function y2(n){const e=kc.D((0,_r.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Ht("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return dp||(dp=!0,setTimeout(()=>{throw r},0)),r}}return n}class K0{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Gt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,_t.Z)(function*(){t.task=null;try{Gt("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){$u(r)?Gt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield ou(r)}yield t.nt(6e4)}))}}class _2{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,_t.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let s=t,l=!0;return ut.doWhile(()=>!0===l&&s>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(d=>{if(null!==d&&!r.has(d))return Gt("IndexBackiller",`Processing collection: ${d}`),this.rt(e,d,s).next(g=>{s-=g,r.add(d)});l=!1})).next(()=>t-s)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(s=>this.localStore.localDocuments.getNextDocuments(e,t,s,r).next(l=>{const d=l.changes;return this.localStore.indexManager.updateIndexEntries(e,d).next(()=>this.ot(s,l)).next(g=>(Gt("IndexBackiller",`Updating offset: ${g}`),this.localStore.indexManager.updateCollectionGroup(e,t,g))).next(()=>d.size)}))}ot(e,t){let r=e;return t.changes.forEach((s,l)=>{const d=W0(l);Gd(d,r)>0&&(r=d)}),new pa(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Ds{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>t.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function w2(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function yl(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Zd(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}Ds.at=-1;class Yi{constructor(e,t){this.comparator=e,this.root=t||to.EMPTY}insert(e,t){return new Yi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,to.BLACK,null,null))}remove(e){return new Yi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,to.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new B1(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new B1(this.root,e,this.comparator,!1)}getReverseIterator(){return new B1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new B1(this.root,e,this.comparator,!0)}}class B1{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&s&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class to{constructor(e,t,r,s,l){this.key=e,this.value=t,this.color=r??to.RED,this.left=s??to.EMPTY,this.right=l??to.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,l){return new to(e??this.key,t??this.value,r??this.color,s??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const l=r(e,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(e,t,r),null):0===l?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return to.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),0===t(e,s.key)){if(s.right.isEmpty())return to.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,to.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,to.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw En();const e=this.left.check();if(e!==this.right.check())throw En();return e+(this.isRed()?0:1)}}to.EMPTY=null,to.RED=!0,to.BLACK=!1,to.EMPTY=new class{constructor(){this.size=0}get key(){throw En()}get value(){throw En()}get color(){throw En()}get left(){throw En()}get right(){throw En()}copy(n,e,t,r,s){return this}insert(n,e,t){return new to(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ti{constructor(e){this.comparator=e,this.data=new Yi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new q0(this.data.getIterator())}getIteratorFrom(e){return new q0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof ti)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=r.getNext().key;if(0!==this.comparator(s,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ti(this.comparator);return t.data=e,t}}class q0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Y1(n){return n.hasNext()?n.getNext():void 0}class js{constructor(e){this.fields=e,e.sort(eo.comparator)}static empty(){return new js([])}unionWith(e){let t=new ti(eo.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new js(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return R1(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Eo{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Eo(t)}static fromUint8Array(e){const t=function(r){let s="";for(let l=0;l<r.length;++l)s+=String.fromCharCode(r[l]);return s}(e);return new Eo(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return cr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Eo.EMPTY_BYTE_STRING=new Eo("");const fp=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function su(n){if($n(!!n),"string"==typeof n){let e=0;const t=fp.exec(n);if($n(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Mi(n.seconds),nanos:Mi(n.nanos)}}function Mi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Gu(n){return"string"==typeof n?Eo.fromBase64String(n):Eo.fromUint8Array(n)}function b2(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Z0(n){const e=n.mapValue.fields.__previous_value__;return b2(e)?Z0(e):e}function U1(n){const e=su(n.mapValue.fields.__local_write_time__.timestampValue);return new ci(e.seconds,e.nanos)}class pp{constructor(e,t,r,s,l,d,g,E){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=l,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.useFetchStreams=E}}class au{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new au("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof au&&e.projectId===this.projectId&&e.database===this.database}}function Mo(n){return null==n}function Wu(n){return 0===n&&1/n==-1/0}function C2(n){return"number"==typeof n&&Number.isInteger(n)&&!Wu(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Pc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Do={nullValue:"NULL_VALUE"};function oc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?b2(n)?4:qu(n)?9007199254740991:10:En()}function sc(n,e){if(n===e)return!0;const t=oc(n);if(t!==oc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return U1(n).isEqual(U1(e));case 3:return function(r,s){if("string"==typeof r.timestampValue&&"string"==typeof s.timestampValue&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const l=su(r.timestampValue),d=su(s.timestampValue);return l.seconds===d.seconds&&l.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return s=e,Gu(n.bytesValue).isEqual(Gu(s.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,s){return Mi(r.geoPointValue.latitude)===Mi(s.geoPointValue.latitude)&&Mi(r.geoPointValue.longitude)===Mi(s.geoPointValue.longitude)}(n,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Mi(r.integerValue)===Mi(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const l=Mi(r.doubleValue),d=Mi(s.doubleValue);return l===d?Wu(l)===Wu(d):isNaN(l)&&isNaN(d)}return!1}(n,e);case 9:return R1(n.arrayValue.values||[],e.arrayValue.values||[],sc);case 10:return function(r,s){const l=r.mapValue.fields||{},d=s.mapValue.fields||{};if(w2(l)!==w2(d))return!1;for(const g in l)if(l.hasOwnProperty(g)&&(void 0===d[g]||!sc(l[g],d[g])))return!1;return!0}(n,e);default:return En()}var s}function L4(n,e){return void 0!==(n.values||[]).find(t=>sc(t,e))}function cu(n,e){if(n===e)return 0;const t=oc(n),r=oc(e);if(t!==r)return cr(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return cr(n.booleanValue,e.booleanValue);case 2:return function(s,l){const d=Mi(s.integerValue||s.doubleValue),g=Mi(l.integerValue||l.doubleValue);return d<g?-1:d>g?1:d===g?0:isNaN(d)?isNaN(g)?0:-1:1}(n,e);case 3:return S2(n.timestampValue,e.timestampValue);case 4:return S2(U1(n),U1(e));case 5:return cr(n.stringValue,e.stringValue);case 6:return function(s,l){const d=Gu(s),g=Gu(l);return d.compareTo(g)}(n.bytesValue,e.bytesValue);case 7:return function(s,l){const d=s.split("/"),g=l.split("/");for(let E=0;E<d.length&&E<g.length;E++){const P=cr(d[E],g[E]);if(0!==P)return P}return cr(d.length,g.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,l){const d=cr(Mi(s.latitude),Mi(l.latitude));return 0!==d?d:cr(Mi(s.longitude),Mi(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(s,l){const d=s.values||[],g=l.values||[];for(let E=0;E<d.length&&E<g.length;++E){const P=cu(d[E],g[E]);if(P)return P}return cr(d.length,g.length)}(n.arrayValue,e.arrayValue);case 10:return function(s,l){if(s===Pc.mapValue&&l===Pc.mapValue)return 0;if(s===Pc.mapValue)return 1;if(l===Pc.mapValue)return-1;const d=s.fields||{},g=Object.keys(d),E=l.fields||{},P=Object.keys(E);g.sort(),P.sort();for(let U=0;U<g.length&&U<P.length;++U){const se=cr(g[U],P[U]);if(0!==se)return se;const Re=cu(d[g[U]],E[P[U]]);if(0!==Re)return Re}return cr(g.length,P.length)}(n.mapValue,e.mapValue);default:throw En()}}function S2(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return cr(n,e);const t=su(n),r=su(e),s=cr(t.seconds,r.seconds);return 0!==s?s:cr(t.nanos,r.nanos)}function j1(n){return Qd(n)}function Qd(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const s=su(r);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Gu(n.bytesValue).toBase64():"referenceValue"in n?ln.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let s="[",l=!0;for(const d of r.values||[])l?l=!1:s+=",",s+=Qd(d);return s+"]"}(n.arrayValue):"mapValue"in n?function(r){const s=Object.keys(r.fields||{}).sort();let l="{",d=!0;for(const g of s)d?d=!1:l+=",",l+=`${g}:${Qd(r.fields[g])}`;return l+"}"}(n.mapValue):En();var e}function Ku(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Xd(n){return!!n&&"integerValue"in n}function V4(n){return!!n&&"arrayValue"in n}function Q0(n){return!!n&&"nullValue"in n}function X0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Jd(n){return!!n&&"mapValue"in n}function H4(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return yl(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=H4(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=H4(n.arrayValue.values[t]);return e}return Object.assign({},n)}function qu(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function _l(n){return"nullValue"in n?Do:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Ku(au.empty(),ln.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:En()}function mp(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Ku(au.empty(),ln.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Pc:En()}function J0(n,e){const t=cu(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function gp(n,e){const t=cu(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class ds{constructor(e){this.value=e}static empty(){return new ds({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Jd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=H4(t)}setAll(e){let t=eo.emptyPath(),r={},s=[];e.forEach((d,g)=>{if(!t.isImmediateParentOf(g)){const E=this.getFieldsMap(t);this.applyChanges(E,r,s),r={},s=[],t=g.popLast()}d?r[g.lastSegment()]=H4(d):s.push(g.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,s)}delete(e){const t=this.field(e.popLast());Jd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return sc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];Jd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){yl(t,(s,l)=>e[s]=l);for(const s of r)delete e[s]}clone(){return new ds(H4(this.value))}}function E2(n){const e=[];return yl(n.fields,(t,r)=>{const s=new eo([t]);if(Jd(r)){const l=E2(r.mapValue).fields;if(0===l.length)e.push(s);else for(const d of l)e.push(s.child(d))}else e.push(s)}),new js(e)}class gi{constructor(e,t,r,s,l,d){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.data=l,this.documentState=d}static newInvalidDocument(e){return new gi(e,0,Kn.min(),Kn.min(),ds.empty(),0)}static newFoundDocument(e,t,r){return new gi(e,1,t,Kn.min(),r,0)}static newNoDocument(e,t){return new gi(e,2,t,Kn.min(),ds.empty(),0)}static newUnknownDocument(e,t){return new gi(e,3,t,Kn.min(),ds.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ds.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ds.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Kn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof gi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gi(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Oc{constructor(e,t=null,r=[],s=[],l=null,d=null,g=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=l,this.startAt=d,this.endAt=g,this.ht=null}}function eh(n,e=null,t=[],r=[],s=null,l=null,d=null){return new Oc(n,e,t,r,s,l,d)}function wl(n){const e=on(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(s=r).field.canonicalString()+s.op.toString()+j1(s.value);var s}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),Mo(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>j1(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>j1(r)).join(",")),e.ht=t}return e.ht}function $1(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let s=0;s<n.orderBy.length;s++)if(!_p(n.orderBy[s],e.orderBy[s]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let s=0;s<n.filters.length;s++)if((t=n.filters[s]).op!==(r=e.filters[s]).op||!t.field.isEqual(r.field)||!sc(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!i8(n.startAt,e.startAt)&&i8(n.endAt,e.endAt)}function th(n){return ln.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function lu(n,e){return n.filters.filter(t=>t instanceof To&&t.field.isEqual(e))}function e8(n,e,t){let r=Do,s=!0;for(const l of lu(n,e)){let d=Do,g=!0;switch(l.op){case"<":case"<=":d=_l(l.value);break;case"==":case"in":case">=":d=l.value;break;case">":d=l.value,g=!1;break;case"!=":case"not-in":d=Do}J0({value:r,inclusive:s},{value:d,inclusive:g})<0&&(r=d,s=g)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const d=t.position[l];J0({value:r,inclusive:s},{value:d,inclusive:t.inclusive})<0&&(r=d,s=t.inclusive);break}return{value:r,inclusive:s}}function t8(n,e,t){let r=Pc,s=!0;for(const l of lu(n,e)){let d=Pc,g=!0;switch(l.op){case">=":case">":d=mp(l.value),g=!1;break;case"==":case"in":case"<=":d=l.value;break;case"<":d=l.value,g=!1;break;case"!=":case"not-in":d=Pc}gp({value:r,inclusive:s},{value:d,inclusive:g})>0&&(r=d,s=g)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const d=t.position[l];gp({value:r,inclusive:s},{value:d,inclusive:t.inclusive})>0&&(r=d,s=t.inclusive);break}return{value:r,inclusive:s}}class To extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new M2(e,t,r):"array-contains"===t?new D2(e,r):"in"===t?new T2(e,r):"not-in"===t?new yp(e,r):"array-contains-any"===t?new x2(e,r):new To(e,t,r)}static lt(e,t,r){return"in"===t?new n8(e,r):new vg(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(cu(t,this.value)):null!==t&&oc(this.value)===oc(t)&&this.ft(cu(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return En()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class M2 extends To{constructor(e,t,r){super(e,t,r),this.key=ln.fromName(r.referenceValue)}matches(e){const t=ln.comparator(e.key,this.key);return this.ft(t)}}class n8 extends To{constructor(e,t){super(e,"in",t),this.keys=Zu(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class vg extends To{constructor(e,t){super(e,"not-in",t),this.keys=Zu(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Zu(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>ln.fromName(r.referenceValue))}class D2 extends To{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return V4(t)&&L4(t.arrayValue,this.value)}}class T2 extends To{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&L4(this.value.arrayValue,t)}}class yp extends To{constructor(e,t){super(e,"not-in",t)}matches(e){if(L4(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!L4(this.value.arrayValue,t)}}class x2 extends To{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!V4(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>L4(this.value.arrayValue,r))}}class uu{constructor(e,t){this.position=e,this.inclusive=t}}class G1{constructor(e,t="asc"){this.field=e,this.dir=t}}function _p(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function r8(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const l=e[s],d=n.position[s];if(r=l.field.isKeyField()?ln.comparator(ln.fromName(d.referenceValue),t.key):cu(d,t.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return r}function i8(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!sc(n.position[t],e.position[t]))return!1;return!0}class bl{constructor(e,t=null,r=[],s=[],l=null,d="F",g=null,E=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=l,this.limitType=d,this.startAt=g,this.endAt=E,this._t=null,this.wt=null}}function I2(n,e,t,r,s,l,d,g){return new bl(n,e,t,r,s,l,d,g)}function du(n){return new bl(n)}function z2(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function B4(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function A2(n){for(const e of n.filters)if(e.dt())return e.field;return null}function k2(n){return null!==n.collectionGroup}function Qu(n){const e=on(n);if(null===e._t){e._t=[];const t=A2(e),r=B4(e);if(null!==t&&null===r)t.isKeyField()||e._t.push(new G1(t)),e._t.push(new G1(eo.keyField(),"asc"));else{let s=!1;for(const l of e.explicitOrderBy)e._t.push(l),l.field.isKeyField()&&(s=!0);if(!s){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new G1(eo.keyField(),l))}}}return e._t}function hs(n){const e=on(n);if(!e.wt)if("F"===e.limitType)e.wt=eh(e.path,e.collectionGroup,Qu(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of Qu(e))t.push(new G1(l.field,"desc"===l.dir?"asc":"desc"));const r=e.endAt?new uu(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new uu(e.startAt.position,e.startAt.inclusive):null;e.wt=eh(e.path,e.collectionGroup,t,e.filters,e.limit,r,s)}return e.wt}function Nc(n,e,t){return new bl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function W1(n,e){return $1(hs(n),hs(e))&&n.limitType===e.limitType}function P2(n){return`${wl(hs(n))}|lt:${n.limitType}`}function O2(n){return`Query(target=${function vp(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${j1(r.value)}`;var r}).join(", ")}]`),Mo(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>j1(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>j1(t)).join(",")),`Target(${e})`}(hs(n))}; limitType=${n.limitType})`}function o8(n,e){return e.isFoundDocument()&&function(t,r){const s=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(s):ln.isDocumentKey(t.path)?t.path.isEqual(s):t.path.isImmediateParentOf(s)}(n,e)&&function(t,r){for(const s of t.explicitOrderBy)if(!s.field.isKeyField()&&null===r.data.field(s.field))return!1;return!0}(n,e)&&function(t,r){for(const s of t.filters)if(!s.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(s,l,d){const g=r8(s,l,d);return s.inclusive?g<=0:g<0}(t.startAt,Qu(t),r)||t.endAt&&!function(s,l,d){const g=r8(s,l,d);return s.inclusive?g>=0:g>0}(t.endAt,Qu(t),r)));var t,r}function Y4(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function s8(n){return(e,t)=>{let r=!1;for(const s of Qu(n)){const l=a8(s,e,t);if(0!==l)return l;r=r||s.field.isKeyField()}return 0}}function a8(n,e,t){const r=n.field.isKeyField()?ln.comparator(e.key,t.key):function(s,l,d){const g=l.data.field(s),E=d.data.field(s);return null!==g&&null!==E?cu(g,E):En()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return En()}}function N2(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wu(e)?"-0":e}}function F2(n){return{integerValue:""+n}}function nh(n,e){return C2(e)?F2(e):N2(n,e)}class U4{constructor(){this._=void 0}}function rh(n,e,t){return n instanceof hu?function(r,s){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&(l.fields.__previous_value__=s),{mapValue:l}}(t,e):n instanceof fu?oh(n,e):n instanceof ac?c8(n,e):function(r,s){const l=R2(r,s),d=l8(l)+l8(r.yt);return Xd(l)&&Xd(r.yt)?F2(d):N2(r.It,d)}(n,e)}function ih(n,e,t){return n instanceof fu?oh(n,e):n instanceof ac?c8(n,e):t}function R2(n,e){return n instanceof Xu?Xd(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class hu extends U4{}class fu extends U4{constructor(e){super(),this.elements=e}}function oh(n,e){const t=u8(e);for(const r of n.elements)t.some(s=>sc(s,r))||t.push(r);return{arrayValue:{values:t}}}class ac extends U4{constructor(e){super(),this.elements=e}}function c8(n,e){let t=u8(e);for(const r of n.elements)t=t.filter(s=>!sc(s,r));return{arrayValue:{values:t}}}class Xu extends U4{constructor(e,t){super(),this.It=e,this.yt=t}}function l8(n){return Mi(n.integerValue||n.doubleValue)}function u8(n){return V4(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class K1{constructor(e,t){this.field=e,this.transform=t}}class d8{constructor(e,t){this.version=e,this.transformResults=t}}class Di{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Di}static exists(e){return new Di(void 0,e)}static updateTime(e){return new Di(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function j4(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class sh{}function V2(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new e1(n.key,Di.none()):new Ju(n.key,n.data,Di.none());{const t=n.data,r=ds.empty();let s=new ti(eo.comparator);for(let l of e.fields)if(!s.has(l)){let d=t.field(l);null===d&&l.length>1&&(l=l.popLast(),d=t.field(l)),null===d?r.delete(l):r.set(l,d),s=s.add(l)}return new Cl(n.key,r,new js(s.toArray()),Di.none())}}function wp(n,e,t){n instanceof Ju?function(r,s,l){const d=r.value.clone(),g=p8(r.fieldTransforms,s,l.transformResults);d.setAll(g),s.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Cl?function(r,s,l){if(!j4(r.precondition,s))return void s.convertToUnknownDocument(l.version);const d=p8(r.fieldTransforms,s,l.transformResults),g=s.data;g.setAll(f8(r)),g.setAll(d),s.convertToFoundDocument(l.version,g).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function $4(n,e,t,r){return n instanceof Ju?function(s,l,d,g){if(!j4(s.precondition,l))return d;const E=s.value.clone(),P=m8(s.fieldTransforms,g,l);return E.setAll(P),l.convertToFoundDocument(l.version,E).setHasLocalMutations(),null}(n,e,t,r):n instanceof Cl?function(s,l,d,g){if(!j4(s.precondition,l))return d;const E=m8(s.fieldTransforms,g,l),P=l.data;return P.setAll(f8(s)),P.setAll(E),l.convertToFoundDocument(l.version,P).setHasLocalMutations(),null===d?null:d.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(U=>U.field))}(n,e,t,r):(d=t,j4(n.precondition,l=e)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):d);var l,d}function cc(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),l=R2(r.transform,s||null);null!=l&&(null===t&&(t=ds.empty()),t.set(r.field,l))}return t||null}function h8(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&R1(t,r,(s,l)=>function L2(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof fu&&r instanceof fu||t instanceof ac&&r instanceof ac?R1(t.elements,r.elements,sc):t instanceof Xu&&r instanceof Xu?sc(t.yt,r.yt):t instanceof hu&&r instanceof hu);var t,r}(s,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Ju extends sh{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Cl extends sh{constructor(e,t,r,s,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function f8(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function p8(n,e,t){const r=new Map;$n(n.length===t.length);for(let s=0;s<t.length;s++){const l=n[s],d=l.transform,g=e.data.field(l.field);r.set(l.field,ih(d,g,t[s]))}return r}function m8(n,e,t){const r=new Map;for(const s of n){const l=s.transform,d=t.data.field(s.field);r.set(s.field,rh(l,d,e))}return r}class e1 extends sh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class H2 extends sh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class bp{constructor(e){this.count=e}}var co,fn;function B2(n){switch(n){default:return En();case gt.CANCELLED:case gt.UNKNOWN:case gt.DEADLINE_EXCEEDED:case gt.RESOURCE_EXHAUSTED:case gt.INTERNAL:case gt.UNAVAILABLE:case gt.UNAUTHENTICATED:return!1;case gt.INVALID_ARGUMENT:case gt.NOT_FOUND:case gt.ALREADY_EXISTS:case gt.PERMISSION_DENIED:case gt.FAILED_PRECONDITION:case gt.ABORTED:case gt.OUT_OF_RANGE:case gt.UNIMPLEMENTED:case gt.DATA_LOSS:return!0}}function Y2(n){if(void 0===n)return Ai("GRPC error has no .code"),gt.UNKNOWN;switch(n){case co.OK:return gt.OK;case co.CANCELLED:return gt.CANCELLED;case co.UNKNOWN:return gt.UNKNOWN;case co.DEADLINE_EXCEEDED:return gt.DEADLINE_EXCEEDED;case co.RESOURCE_EXHAUSTED:return gt.RESOURCE_EXHAUSTED;case co.INTERNAL:return gt.INTERNAL;case co.UNAVAILABLE:return gt.UNAVAILABLE;case co.UNAUTHENTICATED:return gt.UNAUTHENTICATED;case co.INVALID_ARGUMENT:return gt.INVALID_ARGUMENT;case co.NOT_FOUND:return gt.NOT_FOUND;case co.ALREADY_EXISTS:return gt.ALREADY_EXISTS;case co.PERMISSION_DENIED:return gt.PERMISSION_DENIED;case co.FAILED_PRECONDITION:return gt.FAILED_PRECONDITION;case co.ABORTED:return gt.ABORTED;case co.OUT_OF_RANGE:return gt.OUT_OF_RANGE;case co.UNIMPLEMENTED:return gt.UNIMPLEMENTED;case co.DATA_LOSS:return gt.DATA_LOSS;default:return En()}}(fn=co||(co={}))[fn.OK=0]="OK",fn[fn.CANCELLED=1]="CANCELLED",fn[fn.UNKNOWN=2]="UNKNOWN",fn[fn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fn[fn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fn[fn.NOT_FOUND=5]="NOT_FOUND",fn[fn.ALREADY_EXISTS=6]="ALREADY_EXISTS",fn[fn.PERMISSION_DENIED=7]="PERMISSION_DENIED",fn[fn.UNAUTHENTICATED=16]="UNAUTHENTICATED",fn[fn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fn[fn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fn[fn.ABORTED=10]="ABORTED",fn[fn.OUT_OF_RANGE=11]="OUT_OF_RANGE",fn[fn.UNIMPLEMENTED=12]="UNIMPLEMENTED",fn[fn.INTERNAL=13]="INTERNAL",fn[fn.UNAVAILABLE=14]="UNAVAILABLE",fn[fn.DATA_LOSS=15]="DATA_LOSS";class Sl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[s,l]of r)if(this.equalsFn(s,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return void(s[l]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return 1===r.length?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){yl(this.inner,(t,r)=>{for(const[s,l]of r)e(s,l)})}isEmpty(){return Zd(this.inner)}size(){return this.innerSize}}const Cp=new Yi(ln.comparator);function $s(){return Cp}const U2=new Yi(ln.comparator);function G4(...n){let e=U2;for(const t of n)e=e.insert(t.key,t);return e}function j2(n){let e=U2;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Fc(){return ah()}function g8(){return ah()}function ah(){return new Sl(n=>n.toString(),(n,e)=>n.isEqual(e))}const v8=new Yi(ln.comparator),y8=new ti(ln.comparator);function Xn(...n){let e=y8;for(const t of n)e=e.add(t);return e}const Sp=new ti(cr);function q1(){return Sp}class t1{constructor(e,t,r,s,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,W4.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new t1(Kn.min(),s,q1(),$s(),Xn())}}class W4{constructor(e,t,r,s,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new W4(r,t,Xn(),Xn(),Xn())}}class $2{constructor(e,t,r,s){this.Tt=e,this.removedTargetIds=t,this.key=r,this.Et=s}}class Ep{constructor(e,t){this.targetId=e,this.At=t}}class Mp{constructor(e,t,r=Eo.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class _8{constructor(){this.Rt=0,this.bt=C8(),this.Pt=Eo.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=Xn(),t=Xn(),r=Xn();return this.bt.forEach((s,l)=>{switch(l){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:En()}}),new W4(this.Pt,this.vt,e,t,r)}Nt(){this.Vt=!1,this.bt=C8()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class w8{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=$s(),this.qt=b8(),this.Kt=new ti(cr)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const r=this.zt(t);switch(e.state){case 0:this.Ht(t)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),r.Ct(e.resumeToken));break;default:En()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((r,s)=>{this.Ht(s)&&t(s)})}Yt(e){const t=e.targetId,r=e.At.count,s=this.Xt(t);if(s){const l=s.target;if(th(l))if(0===r){const d=new ln(l.path);this.jt(t,d,gi.newNoDocument(d,Kn.min()))}else $n(1===r);else this.Zt(t)!==r&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((l,d)=>{const g=this.Xt(d);if(g){if(l.current&&th(g.target)){const E=new ln(g.target.path);null!==this.Ut.get(E)||this.ee(d,E)||this.jt(d,E,gi.newNoDocument(E,e))}l.Dt&&(t.set(d,l.xt()),l.Nt())}});let r=Xn();this.qt.forEach((l,d)=>{let g=!0;d.forEachWhile(E=>{const P=this.Xt(E);return!P||2===P.purpose||(g=!1,!1)}),g&&(r=r.add(l))}),this.Ut.forEach((l,d)=>d.setReadTime(e));const s=new t1(e,t,this.Kt,this.Ut,r);return this.Ut=$s(),this.qt=b8(),this.Kt=new ti(cr),s}Qt(e,t){if(!this.Ht(e))return;const r=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,r),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,r){if(!this.Ht(e))return;const s=this.zt(e);this.ee(e,t)?s.kt(t,1):s.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),r&&(this.Ut=this.Ut.insert(t,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new _8,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new ti(cr),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||Gt("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new _8),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function b8(){return new Yi(ln.comparator)}function C8(){return new Yi(ln.comparator)}const Z1={asc:"ASCENDING",desc:"DESCENDING"},Dp={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class S8{constructor(e,t){this.databaseId=e,this.gt=t}}function pu(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function E8(n,e){return n.gt?e.toBase64():e.toUint8Array()}function M8(n,e){return pu(n,e.toTimestamp())}function Po(n){return $n(!!n),Kn.fromTimestamp(function(e){const t=su(e);return new ci(t.seconds,t.nanos)}(n))}function G2(n,e){return(t=n,new kr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function D8(n){const e=kr.fromString(n);return $n(xp(e)),e}function K4(n,e){return G2(n.databaseId,e.path)}function lc(n,e){const t=D8(e);if(t.get(1)!==n.databaseId.projectId)throw new Ht(gt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ht(gt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ln(W2(t))}function ch(n,e){return G2(n.databaseId,e)}function T8(n){const e=D8(n);return 4===e.length?kr.emptyPath():W2(e)}function Q1(n){return new kr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function W2(n){return $n(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function q4(n,e,t){return{name:K4(n,e),fields:t.value.mapValue.fields}}function Tp(n,e,t){const r=lc(n,e.name),s=Po(e.updateTime),l=new ds({mapValue:{fields:e.fields}}),d=gi.newFoundDocument(r,s,l);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function lh(n,e){let t;if(e instanceof Ju)t={update:q4(n,e.key,e.value)};else if(e instanceof e1)t={delete:K4(n,e.key)};else if(e instanceof Cl)t={update:q4(n,e.key,e.data),updateMask:k8(e.fieldMask)};else{if(!(e instanceof H2))return En();t={verify:K4(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,l){const d=l.transform;if(d instanceof hu)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof fu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof ac)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Xu)return{fieldPath:l.field.canonicalString(),increment:d.yt};throw En()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:M8(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:En()),t;var s}function mu(n,e){const t=e.currentDocument?void 0!==(s=e.currentDocument).updateTime?Di.updateTime(Po(s.updateTime)):void 0!==s.exists?Di.exists(s.exists):Di.none():Di.none(),r=e.updateTransforms?e.updateTransforms.map(s=>function(l,d){let g=null;"setToServerValue"in d?($n("REQUEST_TIME"===d.setToServerValue),g=new hu):"appendMissingElements"in d?g=new fu(d.appendMissingElements.values||[]):"removeAllFromArray"in d?g=new ac(d.removeAllFromArray.values||[]):"increment"in d?g=new Xu(l,d.increment):En();const E=eo.fromServerFormat(d.fieldPath);return new K1(E,g)}(n,s)):[];var s;if(e.update){const s=lc(n,e.update.name),l=new ds({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new js((e.updateMask.fieldPaths||[]).map(P=>eo.fromServerFormat(P)));return new Cl(s,l,d,t,r)}return new Ju(s,l,t,r)}if(e.delete){const s=lc(n,e.delete);return new e1(s,t)}if(e.verify){const s=lc(n,e.verify);return new H2(s,t)}return En()}function q2(n,e){return{documents:[ch(n,e.path)]}}function X1(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=ch(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=ch(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(E){if(0===E.length)return;const P=E.map(U=>function(se){if("=="===se.op){if(X0(se.value))return{unaryFilter:{field:gu(se.field),op:"IS_NAN"}};if(Q0(se.value))return{unaryFilter:{field:gu(se.field),op:"IS_NULL"}}}else if("!="===se.op){if(X0(se.value))return{unaryFilter:{field:gu(se.field),op:"IS_NOT_NAN"}};if(Q0(se.value))return{unaryFilter:{field:gu(se.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gu(se.field),op:El(se.op),value:se.value}}}(U));return 1===P.length?P[0]:{compositeFilter:{op:"AND",filters:P}}}(e.filters);s&&(t.structuredQuery.where=s);const l=function(E){if(0!==E.length)return E.map(P=>{return{field:gu((U=P).field),direction:Z2(U.dir)};var U})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const d=(P=e.limit,n.gt||Mo(P)?P:{value:P});var P,g,E;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(g=e.startAt).inclusive,values:g.position}),e.endAt&&(t.structuredQuery.endAt={before:!(E=e.endAt).inclusive,values:E.position}),t}function za(n){let e=T8(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){$n(1===r);const U=t.from[0];U.allDescendants?s=U.collectionId:e=e.child(U.collectionId)}let l=[];t.where&&(l=A8(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(U=>{return new G1(n1((se=U).field),function(Re){switch(Re){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(se.direction));var se}));let g=null;t.limit&&(g=function(U){let se;return se="object"==typeof U?U.value:U,Mo(se)?null:se}(t.limit));let E=null;var U;t.startAt&&(E=new uu((U=t.startAt).values||[],!!U.before));let P=null;return t.endAt&&(P=function(U){return new uu(U.values||[],!U.before)}(t.endAt)),I2(e,s,d,l,g,"F",E,P)}function A8(n){return n?void 0!==n.unaryFilter?[yg(n)]:void 0!==n.fieldFilter?[Q2(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>A8(e)).reduce((e,t)=>e.concat(t)):En():[]}function Z2(n){return Z1[n]}function El(n){return Dp[n]}function gu(n){return{fieldPath:n.canonicalString()}}function n1(n){return eo.fromServerFormat(n.fieldPath)}function Q2(n){return To.create(n1(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return En()}}(n.fieldFilter.op),n.fieldFilter.value)}function yg(n){switch(n.unaryFilter.op){case"IS_NAN":const e=n1(n.unaryFilter.field);return To.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=n1(n.unaryFilter.field);return To.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=n1(n.unaryFilter.field);return To.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=n1(n.unaryFilter.field);return To.create(s,"!=",{nullValue:"NULL_VALUE"});default:return En()}}function k8(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function xp(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Oo(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=dh(e)),e=uh(n.get(t),e);return dh(e)}function uh(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const l=n.charAt(s);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function dh(n){return n+"\x01\x01"}function Aa(n){const e=n.length;if($n(e>=2),2===e)return $n("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),kr.emptyPath();const t=e-2,r=[];let s="";for(let l=0;l<e;){const d=n.indexOf("\x01",l);switch((d<0||d>t)&&En(),n.charAt(d+1)){case"\x01":const g=n.substring(l,d);let E;0===s.length?E=g:(s+=g,E=s,s=""),r.push(E);break;case"\x10":s+=n.substring(l,d),s+="\0";break;case"\x11":s+=n.substring(l,d+1);break;default:En()}l=d+2}return new kr(r)}const hh=["userId","batchId"];function X2(n,e){return[n,Oo(e)]}function P8(n,e,t){return[n,Oo(e),t]}const Ip={},zp=["prefixPath","collectionGroup","readTime","documentId"],Ap=["prefixPath","collectionGroup","documentId"],O8=["collectionGroup","readTime","prefixPath","documentId"],_g=["canonicalId","targetId"],kp=["targetId","path"],wg=["path","targetId"],N8=["collectionId","parent"],F8=["indexId","uid"],Pp=["uid","sequenceNumber"],J2=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],bg=["indexId","uid","orderedDocumentKey"],Cg=["userId","collectionPath","documentId"],Sg=["userId","collectionPath","largestBatchId"],Eg=["userId","collectionGroup","largestBatchId"],Op=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Mg=[...Op,"documentOverlays"],Np=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Fp=Np,Dg=[...Fp,"indexConfiguration","indexState","indexEntries"];class R8 extends Wd{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function vi(n,e){const t=on(n);return kc.M(t.ie,e)}class Z4{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const l=this.mutations[s];l.key.isEqual(e.key)&&wp(l,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=$4(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=$4(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=g8();return this.mutations.forEach(s=>{const l=e.get(s.key),d=l.overlayedDocument;let g=this.applyToLocalView(d,l.mutatedFields);g=t.has(s.key)?null:g;const E=V2(d,g);null!==E&&r.set(s.key,E),d.isValidDocument()||d.convertToNoDocument(Kn.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Xn())}isEqual(e){return this.batchId===e.batchId&&R1(this.mutations,e.mutations,(t,r)=>h8(t,r))&&R1(this.baseMutations,e.baseMutations,(t,r)=>h8(t,r))}}class e3{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){$n(e.mutations.length===r.length);let s=v8;const l=e.mutations;for(let d=0;d<l.length;d++)s=s.insert(l[d].key,r[d].version);return new e3(e,t,r,s)}}class fh{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Rc{constructor(e,t,r,s,l=Kn.min(),d=Kn.min(),g=Eo.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g}withSequenceNumber(e){return new Rc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Rc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Rc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class t3{constructor(e){this.re=e}}function L8(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:uc(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:K4(s=n.re,(l=e).key),fields:l.data.value.mapValue.fields,updateTime:pu(s,l.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:vu(e.version)};else{if(!e.isUnknownDocument())return En();r.unknownDocument={path:t.path.toArray(),version:vu(e.version)}}var s,l;return r}function uc(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function vu(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ml(n){const e=new ci(n.seconds,n.nanoseconds);return Kn.fromTimestamp(e)}function r1(n,e){const t=(e.baseMutations||[]).map(l=>mu(n.re,l));for(let l=0;l<e.mutations.length-1;++l){const d=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(d.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const r=e.mutations.map(l=>mu(n.re,l)),s=ci.fromMillis(e.localWriteTimeMs);return new Z4(e.batchId,s,t,r)}function J1(n){const e=Ml(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Ml(n.lastLimboFreeSnapshotVersion):Kn.min();let r;var s;return void 0!==n.query.documents?($n(1===(s=n.query).documents.length),r=hs(du(T8(s.documents[0])))):r=hs(za(n.query)),new Rc(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Eo.fromBase64String(n.resumeToken))}function V8(n,e){const t=vu(e.snapshotVersion),r=vu(e.lastLimboFreeSnapshotVersion);let s;s=th(e.target)?q2(n.re,e.target):X1(n.re,e.target);const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:wl(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function r3(n){const e=za({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Nc(e,e.limit,"L"):e}function e4(n,e){return new fh(e.largestBatchId,mu(n.re,e.overlayMutation))}function o1(n,e){const t=e.path.lastSegment();return[n,Oo(e.path.popLast()),t]}function ph(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:vu(r.readTime),documentKey:Oo(r.documentKey.path),largestBatchId:r.largestBatchId}}class t4{getBundleMetadata(e,t){return Q4(e).get(t).next(r=>{if(r)return{id:(s=r).bundleId,createTime:Ml(s.createTime),version:s.version};var s})}saveBundleMetadata(e,t){return Q4(e).put({bundleId:(r=t).id,createTime:vu(Po(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return X4(e).get(t).next(r=>{if(r)return{name:(s=r).name,query:r3(s.bundledQuery),readTime:Ml(s.readTime)};var s})}saveNamedQuery(e,t){return X4(e).put({name:(r=t).name,readTime:vu(Po(r.readTime)),bundledQuery:r.bundledQuery});var r}}function Q4(n){return vi(n,"bundles")}function X4(n){return vi(n,"namedQueries")}class J4{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new J4(e,t.uid||"")}getOverlay(e,t){return n4(e).get(o1(this.userId,t)).next(r=>r?e4(this.It,r):null)}getOverlays(e,t){const r=Fc();return ut.forEach(t,s=>this.getOverlay(e,s).next(l=>{null!==l&&r.set(s,l)})).next(()=>r)}saveOverlays(e,t,r){const s=[];return r.forEach((l,d)=>{const g=new fh(t,d);s.push(this.ue(e,g))}),ut.waitFor(s)}removeOverlaysForBatchId(e,t,r){const s=new Set;t.forEach(d=>s.add(Oo(d.getCollectionPath())));const l=[];return s.forEach(d=>{const g=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);l.push(n4(e).Y("collectionPathOverlayIndex",g))}),ut.waitFor(l)}getOverlaysForCollection(e,t,r){const s=Fc(),l=Oo(t),d=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,Number.POSITIVE_INFINITY],!0);return n4(e).W("collectionPathOverlayIndex",d).next(g=>{for(const E of g){const P=e4(this.It,E);s.set(P.getKey(),P)}return s})}getOverlaysForCollectionGroup(e,t,r,s){const l=Fc();let d;const g=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return n4(e).Z({index:"collectionGroupOverlayIndex",range:g},(E,P,U)=>{const se=e4(this.It,P);l.size()<s||se.largestBatchId===d?(l.set(se.getKey(),se),d=se.largestBatchId):U.done()}).next(()=>l)}ue(e,t){return n4(e).put(function(r,s,l){const[d,g,E]=o1(s,l.mutation.key);return{userId:s,collectionPath:g,documentId:E,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:lh(r.re,l.mutation)}}(this.It,this.userId,t))}}function n4(n){return vi(n,"documentOverlays")}class Dl{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Mi(e.integerValue));else if("doubleValue"in e){const r=Mi(e.doubleValue);isNaN(r)?this.le(t,13):(this.le(t,15),Wu(r)?t.fe(0):t.fe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de(`${r.seconds||""}`),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Gu(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.le(t,45),t.fe(r.latitude||0),t.fe(r.longitude||0)}else"mapValue"in e?qu(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):En()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const r=e.fields||{};this.le(t,55);for(const s of Object.keys(r))this._e(s,t),this.ae(r[s],t)}pe(e,t){const r=e.values||[];this.le(t,50);for(const s of r)this.ae(s,t)}ge(e,t){this.le(t,37),ln.fromName(e).path.forEach(r=>{this.le(t,60),this.Ie(r,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function o3(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function s3(n){const e=64-function(t){let r=0;for(let s=0;s<8;++s){const l=o3(255&t[s]);if(r+=l,8!==l)break}return r}(n);return Math.ceil(e/8)}Dl.Te=new Dl;class a3{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ae(r.value),r=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Pe(r.value),r=t.next();this.ve()}Ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const s=t.codePointAt(0);this.Ae(240|s>>>18),this.Ae(128|63&s>>>12),this.Ae(128|63&s>>>6),this.Ae(128|63&s)}}this.Re()}Se(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Pe(r);else if(r<2048)this.Pe(960|r>>>6),this.Pe(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r);else{const s=t.codePointAt(0);this.Pe(240|s>>>18),this.Pe(128|63&s>>>12),this.Pe(128|63&s>>>6),this.Pe(128|63&s)}}this.ve()}De(e){const t=this.Ce(e),r=s3(t);this.xe(1+r),this.buffer[this.position++]=255&r;for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=255&t[s]}Ne(e){const t=this.Ce(e),r=s3(t);this.xe(1+r),this.buffer[this.position++]=~(255&r);for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=~(255&t[s])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(s){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,s,!1),new Uint8Array(l.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let s=1;s<t.length;++s)t[s]^=r?255:0;return t}Ae(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class Rp{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class Tg{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Me()}}class ed{constructor(){this.Be=new a3,this.Le=new Rp(this.Be),this.Ue=new Tg(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class yu{constructor(e,t,r,s){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=s}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new yu(this.indexId,this.documentKey,this.arrayValue,r)}}function s1(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=c3(n.arrayValue,e.arrayValue),0!==t?t:(t=c3(n.directionalValue,e.directionalValue),0!==t?t:ln.comparator(n.documentKey,e.documentKey)))}function c3(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class H8{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const r=t;r.dt()?this.je=r:this.Qe.push(r)}}We(e){const t=p2(e);if(void 0!==t&&!this.ze(t))return!1;const r=Ia(e);let s=0,l=0;for(;s<r.length&&this.ze(r[s]);++s);if(s===r.length)return!0;if(void 0!==this.je){const d=r[s];if(!this.He(this.je,d)||!this.Je(this.Ge[l++],d))return!1;++s}for(;s<r.length;++s){const d=r[s];if(l>=this.Ge.length||!this.Je(this.Ge[l++],d))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class Lp{constructor(){this.Ye=new Ts}addToCollectionParentIndex(e,t){return this.Ye.add(t),ut.resolve()}getCollectionParents(e,t){return ut.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return ut.resolve()}deleteFieldIndex(e,t){return ut.resolve()}getDocumentsMatchingTarget(e,t){return ut.resolve(null)}getIndexType(e,t){return ut.resolve(0)}getFieldIndexes(e,t){return ut.resolve([])}getNextCollectionGroupToUpdate(e){return ut.resolve(null)}getMinOffset(e,t){return ut.resolve(pa.min())}getMinOffsetFromCollectionGroup(e,t){return ut.resolve(pa.min())}updateCollectionGroup(e,t,r){return ut.resolve()}updateIndexEntries(e,t){return ut.resolve()}}class Ts{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new ti(kr.comparator),l=!s.has(r);return this.index[t]=s.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new ti(kr.comparator)).toArray()}}const td=new Uint8Array(0);class Vp{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new Ts,this.Ze=new Sl(r=>wl(r),(r,s)=>$1(r,s)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const r=t.lastSegment(),s=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const l={collectionId:r,parent:Oo(s)};return Hp(e).put(l)}return ut.resolve()}getCollectionParents(e,t){const r=[],s=IDBKeyRange.bound([t,""],[$0(t),""],!1,!0);return Hp(e).W(s).next(l=>{for(const d of l){if(d.collectionId!==t)break;r.push(Aa(d.parent))}return r})}addFieldIndex(e,t){const r=r4(e),s={indexId:(d=t).indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(g=>[g.fieldPath.canonicalString(),g.kind])};var d;delete s.indexId;const l=r.add(s);if(t.indexState){const d=o4(e);return l.next(g=>{d.put(ph(g,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return l.next()}deleteFieldIndex(e,t){const r=r4(e),s=o4(e),l=nd(e);return r.delete(t.indexId).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=nd(e);let s=!0;const l=new Map;return ut.forEach(this.tn(t),d=>this.en(e,d).next(g=>{s&&(s=!!g),l.set(d,g)})).next(()=>{if(s){let d=Xn();const g=[];return ut.forEach(l,(E,P)=>{var U;Gt("IndexedDbIndexManager",`Using index ${U=E,`id=${U.indexId}|cg=${U.collectionGroup}|f=${U.fields.map(Gn=>`${Gn.fieldPath}:${Gn.kind}`).join(",")}`} to execute ${wl(t)}`);const se=function(Gn,Rn){const rr=p2(Rn);if(void 0===rr)return null;for(const er of lu(Gn,rr.fieldPath))switch(er.op){case"array-contains-any":return er.value.arrayValue.values||[];case"array-contains":return[er.value]}return null}(P,E),Re=function(Gn,Rn){const rr=new Map;for(const er of Ia(Rn))for(const Lr of lu(Gn,er.fieldPath))switch(Lr.op){case"==":case"in":rr.set(er.fieldPath.canonicalString(),Lr.value);break;case"not-in":case"!=":return rr.set(er.fieldPath.canonicalString(),Lr.value),Array.from(rr.values())}return null}(P,E),Xe=function(Gn,Rn){const rr=[];let er=!0;for(const Lr of Ia(Rn)){const Ra=0===Lr.kind?e8(Gn,Lr.fieldPath,Gn.startAt):t8(Gn,Lr.fieldPath,Gn.startAt);rr.push(Ra.value),er&&(er=Ra.inclusive)}return new uu(rr,er)}(P,E),tt=function(Gn,Rn){const rr=[];let er=!0;for(const Lr of Ia(Rn)){const Ra=0===Lr.kind?t8(Gn,Lr.fieldPath,Gn.endAt):e8(Gn,Lr.fieldPath,Gn.endAt);rr.push(Ra.value),er&&(er=Ra.inclusive)}return new uu(rr,er)}(P,E),Et=this.nn(E,P,Xe),Ut=this.nn(E,P,tt),xn=this.sn(E,P,Re),nr=this.rn(E.indexId,se,Et,Xe.inclusive,Ut,tt.inclusive,xn);return ut.forEach(nr,Gn=>r.J(Gn,t.limit).next(Rn=>{Rn.forEach(rr=>{const er=ln.fromSegments(rr.documentKey);d.has(er)||(d=d.add(er),g.push(er))})}))}).next(()=>g)}return ut.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,r,s,l,d,g){const E=(null!=t?t.length:1)*Math.max(r.length,l.length),P=E/(null!=t?t.length:1),U=[];for(let se=0;se<E;++se){const Re=t?this.on(t[se/P]):td,Xe=this.un(e,Re,r[se%P],s),tt=this.cn(e,Re,l[se%P],d),Et=g.map(Ut=>this.un(e,Re,Ut,!0));U.push(...this.createRange(Xe,tt,Et))}return U}un(e,t,r,s){const l=new yu(e,ln.empty(),t,r);return s?l:l.Ke()}cn(e,t,r,s){const l=new yu(e,ln.empty(),t,r);return s?l.Ke():l}en(e,t){const r=new H8(t),s=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,s).next(l=>{let d=null;for(const g of l)r.We(g)&&(!d||g.fields.length>d.fields.length)&&(d=g);return d})}getIndexType(e,t){let r=2;return ut.forEach(this.tn(t),s=>this.en(e,s).next(l=>{l?0!==r&&l.fields.length<function(d){let g=new ti(eo.comparator),E=!1;for(const P of d.filters){const U=P;U.field.isKeyField()||("array-contains"===U.op||"array-contains-any"===U.op?E=!0:g=g.add(U.field))}for(const P of d.orderBy)P.field.isKeyField()||(g=g.add(P.field));return g.size+(E?1:0)}(s)&&(r=1):r=0})).next(()=>r)}an(e,t){const r=new ed;for(const s of Ia(e)){const l=t.data.field(s.fieldPath);if(null==l)return null;const d=r.qe(s.kind);Dl.Te.ce(l,d)}return r.$e()}on(e){const t=new ed;return Dl.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const r=new ed;return Dl.Te.ce(Ku(this.databaseId,t),r.qe(function(s){const l=Ia(s);return 0===l.length?0:l[l.length-1].kind}(e))),r.$e()}sn(e,t,r){if(null===r)return[];let s=[];s.push(new ed);let l=0;for(const d of Ia(e)){const g=r[l++];for(const E of s)if(this.ln(t,d.fieldPath)&&V4(g))s=this.fn(s,d,g);else{const P=E.qe(d.kind);Dl.Te.ce(g,P)}}return this.dn(s)}nn(e,t,r){return this.sn(e,t,r.position)}dn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].$e();return t}fn(e,t,r){const s=[...e],l=[];for(const d of r.arrayValue.values||[])for(const g of s){const E=new ed;E.seed(g.$e()),Dl.Te.ce(d,E.qe(t.kind)),l.push(E)}return l}ln(e,t){return!!e.filters.find(r=>r instanceof To&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=r4(e),s=o4(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(l=>{const d=[];return ut.forEach(l,g=>s.get([g.indexId,this.uid]).next(E=>{d.push(function(P,U){const se=U?new V1(U.sequenceNumber,new pa(Ml(U.readTime),new ln(Aa(U.documentKey)),U.largestBatchId)):V1.empty(),Re=P.fields.map(([Xe,tt])=>new $d(eo.fromServerFormat(Xe),tt));return new iu(P.indexId,P.collectionGroup,Re,se)}(g,E))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,s)=>{const l=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return 0!==l?l:cr(r.collectionGroup,s.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const s=r4(e),l=o4(e);return this._n(e).next(d=>s.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(g=>ut.forEach(g,E=>l.put(ph(E.indexId,this.user,d,r)))))}updateIndexEntries(e,t){const r=new Map;return ut.forEach(t,(s,l)=>{const d=r.get(s.collectionGroup);return(d?ut.resolve(d):this.getFieldIndexes(e,s.collectionGroup)).next(g=>(r.set(s.collectionGroup,g),ut.forEach(g,E=>this.wn(e,s,E).next(P=>{const U=this.mn(l,E);return P.isEqual(U)?ut.resolve():this.gn(e,l,E,P,U)}))))})}yn(e,t,r,s){return nd(e).put({indexId:s.indexId,uid:this.uid,arrayValue:s.arrayValue,directionalValue:s.directionalValue,orderedDocumentKey:this.hn(r,t.key),documentKey:t.key.path.toArray()})}pn(e,t,r,s){return nd(e).delete([s.indexId,this.uid,s.arrayValue,s.directionalValue,this.hn(r,t.key),t.key.path.toArray()])}wn(e,t,r){const s=nd(e);let l=new ti(s1);return s.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.hn(r,t)])},(d,g)=>{l=l.add(new yu(r.indexId,t,g.arrayValue,g.directionalValue))}).next(()=>l)}mn(e,t){let r=new ti(s1);const s=this.an(t,e);if(null==s)return r;const l=p2(t);if(null!=l){const d=e.data.field(l.fieldPath);if(V4(d))for(const g of d.arrayValue.values||[])r=r.add(new yu(t.indexId,e.key,this.on(g),s))}else r=r.add(new yu(t.indexId,e.key,td,s));return r}gn(e,t,r,s,l){Gt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(g,E,P,U,se){const Re=g.getIterator(),Xe=E.getIterator();let tt=Y1(Re),Et=Y1(Xe);for(;tt||Et;){let Ut=!1,xn=!1;if(tt&&Et){const nr=P(tt,Et);nr<0?xn=!0:nr>0&&(Ut=!0)}else null!=tt?xn=!0:Ut=!0;Ut?(U(Et),Et=Y1(Xe)):xn?(se(tt),tt=Y1(Re)):(tt=Y1(Re),Et=Y1(Xe))}}(s,l,s1,g=>{d.push(this.yn(e,t,r,g))},g=>{d.push(this.pn(e,t,r,g))}),ut.waitFor(d)}_n(e){let t=1;return o4(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,s,l)=>{l.done(),t=s.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((d,g)=>s1(d,g)).filter((d,g,E)=>!g||0!==s1(d,E[g-1]));const s=[];s.push(e);for(const d of r){const g=s1(d,e),E=s1(d,t);if(0===g)s[0]=e.Ke();else if(g>0&&E<0)s.push(d),s.push(d.Ke());else if(E>0)break}s.push(t);const l=[];for(let d=0;d<s.length;d+=2)l.push(IDBKeyRange.bound([s[d].indexId,this.uid,s[d].arrayValue,s[d].directionalValue,td,[]],[s[d+1].indexId,this.uid,s[d+1].arrayValue,s[d+1].directionalValue,td,[]]));return l}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(B8)}getMinOffset(e,t){return ut.mapArray(this.tn(t),r=>this.en(e,r).next(s=>s||En())).next(B8)}}function Hp(n){return vi(n,"collectionParents")}function nd(n){return vi(n,"indexEntries")}function r4(n){return vi(n,"indexConfiguration")}function o4(n){return vi(n,"indexState")}function B8(n){$n(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const s=n[r].indexState.offset;Gd(s,e)<0&&(e=s),t<s.largestBatchId&&(t=s.largestBatchId)}return new pa(e.readTime,e.documentKey,t)}const Y8={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Gs{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Gs(e,Gs.DEFAULT_COLLECTION_PERCENTILE,Gs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function l3(n,e,t){const r=n.store("mutations"),s=n.store("documentMutations"),l=[],d=IDBKeyRange.only(t.batchId);let g=0;const E=r.Z({range:d},(U,se,Re)=>(g++,Re.delete()));l.push(E.next(()=>{$n(1===g)}));const P=[];for(const U of t.mutations){const se=P8(e,U.key.path,t.batchId);l.push(s.delete(se)),P.push(U.key)}return ut.waitFor(l).next(()=>P)}function mh(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw En();e=n.noDocument}return JSON.stringify(e).length}Gs.DEFAULT_COLLECTION_PERCENTILE=10,Gs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gs.DEFAULT=new Gs(41943040,Gs.DEFAULT_COLLECTION_PERCENTILE,Gs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gs.DISABLED=new Gs(-1,0,0);class rd{constructor(e,t,r,s){this.userId=e,this.It=t,this.indexManager=r,this.referenceDelegate=s,this.In={}}static oe(e,t,r,s){$n(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new rd(l,t,r,s)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return _u(e).Z({index:"userMutationsIndex",range:r},(s,l,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,r,s){const l=a1(e),d=_u(e);return d.add({}).next(g=>{$n("number"==typeof g);const E=new Z4(g,t,r,s),P=function(Re,Xe,tt){const Et=tt.baseMutations.map(xn=>lh(Re.re,xn)),Ut=tt.mutations.map(xn=>lh(Re.re,xn));return{userId:Xe,batchId:tt.batchId,localWriteTimeMs:tt.localWriteTime.toMillis(),baseMutations:Et,mutations:Ut}}(this.It,this.userId,E),U=[];let se=new ti((Re,Xe)=>cr(Re.canonicalString(),Xe.canonicalString()));for(const Re of s){const Xe=P8(this.userId,Re.key.path,g);se=se.add(Re.key.path.popLast()),U.push(d.put(P)),U.push(l.put(Xe,Ip))}return se.forEach(Re=>{U.push(this.indexManager.addToCollectionParentIndex(e,Re))}),e.addOnCommittedListener(()=>{this.In[g]=E.keys()}),ut.waitFor(U).next(()=>E)})}lookupMutationBatch(e,t){return _u(e).get(t).next(r=>r?($n(r.userId===this.userId),r1(this.It,r)):null)}Tn(e,t){return this.In[t]?ut.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const s=r.keys();return this.In[t]=s,s}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return _u(e).Z({index:"userMutationsIndex",range:s},(d,g,E)=>{g.userId===this.userId&&($n(g.batchId>=r),l=r1(this.It,g)),E.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return _u(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(s,l,d)=>{r=l.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return _u(e).W("userMutationsIndex",t).next(r=>r.map(s=>r1(this.It,s)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=X2(this.userId,t.path),s=IDBKeyRange.lowerBound(r),l=[];return a1(e).Z({range:s},(d,g,E)=>{const[P,U,se]=d,Re=Aa(U);if(P===this.userId&&t.path.isEqual(Re))return _u(e).get(se).next(Xe=>{if(!Xe)throw En();$n(Xe.userId===this.userId),l.push(r1(this.It,Xe))});E.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ti(cr);const s=[];return t.forEach(l=>{const d=X2(this.userId,l.path),g=IDBKeyRange.lowerBound(d),E=a1(e).Z({range:g},(P,U,se)=>{const[Re,Xe,tt]=P,Et=Aa(Xe);Re===this.userId&&l.path.isEqual(Et)?r=r.add(tt):se.done()});s.push(E)}),ut.waitFor(s).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1,l=X2(this.userId,r),d=IDBKeyRange.lowerBound(l);let g=new ti(cr);return a1(e).Z({range:d},(E,P,U)=>{const[se,Re,Xe]=E,tt=Aa(Re);se===this.userId&&r.isPrefixOf(tt)?tt.length===s&&(g=g.add(Xe)):U.done()}).next(()=>this.En(e,g))}En(e,t){const r=[],s=[];return t.forEach(l=>{s.push(_u(e).get(l).next(d=>{if(null===d)throw En();$n(d.userId===this.userId),r.push(r1(this.It,d))}))}),ut.waitFor(s).next(()=>r)}removeMutationBatch(e,t){return l3(e.ie,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),ut.forEach(r,s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ut.resolve();const r=IDBKeyRange.lowerBound([this.userId]),s=[];return a1(e).Z({range:r},(l,d,g)=>{if(l[0]===this.userId){const E=Aa(l[1]);s.push(E)}else g.done()}).next(()=>{$n(0===s.length)})})}containsKey(e,t){return U8(e,this.userId,t)}Rn(e){return u3(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function U8(n,e,t){const r=X2(e,t.path),s=r[1],l=IDBKeyRange.lowerBound(r);let d=!1;return a1(n).Z({range:l,X:!0},(g,E,P)=>{const[U,se,Re]=g;U===e&&se===s&&(d=!0),P.done()}).next(()=>d)}function _u(n){return vi(n,"mutations")}function a1(n){return vi(n,"documentMutations")}function u3(n){return vi(n,"mutationQueues")}class c1{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new c1(0)}static vn(){return new c1(-1)}}class Lc{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const r=new c1(t.highestTargetId);return t.highestTargetId=r.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>Kn.fromTimestamp(new ci(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Vn(e).next(s=>(s.highestListenSequenceNumber=t,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),t>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=t),this.Sn(e,s)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(t,r),this.Sn(e,r))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>wu(e).delete(t.targetId)).next(()=>this.Vn(e)).next(r=>($n(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,t,r){let s=0;const l=[];return wu(e).Z((d,g)=>{const E=J1(g);E.sequenceNumber<=t&&null===r.get(E.targetId)&&(s++,l.push(this.removeTargetData(e,E)))}).next(()=>ut.waitFor(l)).next(()=>s)}forEachTarget(e,t){return wu(e).Z((r,s)=>{const l=J1(s);t(l)})}Vn(e){return j8(e).get("targetGlobalKey").next(t=>($n(null!==t),t))}Sn(e,t){return j8(e).put("targetGlobalKey",t)}Dn(e,t){return wu(e).put(V8(this.It,t))}Cn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=wl(t),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return wu(e).Z({range:s,index:"queryTargetsIndex"},(d,g,E)=>{const P=J1(g);$1(t,P.target)&&(l=P,E.done())}).next(()=>l)}addMatchingKeys(e,t,r){const s=[],l=bu(e);return t.forEach(d=>{const g=Oo(d.path);s.push(l.put({targetId:r,path:g})),s.push(this.referenceDelegate.addReference(e,r,d))}),ut.waitFor(s)}removeMatchingKeys(e,t,r){const s=bu(e);return ut.forEach(t,l=>{const d=Oo(l.path);return ut.waitFor([s.delete([r,d]),this.referenceDelegate.removeReference(e,r,l)])})}removeMatchingKeysForTargetId(e,t){const r=bu(e),s=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),s=bu(e);let l=Xn();return s.Z({range:r,X:!0},(d,g,E)=>{const P=Aa(d[1]),U=new ln(P);l=l.add(U)}).next(()=>l)}containsKey(e,t){const r=Oo(t.path),s=IDBKeyRange.bound([r],[$0(r)],!1,!0);let l=0;return bu(e).Z({index:"documentTargetsIndex",X:!0,range:s},([d,g],E,P)=>{0!==d&&(l++,P.done())}).next(()=>l>0)}se(e,t){return wu(e).get(t).next(r=>r?J1(r):null)}}function wu(n){return vi(n,"targets")}function j8(n){return vi(n,"targetGlobal")}function bu(n){return vi(n,"targetDocuments")}function Bp([n,e],[t,r]){const s=cr(n,t);return 0===s?cr(e,r):s}class $8{constructor(e){this.xn=e,this.buffer=new ti(Bp),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Bp(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Yp{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;Gt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,_t.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){$u(r)?Gt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield ou(r)}yield t.Fn(3e5)}))}}class Up{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ut.resolve(Ds.at);const r=new $8(t);return this.$n.forEachTarget(e,s=>r.On(s.sequenceNumber)).next(()=>this.$n.Ln(e,s=>r.On(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.$n.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Gt("LruGarbageCollector","Garbage collection skipped; disabled"),ut.resolve(Y8)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Gt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Y8):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let r,s,l,d,g,E,P;const U=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(se=>(se>this.params.maximumSequenceNumbersToCollect?(Gt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${se}`),s=this.params.maximumSequenceNumbersToCollect):s=se,d=Date.now(),this.nthSequenceNumber(e,s))).next(se=>(r=se,g=Date.now(),this.removeTargets(e,r,t))).next(se=>(l=se,E=Date.now(),this.removeOrphanedDocuments(e,r))).next(se=>(P=Date.now(),c2()<=Ki.in.DEBUG&&Gt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-U}ms\n\tDetermined least recently used ${s} in `+(g-d)+`ms\n\tRemoved ${l} targets in `+(E-g)+`ms\n\tRemoved ${se} documents in `+(P-E)+`ms\nTotal Duration: ${P-U}ms`),ut.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:l,documentsRemoved:se})))}}class jp{constructor(e,t){this.db=e,this.garbageCollector=new Up(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}qn(e){let t=0;return this.Ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(r,s)=>t(s))}addReference(e,t,r){return s4(e,r)}removeReference(e,t,r){return s4(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return s4(e,t)}Gn(e,t){return function(r,s){let l=!1;return u3(r).tt(d=>U8(r,d,s).next(g=>(g&&(l=!0),ut.resolve(!g)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let l=0;return this.Kn(e,(d,g)=>{if(g<=t){const E=this.Gn(e,d).next(P=>{if(!P)return l++,r.getEntry(e,d).next(()=>(r.removeEntry(d,Kn.min()),bu(e).delete([0,Oo(d.path)])))});s.push(E)}}).next(()=>ut.waitFor(s)).next(()=>r.apply(e)).next(()=>l)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return s4(e,t)}Kn(e,t){const r=bu(e);let s,l=Ds.at;return r.Z({index:"documentTargetsIndex"},([d,g],{path:E,sequenceNumber:P})=>{0===d?(l!==Ds.at&&t(new ln(Aa(s)),l),l=P,s=E):l=Ds.at}).next(()=>{l!==Ds.at&&t(new ln(Aa(s)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function s4(n,e){return bu(n).put((r=n.currentSequenceNumber,{targetId:0,path:Oo(e.path),sequenceNumber:r}));var r}class G8{constructor(){this.changes=new Sl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,gi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ut.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class $p{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return a4(e).put(r)}removeEntry(e,t,r){return a4(e).delete(function(s,l){const d=s.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],uc(l),d[d.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Qn(e,r)))}getEntry(e,t){let r=gi.newInvalidDocument(t);return a4(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(l1(t))},(s,l)=>{r=this.jn(t,l)}).next(()=>r)}Wn(e,t){let r={size:0,document:gi.newInvalidDocument(t)};return a4(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(l1(t))},(s,l)=>{r={document:this.jn(t,l),size:mh(l)}}).next(()=>r)}getEntries(e,t){let r=$s();return this.zn(e,t,(s,l)=>{const d=this.jn(s,l);r=r.insert(s,d)}).next(()=>r)}Hn(e,t){let r=$s(),s=new Yi(ln.comparator);return this.zn(e,t,(l,d)=>{const g=this.jn(l,d);r=r.insert(l,g),s=s.insert(l,mh(d))}).next(()=>({documents:r,Jn:s}))}zn(e,t,r){if(t.isEmpty())return ut.resolve();let s=new ti(gh);t.forEach(E=>s=s.add(E));const l=IDBKeyRange.bound(l1(s.first()),l1(s.last())),d=s.getIterator();let g=d.getNext();return a4(e).Z({index:"documentKeyIndex",range:l},(E,P,U)=>{const se=ln.fromSegments([...P.prefixPath,P.collectionGroup,P.documentId]);for(;g&&gh(g,se)<0;)r(g,null),g=d.getNext();g&&g.isEqual(se)&&(r(g,P),g=d.hasNext()?d.getNext():null),g?U.j(l1(g)):U.done()}).next(()=>{for(;g;)r(g,null),g=d.hasNext()?d.getNext():null})}getAllFromCollection(e,t,r){const s=[t.popLast().toArray(),t.lastSegment(),uc(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return a4(e).W(IDBKeyRange.bound(s,l,!0)).next(d=>{let g=$s();for(const E of d){const P=this.jn(ln.fromSegments(E.prefixPath.concat(E.collectionGroup,E.documentId)),E);g=g.insert(P.key,P)}return g})}getAllFromCollectionGroup(e,t,r,s){let l=$s();const d=Gp(t,r),g=Gp(t,pa.max());return a4(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,g,!0)},(E,P,U)=>{const se=this.jn(ln.fromSegments(P.prefixPath.concat(P.collectionGroup,P.documentId)),P);l=l.insert(se.key,se),l.size===s&&U.done()}).next(()=>l)}newChangeBuffer(e){return new d3(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return od(e).get("remoteDocumentGlobalKey").next(t=>($n(!!t),t))}Qn(e,t){return od(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const r=function n3(n,e){let t;if(e.document)t=Tp(n.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ln.fromSegments(e.noDocument.path),s=Ml(e.noDocument.readTime);t=gi.newNoDocument(r,s),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return En();{const r=ln.fromSegments(e.unknownDocument.path),s=Ml(e.unknownDocument.version);t=gi.newUnknownDocument(r,s)}}return e.readTime&&t.setReadTime(function(r){const s=new ci(r[0],r[1]);return Kn.fromTimestamp(s)}(e.readTime)),t}(this.It,t);if(!r.isNoDocument()||!r.version.isEqual(Kn.min()))return r}return gi.newInvalidDocument(e)}}function id(n){return new $p(n)}class d3 extends G8{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Sl(r=>r.toString(),(r,s)=>r.isEqual(s))}applyChanges(e){const t=[];let r=0,s=new ti((l,d)=>cr(l.canonicalString(),d.canonicalString()));return this.changes.forEach((l,d)=>{const g=this.Xn.get(l);if(t.push(this.Yn.removeEntry(e,l,g.readTime)),d.isValidDocument()){const E=L8(this.Yn.It,d);s=s.add(l.path.popLast()),r+=mh(E)-g.size,t.push(this.Yn.addEntry(e,l,E))}else if(r-=g.size,this.trackRemovals){const E=L8(this.Yn.It,d.convertToNoDocument(Kn.min()));t.push(this.Yn.addEntry(e,l,E))}}),s.forEach(l=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,l))}),t.push(this.Yn.updateMetadata(e,r)),ut.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(r=>(this.Xn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:r,Jn:s})=>(s.forEach((l,d)=>{this.Xn.set(l,{size:d,readTime:r.get(l).readTime})}),r))}}function od(n){return vi(n,"remoteDocumentGlobal")}function a4(n){return vi(n,"remoteDocumentsV14")}function l1(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Gp(n,e){const t=e.documentKey.path.toArray();return[n,uc(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function gh(n,e){const t=n.path.toArray(),r=e.path.toArray();let s=0;for(let l=0;l<t.length-2&&l<r.length-2;++l)if(s=cr(t[l],r[l]),s)return s;return s=cr(t.length,r.length),s||(s=cr(t[t.length-2],r[r.length-2]),s||cr(t[t.length-1],r[r.length-1]))}class W8{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class h3{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.getBaseDocument(e,t,r))).next(s=>(null!==r&&$4(r.mutation,s,js.empty(),ci.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Xn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Xn()){const s=Fc();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(l=>{let d=G4();return l.forEach((g,E)=>{d=d.insert(g,E.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const r=Fc();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Xn()))}populateOverlays(e,t,r){const s=[];return r.forEach(l=>{t.has(l)||s.push(l)}),this.documentOverlayCache.getOverlays(e,s).next(l=>{l.forEach((d,g)=>{t.set(d,g)})})}computeViews(e,t,r,s){let l=$s();const d=ah(),g=ah();return t.forEach((E,P)=>{const U=r.get(P.key);s.has(P.key)&&(void 0===U||U.mutation instanceof Cl)?l=l.insert(P.key,P):void 0!==U&&(d.set(P.key,U.mutation.getFieldMask()),$4(U.mutation,P,U.mutation.getFieldMask(),ci.now()))}),this.recalculateAndSaveOverlays(e,l).next(E=>(E.forEach((P,U)=>d.set(P,U)),t.forEach((P,U)=>{var se;return g.set(P,new W8(U,null!==(se=d.get(P))&&void 0!==se?se:null))}),g))}recalculateAndSaveOverlays(e,t){const r=ah();let s=new Yi((d,g)=>d-g),l=Xn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const g of d)g.keys().forEach(E=>{const P=t.get(E);if(null===P)return;let U=r.get(E)||js.empty();U=g.applyToLocalView(P,U),r.set(E,U);const se=(s.get(g.batchId)||Xn()).add(E);s=s.insert(g.batchId,se)})}).next(()=>{const d=[],g=s.getReverseIterator();for(;g.hasNext();){const E=g.getNext(),P=E.key,U=E.value,se=g8();U.forEach(Re=>{if(!l.has(Re)){const Xe=V2(t.get(Re),r.get(Re));null!==Xe&&se.set(Re,Xe),l=l.add(Re)}}),d.push(this.documentOverlayCache.saveOverlays(e,P,se))}return ut.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return ln.isDocumentKey((s=t).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):k2(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var s}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(l=>{const d=s-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-l.size):ut.resolve(Fc());let g=-1,E=l;return d.next(P=>ut.forEach(P,(U,se)=>(g<se.largestBatchId&&(g=se.largestBatchId),l.get(U)?ut.resolve():this.getBaseDocument(e,U,se).next(Re=>{E=E.insert(U,Re)}))).next(()=>this.populateOverlays(e,P,l)).next(()=>this.computeViews(e,E,P,Xn())).next(U=>({batchId:g,changes:j2(U)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ln(t)).next(r=>{let s=G4();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const s=t.collectionGroup;let l=G4();return this.indexManager.getCollectionParents(e,s).next(d=>ut.forEach(d,g=>{const E=(P=t,U=g.child(s),new bl(U,null,P.explicitOrderBy.slice(),P.filters.slice(),P.limit,P.limitType,P.startAt,P.endAt));var P,U;return this.getDocumentsMatchingCollectionQuery(e,E,r).next(P=>{P.forEach((U,se)=>{l=l.insert(U,se)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r){let s;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(l=>(s=l,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(l=>{l.forEach((g,E)=>{const P=E.getKey();null===s.get(P)&&(s=s.insert(P,gi.newInvalidDocument(P)))});let d=G4();return s.forEach((g,E)=>{const P=l.get(g);void 0!==P&&$4(P.mutation,E,js.empty(),ci.now()),o8(t,E)&&(d=d.insert(g,E))}),d})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):ut.resolve(gi.newInvalidDocument(t))}}class K8{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return ut.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:Po(r.createTime)}),ut.resolve()}getNamedQuery(e,t){return ut.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:r3(r.bundledQuery),readTime:Po(r.readTime)}),ut.resolve();var r}}class vh{constructor(){this.overlays=new Yi(ln.comparator),this.es=new Map}getOverlay(e,t){return ut.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Fc();return ut.forEach(t,s=>this.getOverlay(e,s).next(l=>{null!==l&&r.set(s,l)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,l)=>{this.ue(e,t,l)}),ut.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.es.get(r);return void 0!==s&&(s.forEach(l=>this.overlays=this.overlays.remove(l)),this.es.delete(r)),ut.resolve()}getOverlaysForCollection(e,t,r){const s=Fc(),l=t.length+1,d=new ln(t.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const E=g.getNext().value,P=E.getKey();if(!t.isPrefixOf(P.path))break;P.path.length===l&&E.largestBatchId>r&&s.set(E.getKey(),E)}return ut.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let l=new Yi((P,U)=>P-U);const d=this.overlays.getIterator();for(;d.hasNext();){const P=d.getNext().value;if(P.getKey().getCollectionGroup()===t&&P.largestBatchId>r){let U=l.get(P.largestBatchId);null===U&&(U=Fc(),l=l.insert(P.largestBatchId,U)),U.set(P.getKey(),P)}}const g=Fc(),E=l.getIterator();for(;E.hasNext()&&(E.getNext().value.forEach((P,U)=>g.set(P,U)),!(g.size()>=s)););return ut.resolve(g)}ue(e,t,r){const s=this.overlays.get(r.key);if(null!==s){const d=this.es.get(s.largestBatchId).delete(r.key);this.es.set(s.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new fh(t,r));let l=this.es.get(t);void 0===l&&(l=Xn(),this.es.set(t,l)),this.es.set(t,l.add(r.key))}}class dc{constructor(){this.ns=new ti(no.ss),this.rs=new ti(no.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new no(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new no(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new ln(new kr([])),r=new no(t,e),s=new no(t,e+1),l=[];return this.rs.forEachInRange([r,s],d=>{this.cs(d),l.push(d.key)}),l}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new ln(new kr([])),r=new no(t,e),s=new no(t,e+1);let l=Xn();return this.rs.forEachInRange([r,s],d=>{l=l.add(d.key)}),l}containsKey(e){const t=new no(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class no{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return ln.comparator(e.key,t.key)||cr(e._s,t._s)}static os(e,t){return cr(e._s,t._s)||ln.comparator(e.key,t.key)}}class yh{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new ti(no.ss)}checkEmpty(e){return ut.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,s){const l=this.ws;this.ws++;const d=new Z4(l,t,r,s);this.mutationQueue.push(d);for(const g of s)this.gs=this.gs.add(new no(g.key,l)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return ut.resolve(d)}lookupMutationBatch(e,t){return ut.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const s=this.ps(t+1),l=s<0?0:s;return ut.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ut.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return ut.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new no(t,0),s=new no(t,Number.POSITIVE_INFINITY),l=[];return this.gs.forEachInRange([r,s],d=>{const g=this.ys(d._s);l.push(g)}),ut.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ti(cr);return t.forEach(s=>{const l=new no(s,0),d=new no(s,Number.POSITIVE_INFINITY);this.gs.forEachInRange([l,d],g=>{r=r.add(g._s)})}),ut.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let l=r;ln.isDocumentKey(l)||(l=l.child(""));const d=new no(new ln(l),0);let g=new ti(cr);return this.gs.forEachWhile(E=>{const P=E.key.path;return!!r.isPrefixOf(P)&&(P.length===s&&(g=g.add(E._s)),!0)},d),ut.resolve(this.Is(g))}Is(e){const t=[];return e.forEach(r=>{const s=this.ys(r);null!==s&&t.push(s)}),t}removeMutationBatch(e,t){$n(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return ut.forEach(t.mutations,s=>{const l=new no(s.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new no(t,0),s=this.gs.firstAfterOrEqual(r);return ut.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return ut.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class sd{constructor(e){this.Es=e,this.docs=new Yi(ln.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),l=s?s.size:0,d=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ut.resolve(r?r.document.mutableCopy():gi.newInvalidDocument(t))}getEntries(e,t){let r=$s();return t.forEach(s=>{const l=this.docs.get(s);r=r.insert(s,l?l.document.mutableCopy():gi.newInvalidDocument(s))}),ut.resolve(r)}getAllFromCollection(e,t,r){let s=$s();const l=new ln(t.child("")),d=this.docs.getIteratorFrom(l);for(;d.hasNext();){const{key:g,value:{document:E}}=d.getNext();if(!t.isPrefixOf(g.path))break;g.path.length>t.length+1||Gd(W0(E),r)<=0||(s=s.insert(E.key,E.mutableCopy()))}return ut.resolve(s)}getAllFromCollectionGroup(e,t,r,s){En()}As(e,t){return ut.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Wp(this)}getSize(e){return ut.resolve(this.size)}}class Wp extends G8{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.Yn.addEntry(e,s)):this.Yn.removeEntry(r)}),ut.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class f3{constructor(e){this.persistence=e,this.Rs=new Sl(t=>wl(t),$1),this.lastRemoteSnapshotVersion=Kn.min(),this.highestTargetId=0,this.bs=0,this.Ps=new dc,this.targetCount=0,this.vs=c1.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,s)=>t(s)),ut.resolve()}getLastRemoteSnapshotVersion(e){return ut.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ut.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),ut.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),ut.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new c1(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,ut.resolve()}updateTargetData(e,t){return this.Dn(t),ut.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,ut.resolve()}removeTargets(e,t,r){let s=0;const l=[];return this.Rs.forEach((d,g)=>{g.sequenceNumber<=t&&null===r.get(g.targetId)&&(this.Rs.delete(d),l.push(this.removeMatchingKeysForTargetId(e,g.targetId)),s++)}),ut.waitFor(l).next(()=>s)}getTargetCount(e){return ut.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return ut.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),ut.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const s=this.persistence.referenceDelegate,l=[];return s&&t.forEach(d=>{l.push(s.markPotentiallyOrphaned(e,d))}),ut.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),ut.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return ut.resolve(r)}containsKey(e,t){return ut.resolve(this.Ps.containsKey(t))}}class p3{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Ds(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new f3(this),this.indexManager=new Lp,this.remoteDocumentCache=new sd(r=>this.referenceDelegate.xs(r)),this.It=new t3(t),this.Ns=new K8(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new vh,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new yh(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){Gt("MemoryPersistence","Starting transaction:",e);const s=new Kp(this.Ss.next());return this.referenceDelegate.ks(),r(s).next(l=>this.referenceDelegate.Os(s).next(()=>l)).toPromise().then(l=>(s.raiseOnCommittedEvent(),l))}Ms(e,t){return ut.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class Kp extends Wd{constructor(e){super(),this.currentSequenceNumber=e}}class _h{constructor(e){this.persistence=e,this.Fs=new dc,this.$s=null}static Bs(e){return new _h(e)}get Ls(){if(this.$s)return this.$s;throw En()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),ut.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),ut.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),ut.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(s=>this.Ls.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(l=>this.Ls.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ut.forEach(this.Ls,r=>{const s=ln.fromPath(r);return this.Us(e,s).next(l=>{l||t.removeEntry(s,Kn.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return ut.or([()=>ut.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class ad{constructor(e){this.It=e}$(e,t,r,s){const l=new g2("createOrUpgrade",t);var g;r<1&&s>=1&&(e.createObjectStore("owner"),(g=e).createObjectStore("mutationQueues",{keyPath:"userId"}),g.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",hh,{unique:!0}),g.createObjectStore("documentMutations"),q8(e),function(g){g.createObjectStore("remoteDocuments")}(e));let d=ut.resolve();return r<3&&s>=3&&(0!==r&&(function(g){g.deleteObjectStore("targetDocuments"),g.deleteObjectStore("targets"),g.deleteObjectStore("targetGlobal")}(e),q8(e)),d=d.next(()=>function(g){const E=g.store("targetGlobal"),P={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Kn.min().toTimestamp(),targetCount:0};return E.put("targetGlobalKey",P)}(l))),r<4&&s>=4&&(0!==r&&(d=d.next(()=>function(g,E){return E.store("mutations").W().next(P=>{g.deleteObjectStore("mutations"),g.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",hh,{unique:!0});const U=E.store("mutations"),se=P.map(Re=>U.put(Re));return ut.waitFor(se)})}(e,l))),d=d.next(()=>{!function(g){g.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&s>=5&&(d=d.next(()=>this.qs(l))),r<6&&s>=6&&(d=d.next(()=>(function(g){g.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(l)))),r<7&&s>=7&&(d=d.next(()=>this.Gs(l))),r<8&&s>=8&&(d=d.next(()=>this.Qs(e,l))),r<9&&s>=9&&(d=d.next(()=>{!function(g){g.objectStoreNames.contains("remoteDocumentChanges")&&g.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&s>=10&&(d=d.next(()=>this.js(l))),r<11&&s>=11&&(d=d.next(()=>{(function(g){g.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(g){g.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&s>=12&&(d=d.next(()=>{!function(g){const E=g.createObjectStore("documentOverlays",{keyPath:Cg});E.createIndex("collectionPathOverlayIndex",Sg,{unique:!1}),E.createIndex("collectionGroupOverlayIndex",Eg,{unique:!1})}(e)})),r<13&&s>=13&&(d=d.next(()=>function(g){const E=g.createObjectStore("remoteDocumentsV14",{keyPath:zp});E.createIndex("documentKeyIndex",Ap),E.createIndex("collectionGroupIndex",O8)}(e)).next(()=>this.Ws(e,l)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&s>=14&&(d=d.next(()=>this.zs(e,l))),r<15&&s>=15&&(d=d.next(()=>function(g){g.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),g.createObjectStore("indexState",{keyPath:F8}).createIndex("sequenceNumberIndex",Pp,{unique:!1}),g.createObjectStore("indexEntries",{keyPath:J2}).createIndex("documentKeyIndex",bg,{unique:!1})}(e))),d}Ks(e){let t=0;return e.store("remoteDocuments").Z((r,s)=>{t+=mh(s)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}qs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(s=>ut.forEach(s,l=>{const d=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",d).next(g=>ut.forEach(g,E=>{$n(E.userId===l.userId);const P=r1(this.It,E);return l3(e,l.userId,P).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(s=>{const l=[];return r.Z((d,g)=>{const E=new kr(d),P=[0,Oo(E)];l.push(t.get(P).next(U=>U?ut.resolve():t.put({targetId:0,path:Oo(E),sequenceNumber:s.highestListenSequenceNumber})))}).next(()=>ut.waitFor(l))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:N8});const r=t.store("collectionParents"),s=new Ts,l=d=>{if(s.add(d)){const g=d.lastSegment(),E=d.popLast();return r.put({collectionId:g,parent:Oo(E)})}};return t.store("remoteDocuments").Z({X:!0},(d,g)=>{const E=new kr(d);return l(E.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([d,g,E],P)=>{const U=Aa(g);return l(U.popLast())}))}js(e){const t=e.store("targets");return t.Z((r,s)=>{const l=J1(s),d=V8(this.It,l);return t.put(d)})}Ws(e,t){const r=t.store("remoteDocuments"),s=[];return r.Z((l,d)=>{const g=t.store("remoteDocumentsV14"),E=(P=d,P.document?new ln(kr.fromString(P.document.name).popFirst(5)):P.noDocument?ln.fromSegments(P.noDocument.path):P.unknownDocument?ln.fromSegments(P.unknownDocument.path):En()).path.toArray();var P;const U={prefixPath:E.slice(0,E.length-2),collectionGroup:E[E.length-2],documentId:E[E.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};s.push(g.put(U))}).next(()=>ut.waitFor(s))}zs(e,t){const r=t.store("mutations"),s=id(this.It),l=new p3(_h.Bs,this.It.re);return r.W().next(d=>{const g=new Map;return d.forEach(E=>{var P;let U=null!==(P=g.get(E.userId))&&void 0!==P?P:Xn();r1(this.It,E).keys().forEach(se=>U=U.add(se)),g.set(E.userId,U)}),ut.forEach(g,(E,P)=>{const U=new So(P),se=J4.oe(this.It,U),Re=l.getIndexManager(U),Xe=rd.oe(U,this.It,Re,l.referenceDelegate);return new h3(s,Xe,se,Re).recalculateAndSaveOverlaysForDocumentKeys(new R8(t,Ds.at),E).next()})})}}function q8(n){n.createObjectStore("targetDocuments",{keyPath:kp}).createIndex("documentTargetsIndex",wg,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",_g,{unique:!0}),n.createObjectStore("targetGlobal")}const Z8="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class m3{constructor(e,t,r,s,l,d,g,E,P,U,se=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Hs=l,this.window=d,this.document=g,this.Js=P,this.Ys=U,this.Xs=se,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=Re=>Promise.resolve(),!m3.C())throw new Ht(gt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new jp(this,s),this.ii=t+"main",this.It=new t3(E),this.ri=new kc(this.ii,this.Xs,new ad(this.It)),this.Cs=new Lc(this.referenceDelegate,this.It),this.remoteDocumentCache=id(this.It),this.Ns=new t4,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===U&&Ai("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ht(gt.FAILED_PRECONDITION,Z8);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new Ds(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var r=(0,_t.Z)(function*(s){if(t.started)return e(s)});return function(s){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,_t.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,_t.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>bh(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if($u(e))return Gt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Gt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return wh(e).get("owner").next(t=>ut.resolve(this.mi(t)))}gi(e){return bh(e).delete(this.clientId)}yi(){var e=this;return(0,_t.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const s=vi(r,"clientMetadata");return s.W().next(l=>{const d=e.Ii(l,18e5),g=l.filter(E=>-1===d.indexOf(E));return ut.forEach(g,E=>s.delete(E.clientId)).next(()=>g)})}).catch(()=>[]);if(e.oi)for(const r of t)e.oi.removeItem(e.Ti(r.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?ut.resolve(!0):wh(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Ht(gt.FAILED_PRECONDITION,Z8);return!1}}return!(!this.networkEnabled||!this.inForeground)||bh(e).W().next(r=>void 0===this.Ii(r,5e3).find(s=>{if(this.clientId!==s.clientId){const d=!this.inForeground&&s.inForeground,g=this.networkEnabled===s.networkEnabled;if(!this.networkEnabled&&s.networkEnabled||d&&g)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Gt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,_t.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new R8(t,Ds.at);return e._i(r).next(()=>e.gi(r))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(r=>this.pi(r.updateTimeMs,t)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>bh(e).W().next(t=>this.Ii(t,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return rd.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Vp(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return J4.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,r){Gt("IndexedDbPersistence","Starting transaction:",e);const s="readonly"===t?"readonly":"readwrite",l=15===(d=this.Xs)?Dg:14===d?Fp:13===d?Np:12===d?Mg:11===d?Op:void En();var d;let g;return this.ri.runTransaction(e,s,l,E=>(g=new R8(E,this.Ss?this.Ss.next():Ds.at),"readwrite-primary"===t?this.fi(g).next(P=>!!P||this.di(g)).next(P=>{if(!P)throw Ai(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Ht(gt.FAILED_PRECONDITION,m2);return r(g)}).next(P=>this.wi(g).next(()=>P)):this.Vi(g).next(()=>r(g)))).then(E=>(g.raiseOnCommittedEvent(),E))}Vi(e){return wh(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ht(gt.FAILED_PRECONDITION,Z8)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return wh(e).put("owner",t)}static C(){return kc.C()}_i(e){const t=wh(e);return t.get("owner").next(r=>this.mi(r)?(Gt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ut.resolve())}pi(e,t){const r=Date.now();return!(e<r-t||e>r&&(Ai(`Detected an update time that is in the future: ${e} > ${r}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,_r.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const r=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Gt("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Ai("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){Ai("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function wh(n){return vi(n,"owner")}function bh(n){return vi(n,"clientMetadata")}function g3(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class v3{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=s}static Ci(e,t){let r=Xn(),s=Xn();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:s=s.add(l.doc.key)}return new v3(e,t.fromCache,r,s)}}class y3{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,s){return this.ki(e,t).next(l=>l||this.Oi(e,t,s,r)).next(l=>l||this.Mi(e,t))}ki(e,t){if(z2(t))return ut.resolve(null);let r=hs(t);return this.indexManager.getIndexType(e,r).next(s=>0===s?null:(null!==t.limit&&1===s&&(t=Nc(t,null,"F"),r=hs(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(l=>{const d=Xn(...l);return this.Ni.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,r).next(E=>{const P=this.Fi(t,g);return this.$i(t,P,d,E.readTime)?this.ki(e,Nc(t,null,"F")):this.Bi(e,P,t,E)}))})))}Oi(e,t,r,s){return z2(t)||s.isEqual(Kn.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(l=>{const d=this.Fi(t,l);return this.$i(t,d,r,s)?this.Mi(e,t):(c2()<=Ki.in.DEBUG&&Gt("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),O2(t)),this.Bi(e,d,t,G0(s,-1)))})}Fi(e,t){let r=new ti(s8(e));return t.forEach((s,l)=>{o8(e,l)&&(r=r.add(l))}),r}$i(e,t,r,s){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const l="F"===e.limitType?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(s)>0)}Mi(e,t){return c2()<=Ki.in.DEBUG&&Gt("QueryEngine","Using full collection scan to execute query:",O2(t)),this.Ni.getDocumentsMatchingQuery(e,t,pa.min())}Bi(e,t,r,s){return this.Ni.getDocumentsMatchingQuery(e,r,s).next(l=>(t.forEach(d=>{l=l.insert(d.key,d)}),l))}}class Ch{constructor(e,t,r,s){this.persistence=e,this.Li=t,this.It=s,this.Ui=new Yi(cr),this.qi=new Sl(l=>wl(l),$1),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new h3(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function Q8(n,e,t,r){return new Ch(n,e,t,r)}function Sh(n,e){return _3.apply(this,arguments)}function _3(){return _3=(0,_t.Z)(function*(n,e){const t=on(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(l=>(s=l,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(l=>{const d=[],g=[];let E=Xn();for(const P of s){d.push(P.batchId);for(const U of P.mutations)E=E.add(U.key)}for(const P of l){g.push(P.batchId);for(const U of P.mutations)E=E.add(U.key)}return t.localDocuments.getDocuments(r,E).next(P=>({ji:P,removedBatchIds:d,addedBatchIds:g}))})})}),_3.apply(this,arguments)}function qp(n,e){const t=on(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),l=t.Gi.newChangeBuffer({trackRemovals:!0});return function(d,g,E,P){const U=E.batch,se=U.keys();let Re=ut.resolve();return se.forEach(Xe=>{Re=Re.next(()=>P.getEntry(g,Xe)).next(tt=>{const Et=E.docVersions.get(Xe);$n(null!==Et),tt.version.compareTo(Et)<0&&(U.applyToRemoteDocument(tt,E),tt.isValidDocument()&&(tt.setReadTime(E.commitVersion),P.addEntry(tt)))})}),Re.next(()=>d.mutationQueue.removeMutationBatch(g,U))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let g=Xn();for(let E=0;E<d.mutationResults.length;++E)d.mutationResults[E].transformResults.length>0&&(g=g.add(d.batch.mutations[E].key));return g}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function X8(n){const e=on(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function Zp(n,e){const t=on(n),r=e.snapshotVersion;let s=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const d=t.Gi.newChangeBuffer({trackRemovals:!0});s=t.Ui;const g=[];e.targetChanges.forEach((U,se)=>{const Re=s.get(se);if(!Re)return;g.push(t.Cs.removeMatchingKeys(l,U.removedDocuments,se).next(()=>t.Cs.addMatchingKeys(l,U.addedDocuments,se)));let Xe=Re.withSequenceNumber(l.currentSequenceNumber);var tt,Et,Ut;e.targetMismatches.has(se)?Xe=Xe.withResumeToken(Eo.EMPTY_BYTE_STRING,Kn.min()).withLastLimboFreeSnapshotVersion(Kn.min()):U.resumeToken.approximateByteSize()>0&&(Xe=Xe.withResumeToken(U.resumeToken,r)),s=s.insert(se,Xe),Et=Xe,Ut=U,(0===(tt=Re).resumeToken.approximateByteSize()||Et.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=3e8||Ut.addedDocuments.size+Ut.modifiedDocuments.size+Ut.removedDocuments.size>0)&&g.push(t.Cs.updateTargetData(l,Xe))});let E=$s(),P=Xn();if(e.documentUpdates.forEach(U=>{e.resolvedLimboDocuments.has(U)&&g.push(t.persistence.referenceDelegate.updateLimboDocument(l,U))}),g.push(J8(l,d,e.documentUpdates).next(U=>{E=U.Wi,P=U.zi})),!r.isEqual(Kn.min())){const U=t.Cs.getLastRemoteSnapshotVersion(l).next(se=>t.Cs.setTargetsMetadata(l,l.currentSequenceNumber,r));g.push(U)}return ut.waitFor(g).next(()=>d.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,E,P)).next(()=>E)}).then(l=>(t.Ui=s,l))}function J8(n,e,t){let r=Xn(),s=Xn();return t.forEach(l=>r=r.add(l)),e.getEntries(n,r).next(l=>{let d=$s();return t.forEach((g,E)=>{const P=l.get(g);E.isFoundDocument()!==P.isFoundDocument()&&(s=s.add(g)),E.isNoDocument()&&E.version.isEqual(Kn.min())?(e.removeEntry(g,E.readTime),d=d.insert(g,E)):!P.isValidDocument()||E.version.compareTo(P.version)>0||0===E.version.compareTo(P.version)&&P.hasPendingWrites?(e.addEntry(E),d=d.insert(g,E)):Gt("LocalStore","Ignoring outdated watch update for ",g,". Current version:",P.version," Watch version:",E.version)}),{Wi:d,zi:s}})}function Qp(n,e){const t=on(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Tl(n,e){const t=on(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Cs.getTargetData(r,e).next(l=>l?(s=l,ut.resolve(s)):t.Cs.allocateTargetId(r).next(d=>(s=new Rc(e,d,0,r.currentSequenceNumber),t.Cs.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.Ui.get(r.targetId);return(null===s||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(r.targetId,r),t.qi.set(e,r.targetId)),r})}function ka(n,e,t){return e6.apply(this,arguments)}function e6(){return e6=(0,_t.Z)(function*(n,e,t){const r=on(n),s=r.Ui.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",l,d=>r.persistence.referenceDelegate.removeTarget(d,s)))}catch(d){if(!$u(d))throw d;Gt("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ui=r.Ui.remove(e),r.qi.delete(s.target)}),e6.apply(this,arguments)}function Cu(n,e,t){const r=on(n);let s=Kn.min(),l=Xn();return r.persistence.runTransaction("Execute query","readonly",d=>function(g,E,P){const U=on(g),se=U.qi.get(P);return void 0!==se?ut.resolve(U.Ui.get(se)):U.Cs.getTargetData(E,P)}(r,d,hs(e)).next(g=>{if(g)return s=g.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(d,g.targetId).next(E=>{l=E})}).next(()=>r.Li.getDocumentsMatchingQuery(d,e,t?s:Kn.min(),t?l:Xn())).next(g=>(Eh(r,Y4(e),g),{documents:g,Hi:l})))}function t6(n,e){const t=on(n),r=on(t.Cs),s=t.Ui.get(e);return s?Promise.resolve(s.target):t.persistence.runTransaction("Get target data","readonly",l=>r.se(l,e).next(d=>d?d.target:null))}function n6(n,e){const t=on(n),r=t.Ki.get(e)||Kn.min();return t.persistence.runTransaction("Get new document changes","readonly",s=>t.Gi.getAllFromCollectionGroup(s,e,G0(r,-1),Number.MAX_SAFE_INTEGER)).then(s=>(Eh(t,e,s),s))}function Eh(n,e,t){let r=n.Ki.get(e)||Kn.min();t.forEach((s,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),n.Ki.set(e,r)}function Pa(){return Pa=(0,_t.Z)(function*(n,e,t,r){const s=on(n);let l=Xn(),d=$s();for(const P of t){const U=e.Ji(P.metadata.name);P.document&&(l=l.add(U));const se=e.Yi(P);se.setReadTime(e.Xi(P.metadata.readTime)),d=d.insert(U,se)}const g=s.Gi.newChangeBuffer({trackRemovals:!0}),E=yield Tl(s,(P=r,hs(du(kr.fromString(`__bundle__/docs/${P}`)))));var P;return s.persistence.runTransaction("Apply bundle documents","readwrite",P=>J8(P,g,d).next(U=>(g.apply(P),U)).next(U=>s.Cs.removeMatchingKeysForTargetId(P,E.targetId).next(()=>s.Cs.addMatchingKeys(P,l,E.targetId)).next(()=>s.localDocuments.getLocalViewOfDocuments(P,U.Wi,U.zi)).next(()=>U.Wi)))}),Pa.apply(this,arguments)}function cd(n,e){return No.apply(this,arguments)}function No(){return No=(0,_t.Z)(function*(n,e,t=Xn()){const r=yield Tl(n,hs(r3(e.bundledQuery))),s=on(n);return s.persistence.runTransaction("Save named query","readwrite",l=>{const d=Po(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return s.Ns.saveNamedQuery(l,e);const g=r.withResumeToken(Eo.EMPTY_BYTE_STRING,d);return s.Ui=s.Ui.insert(g.targetId,g),s.Cs.updateTargetData(l,g).next(()=>s.Cs.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>s.Cs.addMatchingKeys(l,t,r.targetId)).next(()=>s.Ns.saveNamedQuery(l,e))})}),No.apply(this,arguments)}function Su(n,e){return`firestore_clients_${n}_${e}`}function ld(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Ws(n,e){return`firestore_targets_${n}_${e}`}class c4{constructor(e,t,r,s){this.user=e,this.batchId=t,this.state=r,this.error=s}static Zi(e,t,r){const s=JSON.parse(r);let l,d="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return d&&s.error&&(d="string"==typeof s.error.message&&"string"==typeof s.error.code,d&&(l=new Ht(s.error.code,s.error.message))),d?new c4(e,t,s.state,l):(Ai("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Vc{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Zi(e,t){const r=JSON.parse(t);let s,l="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(s=new Ht(r.error.code,r.error.message))),l?new Vc(e,r.state,s):(Ai("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class xl{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const r=JSON.parse(t);let s="object"==typeof r&&r.activeTargetIds instanceof Array,l=q1();for(let d=0;s&&d<r.activeTargetIds.length;++d)s=C2(r.activeTargetIds[d]),l=l.add(r.activeTargetIds[d]);return s?new xl(e,l):(Ai("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Eu{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Eu(t.clientId,t.onlineState):(Ai("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Mu{constructor(){this.activeTargetIds=q1()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Du{constructor(e,t,r,s,l){this.window=e,this.Hs=t,this.persistenceKey=r,this.sr=s,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Yi(cr),this.started=!1,this.cr=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.ar=Su(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new Mu),this.lr=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(g){return`firestore_bundle_loaded_v2_${g}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,_t.Z)(function*(){const t=yield e.syncEngine.vi();for(const s of t){if(s===e.sr)continue;const l=e.getItem(Su(e.persistenceKey,s));if(l){const d=xl.Zi(s,l);d&&(e.ur=e.ur.insert(d.clientId,d))}}e.gr();const r=e.storage.getItem(e.wr);if(r){const s=e.yr(r);s&&e.pr(s)}for(const s of e.cr)e.rr(s);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((r,s)=>{s.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,r){this.Tr(e,t,r),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Ws(this.persistenceKey,e));if(r){const s=Vc.Zi(e,r);s&&(t=s.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Ws(this.persistenceKey,e))}updateQueryState(e,t,r){this.Rr(e,t,r)}handleUserChange(e,t,r){t.forEach(s=>{this.Er(s)}),this.currentUser=e,r.forEach(s=>{this.addPendingMutation(s)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Gt("SharedClientState","READ",e,t),t}setItem(e,t){Gt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Gt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Gt("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void Ai("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,_t.Z)(function*(){if(t.started){if(null!==r.key)if(t.lr.test(r.key)){if(null==r.newValue){const s=t.vr(r.key);return t.Vr(s,null)}{const s=t.Sr(r.key,r.newValue);if(s)return t.Vr(s.clientId,s)}}else if(t.dr.test(r.key)){if(null!==r.newValue){const s=t.Dr(r.key,r.newValue);if(s)return t.Cr(s)}}else if(t._r.test(r.key)){if(null!==r.newValue){const s=t.Nr(r.key,r.newValue);if(s)return t.kr(s)}}else if(r.key===t.wr){if(null!==r.newValue){const s=t.yr(r.newValue);if(s)return t.pr(s)}}else if(r.key===t.hr){const s=function(l){let d=Ds.at;if(null!=l)try{const g=JSON.parse(l);$n("number"==typeof g),d=g}catch(g){Ai("SharedClientState","Failed to read sequence number from WebStorage",g)}return d}(r.newValue);s!==Ds.at&&t.sequenceNumberHandler(s)}else if(r.key===t.mr){const s=t.Or(r.newValue);yield Promise.all(s.map(l=>t.syncEngine.Mr(l)))}}else t.cr.push(r)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,r){const s=new c4(this.currentUser,e,t,r),l=ld(this.persistenceKey,this.currentUser,e);this.setItem(l,s.tr())}Er(e){const t=ld(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,r){const s=Ws(this.persistenceKey,e),l=new Vc(e,t,r);this.setItem(s,l.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const r=this.vr(e);return xl.Zi(r,t)}Dr(e,t){const r=this.dr.exec(e),s=Number(r[1]);return c4.Zi(new So(void 0!==r[2]?r[2]:null),s,t)}Nr(e,t){const r=this._r.exec(e),s=Number(r[1]);return Vc.Zi(s,t)}yr(e){return Eu.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,_t.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Gt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const r=t?this.ur.insert(e,t):this.ur.remove(e),s=this.Ir(this.ur),l=this.Ir(r),d=[],g=[];return l.forEach(E=>{s.has(E)||d.push(E)}),s.forEach(E=>{l.has(E)||g.push(E)}),this.syncEngine.Br(d,g).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=q1();return e.forEach((r,s)=>{t=t.unionWith(s.activeTargetIds)}),t}}class u1{constructor(){this.Lr=new Mu,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,r){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new Mu,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class l4{qr(e){}shutdown(){}}class d1{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Gt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Gt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const h1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class w3{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class r6 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,s,l){const d=this.ho(e,t);Gt("RestConnection","Sending: ",d,r);const g={};return this.lo(g,s,l),this.fo(e,d,g,r).then(E=>(Gt("RestConnection","Received: ",E),E),E=>{throw N1("RestConnection",`${e} failed with error: `,E,"url: ",d,"request:",r),E})}_o(e,t,r,s,l,d){return this.ao(e,t,r,s,l)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Uu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,l)=>e[l]=s),r&&r.headers.forEach((s,l)=>e[l]=s)}ho(e,t){return`${this.oo}/v1/${t}:${h1[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,s){return new Promise((l,d)=>{const g=new F4;g.setWithCredentials(!0),g.listenOnce(ap.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case s2.NO_ERROR:const P=g.getResponseJson();Gt("Connection","XHR received:",JSON.stringify(P)),l(P);break;case s2.TIMEOUT:Gt("Connection",'RPC "'+e+'" timed out'),d(new Ht(gt.DEADLINE_EXCEEDED,"Request time out"));break;case s2.HTTP_ERROR:const U=g.getStatus();if(Gt("Connection",'RPC "'+e+'" failed with status:',U,"response text:",g.getResponseText()),U>0){const se=g.getResponseJson().error;if(se&&se.status&&se.message){const Re=function(Xe){const tt=Xe.toLowerCase().replace(/_/g,"-");return Object.values(gt).indexOf(tt)>=0?tt:gt.UNKNOWN}(se.status);d(new Ht(Re,se.message))}else d(new Ht(gt.UNKNOWN,"Server responded with status "+g.getStatus()))}else d(new Ht(gt.UNAVAILABLE,"Connection failed."));break;default:En()}}finally{Gt("Connection",'RPC "'+e+'" completed.')}});const E=JSON.stringify(s);g.send(t,"POST",E,r,15)})}wo(e,t,r){const s=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=L0(),d=sp(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(g.xmlHttpFactory=new pg({})),this.lo(g.initMessageHeaders,t,r),g.encodeInitMessageHeaders=!0;const E=s.join("");Gt("Connection","Creating WebChannel: "+E,g);const P=l.createWebChannel(E,g);let U=!1,se=!1;const Re=new w3({Hr:tt=>{se?Gt("Connection","Not sending because WebChannel is closed:",tt):(U||(Gt("Connection","Opening WebChannel transport."),P.open(),U=!0),Gt("Connection","WebChannel sending:",tt),P.send(tt))},Jr:()=>P.close()}),Xe=(tt,Et,Ut)=>{tt.listen(Et,xn=>{try{Ut(xn)}catch(nr){setTimeout(()=>{throw nr},0)}})};return Xe(P,a2.EventType.OPEN,()=>{se||Gt("Connection","WebChannel transport opened.")}),Xe(P,a2.EventType.CLOSE,()=>{se||(se=!0,Gt("Connection","WebChannel transport closed"),Re.io())}),Xe(P,a2.EventType.ERROR,tt=>{se||(se=!0,N1("Connection","WebChannel transport errored:",tt),Re.io(new Ht(gt.UNAVAILABLE,"The operation could not be completed")))}),Xe(P,a2.EventType.MESSAGE,tt=>{var Et;if(!se){const Ut=tt.data[0];$n(!!Ut);const xn=Ut,nr=xn.error||(null===(Et=xn[0])||void 0===Et?void 0:Et.error);if(nr){Gt("Connection","WebChannel received error:",nr);const Gn=nr.status;let Rn=function(er){const Lr=co[er];if(void 0!==Lr)return Y2(Lr)}(Gn),rr=nr.message;void 0===Rn&&(Rn=gt.INTERNAL,rr="Unknown error status: "+Gn+" with message "+nr.message),se=!0,Re.io(new Ht(Rn,rr)),P.close()}else Gt("Connection","WebChannel received:",Ut),Re.ro(Ut)}}),Xe(d,cp.STAT_EVENT,tt=>{tt.stat===V0.PROXY?Gt("Connection","Detected buffering proxy"):tt.stat===V0.NOPROXY&&Gt("Connection","Detected no buffering proxy")}),setTimeout(()=>{Re.so()},0),Re}}function Mh(){return typeof window<"u"?window:null}function u4(){return typeof document<"u"?document:null}function Tu(n){return new S8(n,!0)}class Dh{constructor(e,t,r=1e3,s=1.5,l=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=s,this.po=l,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),s=Math.max(0,t-r);s>0&&Gt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,s,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class ud{constructor(e,t,r,s,l,d,g,E){this.Hs=e,this.vo=r,this.Vo=s,this.connection=l,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=E,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Dh(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,_t.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,_t.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return(0,_t.Z)(function*(){r.Lo(),r.Uo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===gt.RESOURCE_EXHAUSTED?(Ai(t.toString()),Ai("Using maximum backoff delay to prevent overloading the backend."),r.xo.Ao()):t&&t.code===gt.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.qo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.So===t&&this.Go(r,s)},r=>{e(()=>{const s=new Ht(gt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(s)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(s=>{r(()=>this.Qo(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,_t.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Gt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Gt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Th extends ud{constructor(e,t,r,s,l,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,d),this.It=l}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function x8(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(E=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===E?1:"REMOVE"===E?2:"CURRENT"===E?3:"RESET"===E?4:En(),s=e.targetChange.targetIds||[],l=function(E,P){return E.gt?($n(void 0===P||"string"==typeof P),Eo.fromBase64String(P||"")):($n(void 0===P||P instanceof Uint8Array),Eo.fromUint8Array(P||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(E){const P=void 0===E.code?gt.UNKNOWN:Y2(E.code);return new Ht(P,E.message||"")}(d);t=new Mp(r,s,l,g||null)}else if("documentChange"in e){const r=e.documentChange,s=lc(n,r.document.name),l=Po(r.document.updateTime),d=new ds({mapValue:{fields:r.document.fields}}),g=gi.newFoundDocument(s,l,d);t=new $2(r.targetIds||[],r.removedTargetIds||[],g.key,g)}else if("documentDelete"in e){const r=e.documentDelete,s=lc(n,r.document),l=r.readTime?Po(r.readTime):Kn.min(),d=gi.newNoDocument(s,l);t=new $2([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,s=lc(n,r.document);t=new $2([],r.removedTargetIds||[],s,null)}else{if(!("filter"in e))return En();{const r=e.filter,l=new bp(r.count||0);t=new Ep(r.targetId,l)}}var E;return t}(this.It,e),r=function(s){if(!("targetChange"in s))return Kn.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?Kn.min():l.readTime?Po(l.readTime):Kn.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=Q1(this.It),t.addTarget=function(s,l){let d;const g=l.target;return d=th(g)?{documents:q2(s,g)}:{query:X1(s,g)},d.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?d.resumeToken=E8(s,l.resumeToken):l.snapshotVersion.compareTo(Kn.min())>0&&(d.readTime=pu(s,l.snapshotVersion.toTimestamp())),d}(this.It,e);const r=function z8(n,e){const t=function(r,s){switch(s){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return En()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=Q1(this.It),t.removeTarget=e,this.Bo(t)}}class xh extends ud{constructor(e,t,r,s,l,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,d),this.It=l,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if($n(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function I8(n,e){return n&&n.length>0?($n(void 0!==e),n.map(t=>function(r,s){let l=Po(r.updateTime?r.updateTime:s);return l.isEqual(Kn.min())&&(l=Po(s)),new d8(l,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Po(e.commitTime);return this.listener.Zo(r,t)}return $n(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Q1(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>lh(this.It,r))};this.Bo(t)}}class b3 extends class{}{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.It=s,this.nu=!1}su(){if(this.nu)throw new Ht(gt.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.ao(e,t,r,s,l)).catch(s=>{throw"FirebaseError"===s.name?(s.code===gt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ht(gt.UNKNOWN,s.toString())})}_o(e,t,r,s){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,d])=>this.connection._o(e,t,r,l,d,s)).catch(l=>{throw"FirebaseError"===l.name?(l.code===gt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ht(gt.UNKNOWN,l.toString())})}terminate(){this.nu=!0}}class zt{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Ai(t),this.ou=!1):Gt("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class Jn{constructor(e,t,r,s,l){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=l,this.mu.qr(g=>{r.enqueueAndForget((0,_t.Z)(function*(){var E;Hc(d)&&(Gt("RemoteStore","Restarting streams for network reachability change."),yield(E=(0,_t.Z)(function*(P){const U=on(P);U._u.add(4),yield Dn(U),U.gu.set("Unknown"),U._u.delete(4),yield Qe(U)}),function(P){return E.apply(this,arguments)})(d))}))}),this.gu=new zt(r,s)}}function Qe(n){return qt.apply(this,arguments)}function qt(){return qt=(0,_t.Z)(function*(n){if(Hc(n))for(const e of n.wu)yield e(!0)}),qt.apply(this,arguments)}function Dn(n){return lr.apply(this,arguments)}function lr(){return lr=(0,_t.Z)(function*(n){for(const e of n.wu)yield e(!1)}),lr.apply(this,arguments)}function xr(n,e){const t=on(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),zl(t)?Il(t):Pi(t).ko()&&ki(t,e))}function Xr(n,e){const t=on(n),r=Pi(t);t.du.delete(e),r.ko()&&Ks(t,e),0===t.du.size&&(r.ko()?r.Fo():Hc(t)&&t.gu.set("Unknown"))}function ki(n,e){n.yu.Mt(e.targetId),Pi(n).zo(e)}function Ks(n,e){n.yu.Mt(e),Pi(n).Ho(e)}function Il(n){n.yu=new w8({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n.du.get(e)||null}),Pi(n).start(),n.gu.uu()}function zl(n){return Hc(n)&&!Pi(n).No()&&n.du.size>0}function Hc(n){return 0===on(n)._u.size}function hd(n){n.yu=void 0}function Jp(n){return C3.apply(this,arguments)}function C3(){return C3=(0,_t.Z)(function*(n){n.du.forEach((e,t)=>{ki(n,e)})}),C3.apply(this,arguments)}function s6(n,e){return S3.apply(this,arguments)}function S3(){return S3=(0,_t.Z)(function*(n,e){hd(n),zl(n)?(n.gu.hu(e),Il(n)):n.gu.set("Unknown")}),S3.apply(this,arguments)}function xg(n,e,t){return E3.apply(this,arguments)}function E3(){return E3=(0,_t.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof Mp&&2===e.state&&e.cause)try{yield(r=(0,_t.Z)(function*(s,l){const d=l.cause;for(const g of l.targetIds)s.du.has(g)&&(yield s.remoteSyncer.rejectListen(g,d),s.du.delete(g),s.yu.removeTarget(g))}),function(s,l){return r.apply(this,arguments)})(n,e)}catch(r){Gt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Ih(n,r)}else if(e instanceof $2?n.yu.Gt(e):e instanceof Ep?n.yu.Yt(e):n.yu.Wt(e),!t.isEqual(Kn.min()))try{const r=yield X8(n.localStore);t.compareTo(r)>=0&&(yield function(s,l){const d=s.yu.te(l);return d.targetChanges.forEach((g,E)=>{if(g.resumeToken.approximateByteSize()>0){const P=s.du.get(E);P&&s.du.set(E,P.withResumeToken(g.resumeToken,l))}}),d.targetMismatches.forEach(g=>{const E=s.du.get(g);if(!E)return;s.du.set(g,E.withResumeToken(Eo.EMPTY_BYTE_STRING,E.snapshotVersion)),Ks(s,g);const P=new Rc(E.target,g,1,E.sequenceNumber);ki(s,P)}),s.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){Gt("RemoteStore","Failed to raise snapshot:",r),yield Ih(n,r)}var r}),E3.apply(this,arguments)}function Ih(n,e,t){return M3.apply(this,arguments)}function M3(){return M3=(0,_t.Z)(function*(n,e,t){if(!$u(e))throw e;n._u.add(1),yield Dn(n),n.gu.set("Offline"),t||(t=()=>X8(n.localStore)),n.asyncQueue.enqueueRetryable((0,_t.Z)(function*(){Gt("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield Qe(n)}))}),M3.apply(this,arguments)}function a6(n,e){return e().catch(t=>Ih(n,t,e))}function fd(n){return D3.apply(this,arguments)}function D3(){return D3=(0,_t.Z)(function*(n){const e=on(n),t=xu(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;em(e);)try{const s=yield Qp(e.localStore,r);if(null===s){0===e.fu.length&&t.Fo();break}r=s.batchId,tm(e,s)}catch(s){yield Ih(e,s)}T3(e)&&c6(e)}),D3.apply(this,arguments)}function em(n){return Hc(n)&&n.fu.length<10}function tm(n,e){n.fu.push(e);const t=xu(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function T3(n){return Hc(n)&&!xu(n).No()&&n.fu.length>0}function c6(n){xu(n).start()}function nm(n){return x3.apply(this,arguments)}function x3(){return x3=(0,_t.Z)(function*(n){xu(n).eu()}),x3.apply(this,arguments)}function rm(n){return I3.apply(this,arguments)}function I3(){return I3=(0,_t.Z)(function*(n){const e=xu(n);for(const t of n.fu)e.Xo(t.mutations)}),I3.apply(this,arguments)}function im(n,e,t){return z3.apply(this,arguments)}function z3(){return z3=(0,_t.Z)(function*(n,e,t){const r=n.fu.shift(),s=e3.from(r,e,t);yield a6(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),yield fd(n)}),z3.apply(this,arguments)}function om(n,e){return sm.apply(this,arguments)}function sm(){return sm=(0,_t.Z)(function*(n,e){var t;e&&xu(n).Yo&&(yield(t=(0,_t.Z)(function*(r,s){if(B2(l=s.code)&&l!==gt.ABORTED){const d=r.fu.shift();xu(r).Mo(),yield a6(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,s)),yield fd(r)}var l}),function(r,s){return t.apply(this,arguments)})(n,e)),T3(n)&&c6(n)}),sm.apply(this,arguments)}function am(n,e){return l6.apply(this,arguments)}function l6(){return l6=(0,_t.Z)(function*(n,e){const t=on(n);t.asyncQueue.verifyOperationInProgress(),Gt("RemoteStore","RemoteStore received new credentials");const r=Hc(t);t._u.add(3),yield Dn(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield Qe(t)}),l6.apply(this,arguments)}function A3(n,e){return u6.apply(this,arguments)}function u6(){return u6=(0,_t.Z)(function*(n,e){const t=on(n);e?(t._u.delete(2),yield Qe(t)):e||(t._u.add(2),yield Dn(t),t.gu.set("Unknown"))}),u6.apply(this,arguments)}function Pi(n){return n.pu||(n.pu=function(e,t,r){const s=on(e);return s.su(),new Th(t,s.connection,s.authCredentials,s.appCheckCredentials,s.It,r)}(n.datastore,n.asyncQueue,{Yr:Jp.bind(null,n),Zr:s6.bind(null,n),Wo:xg.bind(null,n)}),n.wu.push(function(){var e=(0,_t.Z)(function*(t){t?(n.pu.Mo(),zl(n)?Il(n):n.gu.set("Unknown")):(yield n.pu.stop(),hd(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function xu(n){return n.Iu||(n.Iu=function(e,t,r){const s=on(e);return s.su(),new xh(t,s.connection,s.authCredentials,s.appCheckCredentials,s.It,r)}(n.datastore,n.asyncQueue,{Yr:nm.bind(null,n),Zr:om.bind(null,n),tu:rm.bind(null,n),Zo:im.bind(null,n)}),n.wu.push(function(){var e=(0,_t.Z)(function*(t){t?(n.Iu.Mo(),yield fd(n)):(yield n.Iu.stop(),n.fu.length>0&&(Gt("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class d6{constructor(e,t,r,s,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=l,this.deferred=new Bi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,s,l){const d=Date.now()+r,g=new d6(e,t,d,s,l);return g.start(r),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ht(gt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pd(n,e){if(Ai("AsyncQueue",`${e}: ${n}`),$u(n))return new Ht(gt.UNAVAILABLE,`${e}: ${n}`);throw n}class d4{constructor(e){this.comparator=e?(t,r)=>e(t,r)||ln.comparator(t.key,r.key):(t,r)=>ln.comparator(t.key,r.key),this.keyedMap=G4(),this.sortedSet=new Yi(this.comparator)}static emptySet(e){return new d4(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof d4)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=r.getNext().key;if(!s.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new d4;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class cm{constructor(){this.Tu=new Yi(ln.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):En():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class h4{constructor(e,t,r,s,l,d,g,E,P){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=l,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=E,this.hasCachedResults=P}static fromInitialDocuments(e,t,r,s,l){const d=[];return t.forEach(g=>{d.push({type:0,doc:g})}),new h4(e,t,d4.emptySet(t),d,r,s,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&W1(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}class lm{constructor(){this.Au=void 0,this.listeners=[]}}class md{constructor(){this.queries=new Sl(e=>P2(e),W1),this.onlineState="Unknown",this.Ru=new Set}}function h6(n,e){return f6.apply(this,arguments)}function f6(){return f6=(0,_t.Z)(function*(n,e){const t=on(n),r=e.query;let s=!1,l=t.queries.get(r);if(l||(s=!0,l=new lm),s)try{l.Au=yield t.onListen(r)}catch(d){const g=pd(d,`Initialization of query '${O2(e.query)}' failed`);return void e.onError(g)}t.queries.set(r,l),l.listeners.push(e),e.bu(t.onlineState),l.Au&&e.Pu(l.Au)&&zh(t)}),f6.apply(this,arguments)}function k3(n,e){return p6.apply(this,arguments)}function p6(){return p6=(0,_t.Z)(function*(n,e){const t=on(n),r=e.query;let s=!1;const l=t.queries.get(r);if(l){const d=l.listeners.indexOf(e);d>=0&&(l.listeners.splice(d,1),s=0===l.listeners.length)}if(s)return t.queries.delete(r),t.onUnlisten(r)}),p6.apply(this,arguments)}function um(n,e){const t=on(n);let r=!1;for(const s of e){const d=t.queries.get(s.query);if(d){for(const g of d.listeners)g.Pu(s)&&(r=!0);d.Au=s}}r&&zh(t)}function n9(n,e,t){const r=on(n),s=r.queries.get(e);if(s)for(const l of s.listeners)l.onError(t);r.queries.delete(e)}function zh(n){n.Ru.forEach(e=>{e.next()})}class Ah{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)3!==s.type&&r.push(s);e=new h4(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=h4.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class Al{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class dm{constructor(e){this.It=e}Ji(e){return lc(this.It,e)}Yi(e){return e.metadata.exists?Tp(this.It,e.document,!1):gi.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Po(e)}}class Ig{constructor(e,t,r){this.Mu=e,this.localStore=t,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Bc(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const r=kr.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new dm(this.It);for(const s of e)if(s.metadata.queries){const l=r.Ji(s.metadata.name);for(const d of s.metadata.queries){const g=(t.get(d)||Xn()).add(l);t.set(d,g)}}return t}complete(){var e=this;return(0,_t.Z)(function*(){const t=yield function Xp(n,e,t,r){return Pa.apply(this,arguments)}(e.localStore,new dm(e.It),e.documents,e.Mu.id),r=e.$u(e.documents);for(const s of e.queries)yield cd(e.localStore,s,r.get(s.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function Bc(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class hc{constructor(e){this.key=e}}class fc{constructor(e){this.key=e}}class m6{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Xn(),this.mutatedKeys=Xn(),this.Gu=s8(e),this.Qu=new d4(this.Gu)}get ju(){return this.Uu}Wu(e,t){const r=t?t.zu:new cm,s=t?t.Qu:this.Qu;let l=t?t.mutatedKeys:this.mutatedKeys,d=s,g=!1;const E="F"===this.query.limitType&&s.size===this.query.limit?s.last():null,P="L"===this.query.limitType&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((U,se)=>{const Re=s.get(U),Xe=o8(this.query,se)?se:null,tt=!!Re&&this.mutatedKeys.has(Re.key),Et=!!Xe&&(Xe.hasLocalMutations||this.mutatedKeys.has(Xe.key)&&Xe.hasCommittedMutations);let Ut=!1;Re&&Xe?Re.data.isEqual(Xe.data)?tt!==Et&&(r.track({type:3,doc:Xe}),Ut=!0):this.Hu(Re,Xe)||(r.track({type:2,doc:Xe}),Ut=!0,(E&&this.Gu(Xe,E)>0||P&&this.Gu(Xe,P)<0)&&(g=!0)):!Re&&Xe?(r.track({type:0,doc:Xe}),Ut=!0):Re&&!Xe&&(r.track({type:1,doc:Re}),Ut=!0,(E||P)&&(g=!0)),Ut&&(Xe?(d=d.add(Xe),l=Et?l.add(U):l.delete(U)):(d=d.delete(U),l=l.delete(U)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const U="F"===this.query.limitType?d.last():d.first();d=d.delete(U.key),l=l.delete(U.key),r.track({type:1,doc:U})}return{Qu:d,zu:r,$i:g,mutatedKeys:l}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const s=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const l=e.zu.Eu();l.sort((P,U)=>function(se,Re){const Xe=tt=>{switch(tt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return En()}};return Xe(se)-Xe(Re)}(P.type,U.type)||this.Gu(P.doc,U.doc)),this.Ju(r);const d=t?this.Yu():[],g=0===this.Ku.size&&this.current?1:0,E=g!==this.qu;return this.qu=g,0!==l.length||E?{snapshot:new h4(this.query,e.Qu,s,l,e.mutatedKeys,0===g,E,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:d}:{Xu:d}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new cm,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Xn(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new fc(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new hc(r))}),t}tc(e){this.Uu=e.Hi,this.Ku=Xn();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return h4.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class hm{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class zg{constructor(e){this.key=e,this.nc=!1}}class Ag{constructor(e,t,r,s,l,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=l,this.maxConcurrentLimboResolutions=d,this.sc={},this.ic=new Sl(g=>P2(g),W1),this.rc=new Map,this.oc=new Set,this.uc=new Yi(ln.comparator),this.cc=new Map,this.ac=new dc,this.hc={},this.lc=new Map,this.fc=c1.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function kg(n,e){return g6.apply(this,arguments)}function g6(){return g6=(0,_t.Z)(function*(n,e){const t=Y3(n);let r,s;const l=t.ic.get(e);if(l)r=l.targetId,t.sharedClientState.addLocalQueryTarget(r),s=l.view.ec();else{const d=yield Tl(t.localStore,hs(e));t.isPrimaryClient&&xr(t.remoteStore,d);const g=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,s=yield kh(t,e,r,"current"===g,d.resumeToken)}return s}),g6.apply(this,arguments)}function kh(n,e,t,r,s){return f4.apply(this,arguments)}function f4(){return f4=(0,_t.Z)(function*(n,e,t,r,s){n._c=(se,Re,Xe)=>{return(tt=(0,_t.Z)(function*(Et,Ut,xn,nr){let Gn=Ut.view.Wu(xn);Gn.$i&&(Gn=yield Cu(Et.localStore,Ut.query,!1).then(({documents:er})=>Ut.view.Wu(er,Gn)));const Rn=nr&&nr.targetChanges.get(Ut.targetId),rr=Ut.view.applyChanges(Gn,Et.isPrimaryClient,Rn);return w6(Et,Ut.targetId,rr.Xu),rr.snapshot}),function(Et,Ut,xn,nr){return tt.apply(this,arguments)})(n,se,Re,Xe);var tt};const l=yield Cu(n.localStore,e,!0),d=new m6(e,l.Hi),g=d.Wu(l.documents),E=W4.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,s),P=d.applyChanges(g,n.isPrimaryClient,E);w6(n,t,P.Xu);const U=new hm(e,t,d);return n.ic.set(e,U),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),P.snapshot}),f4.apply(this,arguments)}function Pg(n,e){return P3.apply(this,arguments)}function P3(){return P3=(0,_t.Z)(function*(n,e){const t=on(n),r=t.ic.get(e),s=t.rc.get(r.targetId);if(s.length>1)return t.rc.set(r.targetId,s.filter(l=>!W1(l,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield ka(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Xr(t.remoteStore,r.targetId),p4(t,r.targetId)}).catch(ou))):(p4(t,r.targetId),yield ka(t.localStore,r.targetId,!0))}),P3.apply(this,arguments)}function O3(){return O3=(0,_t.Z)(function*(n,e,t){const r=U3(n);try{const s=yield function(l,d){const g=on(l),E=ci.now(),P=d.reduce((Re,Xe)=>Re.add(Xe.key),Xn());let U,se;return g.persistence.runTransaction("Locally write mutations","readwrite",Re=>{let Xe=$s(),tt=Xn();return g.Gi.getEntries(Re,P).next(Et=>{Xe=Et,Xe.forEach((Ut,xn)=>{xn.isValidDocument()||(tt=tt.add(Ut))})}).next(()=>g.localDocuments.getOverlayedDocuments(Re,Xe)).next(Et=>{U=Et;const Ut=[];for(const xn of d){const nr=cc(xn,U.get(xn.key).overlayedDocument);null!=nr&&Ut.push(new Cl(xn.key,nr,E2(nr.value.mapValue),Di.exists(!0)))}return g.mutationQueue.addMutationBatch(Re,E,Ut,d)}).next(Et=>{se=Et;const Ut=Et.applyToLocalDocumentSet(U,tt);return g.documentOverlayCache.saveOverlays(Re,Et.batchId,Ut)})}).then(()=>({batchId:se.batchId,changes:j2(U)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(l,d,g){let E=l.hc[l.currentUser.toKey()];E||(E=new Yi(cr)),E=E.insert(d,g),l.hc[l.currentUser.toKey()]=E}(r,s.batchId,t),yield Iu(r,s.changes),yield fd(r.remoteStore)}catch(s){const l=pd(s,"Failed to persist write");t.reject(l)}}),O3.apply(this,arguments)}function v6(n,e){return gd.apply(this,arguments)}function gd(){return gd=(0,_t.Z)(function*(n,e){const t=on(n);try{const r=yield Zp(t.localStore,e);e.targetChanges.forEach((s,l)=>{const d=t.cc.get(l);d&&($n(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?d.nc=!0:s.modifiedDocuments.size>0?$n(d.nc):s.removedDocuments.size>0&&($n(d.nc),d.nc=!1))}),yield Iu(t,r,e)}catch(r){yield ou(r)}}),gd.apply(this,arguments)}function fm(n,e,t){const r=on(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const s=[];r.ic.forEach((l,d)=>{const g=d.view.bu(e);g.snapshot&&s.push(g.snapshot)}),function(l,d){const g=on(l);g.onlineState=d;let E=!1;g.queries.forEach((P,U)=>{for(const se of U.listeners)se.bu(d)&&(E=!0)}),E&&zh(g)}(r.eventManager,e),s.length&&r.sc.Wo(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function pm(n,e,t){return N3.apply(this,arguments)}function N3(){return N3=(0,_t.Z)(function*(n,e,t){const r=on(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.cc.get(e),l=s&&s.key;if(l){let d=new Yi(ln.comparator);d=d.insert(l,gi.newNoDocument(l,Kn.min()));const g=Xn().add(l),E=new t1(Kn.min(),new Map,new ti(cr),d,g);yield v6(r,E),r.uc=r.uc.remove(l),r.cc.delete(e),b6(r)}else yield ka(r.localStore,e,!1).then(()=>p4(r,e,t)).catch(ou)}),N3.apply(this,arguments)}function y6(n,e){return vd.apply(this,arguments)}function vd(){return vd=(0,_t.Z)(function*(n,e){const t=on(n),r=e.batch.batchId;try{const s=yield qp(t.localStore,e);V3(t,r,null),L3(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Iu(t,s)}catch(s){yield ou(s)}}),vd.apply(this,arguments)}function mm(n,e,t){return F3.apply(this,arguments)}function F3(){return F3=(0,_t.Z)(function*(n,e,t){const r=on(n);try{const s=yield function(l,d){const g=on(l);return g.persistence.runTransaction("Reject batch","readwrite-primary",E=>{let P;return g.mutationQueue.lookupMutationBatch(E,d).next(U=>($n(null!==U),P=U.keys(),g.mutationQueue.removeMutationBatch(E,U))).next(()=>g.mutationQueue.performConsistencyCheck(E)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(E,P,d)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(E,P)).next(()=>g.localDocuments.getDocuments(E,P))})}(r.localStore,e);V3(r,e,t),L3(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Iu(r,s)}catch(s){yield ou(s)}}),F3.apply(this,arguments)}function R3(){return R3=(0,_t.Z)(function*(n,e){const t=on(n);Hc(t.remoteStore)||Gt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(l){const d=on(l);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",g=>d.mutationQueue.getHighestUnacknowledgedBatchId(g))}(t.localStore);if(-1===r)return void e.resolve();const s=t.lc.get(r)||[];s.push(e),t.lc.set(r,s)}catch(r){const s=pd(r,"Initialization of waitForPendingWrites() operation failed");e.reject(s)}}),R3.apply(this,arguments)}function L3(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function V3(n,e,t){const r=on(n);let s=r.hc[r.currentUser.toKey()];if(s){const l=s.get(e);l&&(t?l.reject(t):l.resolve(),s=s.remove(e)),r.hc[r.currentUser.toKey()]=s}}function p4(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.rc.get(e))n.ic.delete(r),t&&n.sc.wc(r,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(r=>{n.ac.containsKey(r)||_6(n,r)})}function _6(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(Xr(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),b6(n))}function w6(n,e,t){for(const r of t)r instanceof hc?(n.ac.addReference(r.key,e),Ng(n,r)):r instanceof fc?(Gt("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,e),n.ac.containsKey(r.key)||_6(n,r.key)):En()}function Ng(n,e){const t=e.key,r=t.path.canonicalString();n.uc.get(t)||n.oc.has(r)||(Gt("SyncEngine","New document in limbo: "+t),n.oc.add(r),b6(n))}function b6(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new ln(kr.fromString(e)),r=n.fc.next();n.cc.set(r,new zg(t)),n.uc=n.uc.insert(t,r),xr(n.remoteStore,new Rc(hs(du(t.path)),r,2,Ds.at))}}function Iu(n,e,t){return C6.apply(this,arguments)}function C6(){return C6=(0,_t.Z)(function*(n,e,t){const r=on(n),s=[],l=[],d=[];var g;r.ic.isEmpty()||(r.ic.forEach((g,E)=>{d.push(r._c(E,e,t).then(P=>{if((P||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(E.targetId,P?.fromCache?"not-current":"current"),P){s.push(P);const U=v3.Ci(E.targetId,P);l.push(U)}}))}),yield Promise.all(d),r.sc.Wo(s),yield(g=(0,_t.Z)(function*(E,P){const U=on(E);try{yield U.persistence.runTransaction("notifyLocalViewChanges","readwrite",se=>ut.forEach(P,Re=>ut.forEach(Re.Si,Xe=>U.persistence.referenceDelegate.addReference(se,Re.targetId,Xe)).next(()=>ut.forEach(Re.Di,Xe=>U.persistence.referenceDelegate.removeReference(se,Re.targetId,Xe)))))}catch(se){if(!$u(se))throw se;Gt("LocalStore","Failed to update sequence numbers: "+se)}for(const se of P){const Re=se.targetId;if(!se.fromCache){const Xe=U.Ui.get(Re),Et=Xe.withLastLimboFreeSnapshotVersion(Xe.snapshotVersion);U.Ui=U.Ui.insert(Re,Et)}}}),function(E,P){return g.apply(this,arguments)})(r.localStore,l))}),C6.apply(this,arguments)}function Fg(n,e){return S6.apply(this,arguments)}function S6(){return S6=(0,_t.Z)(function*(n,e){const t=on(n);if(!t.currentUser.isEqual(e)){Gt("SyncEngine","User change. New user:",e.toKey());const r=yield Sh(t.localStore,e);t.currentUser=e,(s=t).lc.forEach(d=>{d.forEach(g=>{g.reject(new Ht(gt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.lc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Iu(t,r.ji)}var s}),S6.apply(this,arguments)}function Rg(n,e){const t=on(n),r=t.cc.get(e);if(r&&r.nc)return Xn().add(r.key);{let s=Xn();const l=t.rc.get(e);if(!l)return s;for(const d of l){const g=t.ic.get(d);s=s.unionWith(g.view.ju)}return s}}function Lg(n,e){return E6.apply(this,arguments)}function E6(){return E6=(0,_t.Z)(function*(n,e){const t=on(n),r=yield Cu(t.localStore,e.query,!0),s=e.view.tc(r);return t.isPrimaryClient&&w6(t,e.targetId,s.Xu),s}),E6.apply(this,arguments)}function Vg(n,e){return M6.apply(this,arguments)}function M6(){return M6=(0,_t.Z)(function*(n,e){const t=on(n);return n6(t.localStore,e).then(r=>Iu(t,r))}),M6.apply(this,arguments)}function Hg(n,e,t,r){return D6.apply(this,arguments)}function D6(){return D6=(0,_t.Z)(function*(n,e,t,r){const s=on(n),l=yield function(d,g){const E=on(d),P=on(E.mutationQueue);return E.persistence.runTransaction("Lookup mutation documents","readonly",U=>P.Tn(U,g).next(se=>se?E.localDocuments.getDocuments(U,se):ut.resolve(null)))}(s.localStore,e);var g;null!==l?("pending"===t?yield fd(s.remoteStore):"acknowledged"===t||"rejected"===t?(V3(s,e,r||null),L3(s,e),g=e,on(on(s.localStore).mutationQueue).An(g)):En(),yield Iu(s,l)):Gt("SyncEngine","Cannot apply mutation batch with id: "+e)}),D6.apply(this,arguments)}function T6(){return T6=(0,_t.Z)(function*(n,e){const t=on(n);if(Y3(t),U3(t),!0===e&&!0!==t.dc){const r=t.sharedClientState.getAllActiveQueryTargets(),s=yield vm(t,r.toArray());t.dc=!0,yield A3(t.remoteStore,!0);for(const l of s)xr(t.remoteStore,l)}else if(!1===e&&!1!==t.dc){const r=[];let s=Promise.resolve();t.rc.forEach((l,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):s=s.then(()=>(p4(t,d),ka(t.localStore,d,!0))),Xr(t.remoteStore,d)}),yield s,yield vm(t,r),function(l){const d=on(l);d.cc.forEach((g,E)=>{Xr(d.remoteStore,E)}),d.ac.fs(),d.cc=new Map,d.uc=new Yi(ln.comparator)}(t),t.dc=!1,yield A3(t.remoteStore,!1)}}),T6.apply(this,arguments)}function vm(n,e,t){return x6.apply(this,arguments)}function x6(){return x6=(0,_t.Z)(function*(n,e,t){const r=on(n),s=[],l=[];for(const d of e){let g;const E=r.rc.get(d);if(E&&0!==E.length){g=yield Tl(r.localStore,hs(E[0]));for(const P of E){const U=r.ic.get(P),se=yield Lg(r,U);se.snapshot&&l.push(se.snapshot)}}else{const P=yield t6(r.localStore,d);g=yield Tl(r.localStore,P),yield kh(r,I6(P),d,!1,g.resumeToken)}s.push(g)}return r.sc.Wo(l),s}),x6.apply(this,arguments)}function I6(n){return I2(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function ym(n){const e=on(n);return on(on(e.localStore).persistence).vi()}function _m(n,e,t,r){return H3.apply(this,arguments)}function H3(){return H3=(0,_t.Z)(function*(n,e,t,r){const s=on(n);if(s.dc)return void Gt("SyncEngine","Ignoring unexpected query state notification.");const l=s.rc.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const d=yield n6(s.localStore,Y4(l[0])),g=t1.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Eo.EMPTY_BYTE_STRING);yield Iu(s,d,g);break}case"rejected":yield ka(s.localStore,e,!0),p4(s,e,r);break;default:En()}}),H3.apply(this,arguments)}function wm(n,e,t){return B3.apply(this,arguments)}function B3(){return B3=(0,_t.Z)(function*(n,e,t){const r=Y3(n);if(r.dc){for(const s of e){if(r.rc.has(s)){Gt("SyncEngine","Adding an already active target "+s);continue}const l=yield t6(r.localStore,s),d=yield Tl(r.localStore,l);yield kh(r,I6(l),d.targetId,!1,d.resumeToken),xr(r.remoteStore,d)}for(const s of t)r.rc.has(s)&&(yield ka(r.localStore,s,!1).then(()=>{Xr(r.remoteStore,s),p4(r,s)}).catch(ou))}}),B3.apply(this,arguments)}function Y3(n){const e=on(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=v6.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Rg.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pm.bind(null,e),e.sc.Wo=um.bind(null,e.eventManager),e.sc.wc=n9.bind(null,e.eventManager),e}function U3(n){const e=on(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=y6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mm.bind(null,e),e}class z6{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,_t.Z)(function*(){t.It=Tu(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return Q8(this.persistence,new y3,e.initialUser,this.It)}yc(e){return new p3(_h.Bs,this.It)}gc(e){return new u1}terminate(){var e=this;return(0,_t.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class A6 extends z6{constructor(e,t,r){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,_t.Z)(function*(){yield t().call(r,e),yield r.Ac.initialize(r,e),yield U3(r.Ac.syncEngine),yield fd(r.Ac.remoteStore),yield r.persistence.li(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return Q8(this.persistence,new y3,e.initialUser,this.It)}Tc(e,t){return new Yp(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const r=new _2(t,this.persistence);return new K0(e.asyncQueue,r)}yc(e){const t=g3(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Gs.withCacheSize(this.cacheSizeBytes):Gs.DEFAULT;return new m3(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,Mh(),u4(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(e){return new u1}}class m4 extends A6{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,_t.Z)(function*(){yield t().call(r,e);const s=r.Ac.syncEngine;r.sharedClientState instanceof Du&&(r.sharedClientState.syncEngine={Fr:Hg.bind(null,s),$r:_m.bind(null,s),Br:wm.bind(null,s),vi:ym.bind(null,s),Mr:Vg.bind(null,s)},yield r.sharedClientState.start()),yield r.persistence.li(function(){var l=(0,_t.Z)(function*(d){yield function Bg(n,e){return T6.apply(this,arguments)}(r.Ac.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start():d||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(d&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():d||r.indexBackfillerScheduler.stop())});return function(d){return l.apply(this,arguments)}}())})()}gc(e){const t=Mh();if(!Du.C(t))throw new Ht(gt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=g3(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Du(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class k6{initialize(e,t){var r=this;return(0,_t.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=s=>fm(r.syncEngine,s,1),r.remoteStore.remoteSyncer.handleCredentialChange=Fg.bind(null,r.syncEngine),yield A3(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new md}createDatastore(e){const t=Tu(e.databaseInfo.databaseId),r=new r6(e.databaseInfo);return new b3(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,s=e.asyncQueue,l=g=>fm(this.syncEngine,g,0),d=d1.C()?new d1:new l4,new Jn(t,r,s,l,d);var t,r,s,l,d}createSyncEngine(e,t){return function(r,s,l,d,g,E,P){const U=new Ag(r,s,l,d,g,E);return P&&(U.dc=!0),U}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,_t.Z)(function*(t){const r=on(t);Gt("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield Dn(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function P6(n,e,t){if(!t)throw new Ht(gt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function g4(n,e,t,r){if(!0===e&&!0===r)throw new Ht(gt.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Yg(n){if(!ln.isDocumentKey(n))throw new Ht(gt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function j3(n){if(ln.isDocumentKey(n))throw new Ht(gt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function O6(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":En()}function Ir(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ht(gt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=O6(n);throw new Ht(gt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function N6(n,e){if(e<=0)throw new Ht(gt.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const Ug=new Map;class Yn{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ht(gt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ht(gt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,g4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ph{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Yn({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ht(gt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ht(gt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Yn(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new u2;switch(t.type){case"gapi":return new h2(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ht(gt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Ug.get(e);t&&(Gt("ComponentProvider","Removing Datastore"),Ug.delete(e),t.terminate())}(this),Promise.resolve()}}class Ti{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new kl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ti(this.firestore,e,this._key)}}class lo{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new lo(this.firestore,e,this._query)}}class kl extends lo{constructor(e,t,r){super(e,t,du(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ti(this.firestore,null,new ln(e))}withConverter(e){return new kl(this.firestore,e,this._path)}}function Oh(n,e,...t){if(n=(0,_r.m9)(n),P6("collection","path",e),n instanceof Ph){const r=kr.fromString(e,...t);return j3(r),new kl(n,null,r)}{if(!(n instanceof Ti||n instanceof kl))throw new Ht(gt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(kr.fromString(e,...t));return j3(r),new kl(n.firestore,null,r)}}function xi(n,e,...t){if(n=(0,_r.m9)(n),1===arguments.length&&(e=j0.R()),P6("doc","path",e),n instanceof Ph){const r=kr.fromString(e,...t);return Yg(r),new Ti(n,null,new ln(r))}{if(!(n instanceof Ti||n instanceof kl))throw new Ht(gt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(kr.fromString(e,...t));return Yg(r),new Ti(n.firestore,n instanceof kl?n.converter:null,new ln(r))}}function jg(n,e){return n=(0,_r.m9)(n),e=(0,_r.m9)(e),(n instanceof Ti||n instanceof kl)&&(e instanceof Ti||e instanceof kl)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function G3(n,e){return n=(0,_r.m9)(n),e=(0,_r.m9)(e),n instanceof lo&&e instanceof lo&&n.firestore===e.firestore&&W1(n._query,e._query)&&n.converter===e.converter}function F6(n,e=10240){let t=0;return{read:()=>(0,_t.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,_t.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class W3{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Ai("Uncaught Error in snapshot listener:",e)}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Sm{constructor(e,t){this.Pc=e,this.It=t,this.metadata=new Bi,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(r=>{r&&r.Ou()?this.metadata.resolve(r.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.ku)}`))},r=>this.metadata.reject(r))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,_t.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,_t.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,_t.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const r=e.vc.decode(t),s=Number(r);isNaN(s)&&e.Dc(`length string (${r}) is not valid number`);const l=yield e.Cc(s);return new Al(JSON.parse(l),t.length+s)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,_t.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Cc(e){var t=this;return(0,_t.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const r=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,_t.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class Gg{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,_t.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ht(gt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(s=(0,_t.Z)(function*(l,d){const g=on(l),E=Q1(g.It)+"/documents",P={documents:d.map(Xe=>K4(g.It,Xe))},U=yield g._o("BatchGetDocuments",E,P,d.length),se=new Map;U.forEach(Xe=>{const tt=function K2(n,e){return"found"in e?function(t,r){$n(!!r.found);const s=lc(t,r.found.name),l=Po(r.found.updateTime),d=new ds({mapValue:{fields:r.found.fields}});return gi.newFoundDocument(s,l,d)}(n,e):"missing"in e?function(t,r){$n(!!r.missing),$n(!!r.readTime);const s=lc(t,r.missing),l=Po(r.readTime);return gi.newNoDocument(s,l)}(n,e):En()}(g.It,Xe);se.set(tt.key.toString(),tt)});const Re=[];return d.forEach(Xe=>{const tt=se.get(Xe.toString());$n(!!tt),Re.push(tt)}),Re}),function(l,d){return s.apply(this,arguments)})(t.datastore,e);var s;return r.forEach(s=>t.recordVersion(s)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new e1(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,_t.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,s)=>{const l=ln.fromPath(s);e.mutations.push(new H2(l,e.precondition(l)))}),yield(r=(0,_t.Z)(function*(s,l){const d=on(s),g=Q1(d.It)+"/documents",E={writes:l.map(P=>lh(d.It,P))};yield d.ao("Commit",g,E)}),function(s,l){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw En();t=Kn.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Ht(gt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Kn.min())?Di.exists(!1):Di.updateTime(t):Di.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Kn.min()))throw new Ht(gt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Di.updateTime(t)}return Di.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Wg{constructor(e,t,r,s,l){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=s,this.deferred=l,this.kc=r.maxAttempts,this.xo=new Dh(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,_t.Z)(function*(){const t=new Gg(e.datastore),r=e.Mc(t);r&&r.then(s=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(s)}).catch(l=>{e.Fc(l)}))}).catch(s=>{e.Fc(s)})}))}Mc(e){try{const t=this.updateFunction(e);return!Mo(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!B2(t)}return!1}}class Kg{constructor(e,t,r,s){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=So.UNAUTHENTICATED,this.clientId=j0.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,_t.Z)(function*(g){Gt("FirestoreClient","Received user=",g.uid),yield l.authCredentialListener(g),l.user=g});return function(g){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(Gt("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,_t.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ht(gt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Bi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,_t.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const s=pd(r,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}function yd(n,e){return R6.apply(this,arguments)}function R6(){return R6=(0,_t.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Gt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var s=(0,_t.Z)(function*(l){r.isEqual(l)||(yield Sh(e.localStore,l),r=l)});return function(l){return s.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),R6.apply(this,arguments)}function Dm(n,e){return L6.apply(this,arguments)}function L6(){return L6=(0,_t.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield _d(n);Gt("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(s=>am(e.remoteStore,s)),n.setAppCheckTokenChangeListener((s,l)=>am(e.remoteStore,l)),n.onlineComponents=e}),L6.apply(this,arguments)}function _d(n){return K3.apply(this,arguments)}function K3(){return K3=(0,_t.Z)(function*(n){return n.offlineComponents||(Gt("FirestoreClient","Using default OfflineComponentProvider"),yield yd(n,new z6)),n.offlineComponents}),K3.apply(this,arguments)}function Nh(n){return q3.apply(this,arguments)}function q3(){return q3=(0,_t.Z)(function*(n){return n.onlineComponents||(Gt("FirestoreClient","Using default OnlineComponentProvider"),yield Dm(n,new k6)),n.onlineComponents}),q3.apply(this,arguments)}function Tm(n){return _d(n).then(e=>e.persistence)}function f1(n){return _d(n).then(e=>e.localStore)}function v4(n){return Nh(n).then(e=>e.remoteStore)}function V6(n){return Nh(n).then(e=>e.syncEngine)}function wd(n){return Z3.apply(this,arguments)}function Z3(){return Z3=(0,_t.Z)(function*(n){const e=yield Nh(n),t=e.eventManager;return t.onListen=kg.bind(null,e.syncEngine),t.onUnlisten=Pg.bind(null,e.syncEngine),t}),Z3.apply(this,arguments)}function H6(n,e,t={}){const r=new Bi;return n.asyncQueue.enqueueAndForget((0,_t.Z)(function*(){return function(s,l,d,g,E){const P=new W3({next:se=>{l.enqueueAndForget(()=>k3(s,U));const Re=se.docs.has(d);!Re&&se.fromCache?E.reject(new Ht(gt.UNAVAILABLE,"Failed to get document because the client is offline.")):Re&&se.fromCache&&g&&"server"===g.source?E.reject(new Ht(gt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):E.resolve(se)},error:se=>E.reject(se)}),U=new Ah(du(d.path),P,{includeMetadataChanges:!0,Nu:!0});return h6(s,U)}(yield wd(n),n.asyncQueue,e,t,r)})),r.promise}function Am(n,e,t={}){const r=new Bi;return n.asyncQueue.enqueueAndForget((0,_t.Z)(function*(){return function(s,l,d,g,E){const P=new W3({next:se=>{l.enqueueAndForget(()=>k3(s,U)),se.fromCache&&"server"===g.source?E.reject(new Ht(gt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):E.resolve(se)},error:se=>E.reject(se)}),U=new Ah(d,P,{includeMetadataChanges:!0,Nu:!0});return h6(s,U)}(yield wd(n),n.asyncQueue,e,t,r)})),r.promise}class s9{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new Dh(this,"async_queue_retry"),this.Wc=()=>{const t=u4();t&&Gt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=u4();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const t=u4();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const t=new Bi;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,_t.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!$u(t))throw t;Gt("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,Ai("INTERNAL UNHANDLED ERROR: ",function(l){let d=l.message||"";return l.stack&&(d=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),d}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const s=d6.createAndSchedule(this,e,t,r,l=>this.Yc(l));return this.qc.push(s),s}zc(){this.Kc&&En()}verifyOperationInProgress(){}Xc(){var e=this;return(0,_t.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.qc.indexOf(e);this.qc.splice(t,1)}}function Q3(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const s of["next","error","complete"])if(s in r&&"function"==typeof r[s])return!0;return!1}(n)}class X3{constructor(){this._progressObserver={},this._taskCompletionResolver=new Bi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Ii extends Ph{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new s9,this._persistenceKey=s?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||km(this),this._firestoreClient.terminate()}}function uo(n){return n._firestoreClient||km(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function km(n){var e;const t=n._freezeSettings(),r=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new pp(n._databaseId,l,n._persistenceKey,(g=t).host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,g.useFetchStreams));var l,g;n._firestoreClient=new Kg(n._authCredentials,n._appCheckCredentials,n._queue,r)}function Pm(n,e,t){const r=new Bi;return n.asyncQueue.enqueue((0,_t.Z)(function*(){try{yield yd(n,t),yield Dm(n,e),r.resolve()}catch(s){const l=s;if(!("FirebaseError"===(d=l).name?d.code===gt.FAILED_PRECONDITION||d.code===gt.UNIMPLEMENTED:!(typeof DOMException<"u"&&d instanceof DOMException)||22===d.code||20===d.code||11===d.code))throw l;N1("Error enabling offline persistence. Falling back to persistence disabled: "+l),r.reject(l)}var d})).then(()=>r.promise)}function B6(n){if(n._initialized||n._terminated)throw new Ht(gt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Pl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pl(Eo.fromBase64String(e))}catch(t){throw new Ht(gt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Pl(Eo.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ol{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ht(gt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new eo(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class zu{constructor(e){this._methodName=e}}class e0{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ht(gt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ht(gt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return cr(this._lat,e._lat)||cr(this._long,e._long)}}const Fm=/^__.*__$/;class Rm{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Cl(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ju(e,this.data,t,this.fieldTransforms)}}class Lm{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Cl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Vm(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw En()}}class t0{constructor(e,t,r,s,l,d){this.settings=e,this.databaseId=t,this.It=r,this.ignoreUndefinedProperties=s,void 0===l&&this.na(),this.fieldTransforms=l||[],this.fieldMask=d||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new t0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.ia({path:r,oa:!1});return s.ua(e),s}ca(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.ia({path:r,oa:!1});return s.na(),s}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return bd(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(Vm(this.sa)&&Fm.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class Y6{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=r||Tu(e)}da(e,t,r,s=!1){return new t0({sa:e,methodName:t,fa:r,path:eo.emptyPath(),oa:!1,la:s},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function y4(n){const e=n._freezeSettings(),t=Tu(n._databaseId);return new Y6(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Rh(n,e,t,r,s,l={}){const d=n.da(l.merge||l.mergeFields?2:0,e,t,s);n0("Data must be an object, but it was:",d,r);const g=Bm(r,d);let E,P;if(l.merge)E=new js(d.fieldMask),P=d.fieldTransforms;else if(l.mergeFields){const U=[];for(const se of l.mergeFields){const Re=W6(e,se,t);if(!d.contains(Re))throw new Ht(gt.INVALID_ARGUMENT,`Field '${Re}' is specified in your field mask but missing from your input data.`);o0(U,Re)||U.push(Re)}E=new js(U),P=d.fieldTransforms.filter(se=>E.covers(se.field))}else E=null,P=d.fieldTransforms;return new Rm(new ds(g),E,P)}class Lh extends zu{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Lh}}function Hm(n,e,t){return new t0({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class U6 extends zu{_toFieldTransform(e){return new K1(e.path,new hu)}isEqual(e){return e instanceof U6}}class o7 extends zu{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=Hm(this,e,!0),r=this._a.map(l=>p1(l,t)),s=new fu(r);return new K1(e.path,s)}isEqual(e){return this===e}}class s7 extends zu{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=Hm(this,e,!0),r=this._a.map(l=>p1(l,t)),s=new ac(r);return new K1(e.path,s)}isEqual(e){return this===e}}class a7 extends zu{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new Xu(e.It,nh(e.It,this.wa));return new K1(e.path,t)}isEqual(e){return this===e}}function j6(n,e,t,r){const s=n.da(1,e,t);n0("Data must be an object, but it was:",s,r);const l=[],d=ds.empty();yl(r,(E,P)=>{const U=r0(e,E,t);P=(0,_r.m9)(P);const se=s.ca(U);if(P instanceof Lh)l.push(U);else{const Re=p1(P,se);null!=Re&&(l.push(U),d.set(U,Re))}});const g=new js(l);return new Lm(d,g,s.fieldTransforms)}function $6(n,e,t,r,s,l){const d=n.da(1,e,t),g=[W6(e,r,t)],E=[s];if(l.length%2!=0)throw new Ht(gt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Re=0;Re<l.length;Re+=2)g.push(W6(e,l[Re])),E.push(l[Re+1]);const P=[],U=ds.empty();for(let Re=g.length-1;Re>=0;--Re)if(!o0(P,g[Re])){const Xe=g[Re];let tt=E[Re];tt=(0,_r.m9)(tt);const Et=d.ca(Xe);if(tt instanceof Lh)P.push(Xe);else{const Ut=p1(tt,Et);null!=Ut&&(P.push(Xe),U.set(Xe,Ut))}}const se=new js(P);return new Lm(U,se,d.fieldTransforms)}function G6(n,e,t,r=!1){return p1(t,n.da(r?4:3,e))}function p1(n,e){if(Ym(n=(0,_r.m9)(n)))return n0("Unsupported field value:",e,n),Bm(n,e);if(n instanceof zu)return function(t,r){if(!Vm(r.sa))throw r.ha(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${t._methodName}() is not currently supported inside arrays`);const s=t._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,r){const s=[];let l=0;for(const d of t){let g=p1(d,r.aa(l));null==g&&(g={nullValue:"NULL_VALUE"}),s.push(g),l++}return{arrayValue:{values:s}}}(n,e)}return function(t,r){if(null===(t=(0,_r.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return nh(r.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const s=ci.fromDate(t);return{timestampValue:pu(r.It,s)}}if(t instanceof ci){const s=new ci(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:pu(r.It,s)}}if(t instanceof e0)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Pl)return{bytesValue:E8(r.It,t._byteString)};if(t instanceof Ti){const s=r.databaseId,l=t.firestore._databaseId;if(!l.isEqual(s))throw r.ha(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:G2(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ha(`Unsupported field value: ${O6(t)}`)}(n,e)}function Bm(n,e){const t={};return Zd(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):yl(n,(r,s)=>{const l=p1(s,e.ra(r));null!=l&&(t[r]=l)}),{mapValue:{fields:t}}}function Ym(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ci||n instanceof e0||n instanceof Pl||n instanceof Ti||n instanceof zu)}function n0(n,e,t){if(!Ym(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=O6(t);throw e.ha("an object"===r?n+" a custom object":n+" "+r)}var r}function W6(n,e,t){if((e=(0,_r.m9)(e))instanceof Ol)return e._internalPath;if("string"==typeof e)return r0(n,e);throw bd("Field path arguments must be of type string or ",n,!1,void 0,t)}const c7=new RegExp("[~\\*/\\[\\]]");function r0(n,e,t){if(e.search(c7)>=0)throw bd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ol(...e.split("."))._internalPath}catch{throw bd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function bd(n,e,t,r,s){const l=r&&!r.isEmpty(),d=void 0!==s;let g=`Function ${e}() called with invalid data`;t&&(g+=" (via `toFirestore()`)"),g+=". ";let E="";return(l||d)&&(E+=" (found",l&&(E+=` in field ${r}`),d&&(E+=` in document ${s}`),E+=")"),new Ht(gt.INVALID_ARGUMENT,g+n+E)}function o0(n,e){return n.some(t=>t.isEqual(e))}class Cd{constructor(e,t,r,s,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Ti(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new K6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(s0("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class K6 extends Cd{data(){return super.data()}}function s0(n,e){return"string"==typeof e?r0(n,e):e instanceof Ol?e._internalPath:e._delegate._internalPath}function Um(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ht(gt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _4{}function m1(n,...e){for(const t of e)n=t._apply(n);return n}class jm extends _4{constructor(e,t,r){super(),this.ma=e,this.ga=t,this.ya=r,this.type="where"}_apply(e){const t=y4(e.firestore),r=function(s,l,d,g,E,P,U){let se;if(E.isKeyField()){if("array-contains"===P||"array-contains-any"===P)throw new Ht(gt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${P}' queries on documentId().`);if("in"===P||"not-in"===P){tf(U,P);const Xe=[];for(const tt of U)Xe.push(ef(g,s,tt));se={arrayValue:{values:Xe}}}else se=ef(g,s,U)}else"in"!==P&&"not-in"!==P&&"array-contains-any"!==P||tf(U,P),se=G6(d,"where",U,"in"===P||"not-in"===P);const Re=To.create(E,P,se);return function(Xe,tt){if(tt.dt()){const Ut=A2(Xe);if(null!==Ut&&!Ut.isEqual(tt.field))throw new Ht(gt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Ut.toString()}' and '${tt.field.toString()}'`);const xn=B4(Xe);null!==xn&&qm(0,tt.field,xn)}const Et=function(Ut,xn){for(const nr of Ut.filters)if(xn.indexOf(nr.op)>=0)return nr.op;return null}(Xe,function(Ut){switch(Ut){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(tt.op));if(null!==Et)throw new Ht(gt.INVALID_ARGUMENT,Et===tt.op?`Invalid query. You cannot use more than one '${tt.op.toString()}' filter.`:`Invalid query. You cannot use '${tt.op.toString()}' filters with '${Et.toString()}' filters.`)}(s,Re),Re}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new lo(e.firestore,e.converter,function(s,l){const d=s.filters.concat([l]);return new bl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),d,s.limit,s.limitType,s.startAt,s.endAt)}(e._query,r))}}class $m extends _4{constructor(e,t){super(),this.ma=e,this.pa=t,this.type="orderBy"}_apply(e){const t=function(r,s,l){if(null!==r.startAt)throw new Ht(gt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ht(gt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new G1(s,l);return function(g,E){if(null===B4(g)){const P=A2(g);null!==P&&qm(0,P,E.field)}}(r,d),d}(e._query,this.ma,this.pa);return new lo(e.firestore,e.converter,function(r,s){const l=r.explicitOrderBy.concat([s]);return new bl(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class u7 extends _4{constructor(e,t,r){super(),this.type=e,this.Ia=t,this.Ta=r}_apply(e){return new lo(e.firestore,e.converter,Nc(e._query,this.Ia,this.Ta))}}class Wm extends _4{constructor(e,t,r){super(),this.type=e,this.Ea=t,this.Aa=r}_apply(e){const t=J6(e,this.type,this.Ea,this.Aa);return new lo(e.firestore,e.converter,(s=t,new bl((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,s,r.endAt)));var r,s}}class Q6 extends _4{constructor(e,t,r){super(),this.type=e,this.Ea=t,this.Aa=r}_apply(e){const t=J6(e,this.type,this.Ea,this.Aa);return new lo(e.firestore,e.converter,(s=t,new bl((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,s)));var r,s}}function J6(n,e,t,r){if(t[0]=(0,_r.m9)(t[0]),t[0]instanceof Cd)return function(s,l,d,g,E){if(!g)throw new Ht(gt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const P=[];for(const U of Qu(s))if(U.field.isKeyField())P.push(Ku(l,g.key));else{const se=g.data.field(U.field);if(b2(se))throw new Ht(gt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+U.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===se){const Re=U.field.canonicalString();throw new Ht(gt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Re}' (used as the orderBy) does not exist.`)}P.push(se)}return new uu(P,E)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const s=y4(n.firestore);return function(l,d,g,E,P,U){const se=l.explicitOrderBy;if(P.length>se.length)throw new Ht(gt.INVALID_ARGUMENT,`Too many arguments provided to ${E}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Re=[];for(let Xe=0;Xe<P.length;Xe++){const tt=P[Xe];if(se[Xe].field.isKeyField()){if("string"!=typeof tt)throw new Ht(gt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${E}(), but got a ${typeof tt}`);if(!k2(l)&&-1!==tt.indexOf("/"))throw new Ht(gt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${E}() must be a plain document ID, but '${tt}' contains a slash.`);const Et=l.path.child(kr.fromString(tt));if(!ln.isDocumentKey(Et))throw new Ht(gt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${E}() must result in a valid document path, but '${Et}' is not because it contains an odd number of segments.`);const Ut=new ln(Et);Re.push(Ku(d,Ut))}else{const Et=G6(g,E,tt);Re.push(Et)}}return new uu(Re,U)}(n._query,n.firestore._databaseId,s,e,t,r)}}function ef(n,e,t){if("string"==typeof(t=(0,_r.m9)(t))){if(""===t)throw new Ht(gt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!k2(e)&&-1!==t.indexOf("/"))throw new Ht(gt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(kr.fromString(t));if(!ln.isDocumentKey(r))throw new Ht(gt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ku(n,new ln(r))}if(t instanceof Ti)return Ku(n,t._key);throw new Ht(gt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${O6(t)}.`)}function tf(n,e){if(!Array.isArray(n)||0===n.length)throw new Ht(gt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Ht(gt.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function qm(n,e,t){if(!t.isEqual(e))throw new Ht(gt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class nf{convertValue(e,t="none"){switch(oc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Gu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw En()}}convertObject(e,t){const r={};return yl(e.fields,(s,l)=>{r[s]=this.convertValue(l,t)}),r}convertGeoPoint(e){return new e0(Mi(e.latitude),Mi(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Z0(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(U1(e));default:return null}}convertTimestamp(e){const t=su(e);return new ci(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=kr.fromString(e);$n(xp(r));const s=new au(r.get(1),r.get(3)),l=new ln(r.popFirst(5));return s.isEqual(t)||Ai(`Document ${l} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function a0(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class h7 extends nf{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ti(this.firestore,null,t)}}class g1{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class v1 extends Cd{constructor(e,t,r,s,l,d){super(e,t,r,s,d),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ed(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(s0("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Ed extends v1{data(e={}){return super.data(e)}}class y1{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new g1(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Ed(this._firestore,this._userDataWriter,r.key,r,new g1(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ht(gt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new Ed(r._firestore,r._userDataWriter,d.doc.key,d.doc,new g1(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>s||3!==d.type).map(d=>{const g=new Ed(r._firestore,r._userDataWriter,d.doc.key,d.doc,new g1(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let E=-1,P=-1;return 0!==d.type&&(E=l.indexOf(d.doc.key),l=l.delete(d.doc.key)),1!==d.type&&(l=l.add(d.doc),P=l.indexOf(d.doc.key)),{type:f7(d.type),doc:g,oldIndex:E,newIndex:P}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function f7(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return En()}}function p7(n,e){return n instanceof v1&&e instanceof v1?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof y1&&e instanceof y1&&n._firestore===e._firestore&&G3(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class _1 extends nf{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ti(this.firestore,null,t)}}function Xm(n,e,t){n=Ir(n,Ti);const r=Ir(n.firestore,Ii),s=a0(n.converter,e,t);return Nl(r,[Rh(y4(r),"setDoc",n._key,s,null!==n.converter,t).toMutation(n._key,Di.none())])}function Jm(n,e,t,...r){n=Ir(n,Ti);const s=Ir(n.firestore,Ii),l=y4(s);let d;return d="string"==typeof(e=(0,_r.m9)(e))||e instanceof Ol?$6(l,"updateDoc",n._key,e,t,r):j6(l,"updateDoc",n._key,e),Nl(s,[d.toMutation(n._key,Di.exists(!0))])}function e5(n,...e){var t,r,s;n=(0,_r.m9)(n);let l={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||Q3(e[d])||(l=e[d],d++);const g={includeMetadataChanges:l.includeMetadataChanges};if(Q3(e[d])){const se=e[d];e[d]=null===(t=se.next)||void 0===t?void 0:t.bind(se),e[d+1]=null===(r=se.error)||void 0===r?void 0:r.bind(se),e[d+2]=null===(s=se.complete)||void 0===s?void 0:s.bind(se)}let E,P,U;if(n instanceof Ti)P=Ir(n.firestore,Ii),U=du(n._key.path),E={next:se=>{e[d]&&e[d](c0(P,n,se))},error:e[d+1],complete:e[d+2]};else{const se=Ir(n,lo);P=Ir(se.firestore,Ii),U=se._query;const Re=new _1(P);E={next:Xe=>{e[d]&&e[d](new y1(P,Re,se,Xe))},error:e[d+1],complete:e[d+2]},Um(n._query)}return function(se,Re,Xe,tt){const Et=new W3(tt),Ut=new Ah(Re,Et,Xe);return se.asyncQueue.enqueueAndForget((0,_t.Z)(function*(){return h6(yield wd(se),Ut)})),()=>{Et.bc(),se.asyncQueue.enqueueAndForget((0,_t.Z)(function*(){return k3(yield wd(se),Ut)}))}}(uo(P),U,g,E)}function Nl(n,e){return function(t,r){const s=new Bi;return t.asyncQueue.enqueueAndForget((0,_t.Z)(function*(){return function Og(n,e,t){return O3.apply(this,arguments)}(yield V6(t),r,s)})),s.promise}(uo(n),e)}function c0(n,e,t){const r=t.docs.get(e._key),s=new _1(n);return new v1(n,s,e._key,r,new g1(t.hasPendingWrites,t.fromCache),e.converter)}const t5={maxAttempts:5};class rf{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=y4(e)}set(e,t,r){this._verifyNotCommitted();const s=w1(e,this._firestore),l=a0(s.converter,t,r),d=Rh(this._dataReader,"WriteBatch.set",s._key,l,null!==s.converter,r);return this._mutations.push(d.toMutation(s._key,Di.none())),this}update(e,t,r,...s){this._verifyNotCommitted();const l=w1(e,this._firestore);let d;return d="string"==typeof(t=(0,_r.m9)(t))||t instanceof Ol?$6(this._dataReader,"WriteBatch.update",l._key,t,r,s):j6(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(d.toMutation(l._key,Di.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=w1(e,this._firestore);return this._mutations=this._mutations.concat(new e1(t._key,Di.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ht(gt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function w1(n,e){if((n=(0,_r.m9)(n)).firestore!==e)throw new Ht(gt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class S7 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=y4(e)}get(e){const t=w1(e,this._firestore),r=new h7(this._firestore);return this._transaction.lookup([t._key]).then(s=>{if(!s||1!==s.length)return En();const l=s[0];if(l.isFoundDocument())return new Cd(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new Cd(this._firestore,r,t._key,null,t.converter);throw En()})}set(e,t,r){const s=w1(e,this._firestore),l=a0(s.converter,t,r),d=Rh(this._dataReader,"Transaction.set",s._key,l,null!==s.converter,r);return this._transaction.set(s._key,d),this}update(e,t,r,...s){const l=w1(e,this._firestore);let d;return d="string"==typeof(t=(0,_r.m9)(t))||t instanceof Ol?$6(this._dataReader,"Transaction.update",l._key,t,r,s):j6(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,d),this}delete(e){const t=w1(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=w1(e,this._firestore),r=new _1(this._firestore);return super.get(e).then(s=>new v1(this._firestore,r,t._key,s._document,new g1(!1,!1),t.converter))}}function Vh(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ht("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function Md(){if(typeof Uint8Array>"u")throw new Ht("unimplemented","Uint8Arrays are not available in this environment.")}function n5(){if(!function hp(){return typeof atob<"u"}())throw new Ht("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Uu=vo.SDK_VERSION,(0,vo._registerComponent)(new Os.wA("firestore",(t,{instanceIdentifier:r,options:s})=>{const l=t.getProvider("app").getImmediate(),d=new Ii(new ju(t.getProvider("auth-internal")),new lp(t.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Ht(gt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new au(g.options.projectId,E)}(l,r),l);return s=Object.assign({useFetchStreams:e},s),d._setSettings(s),d},"PUBLIC").setMultipleInstances(!0)),(0,vo.registerVersion)(Ud,"3.7.2",n),(0,vo.registerVersion)(Ud,"3.7.2","esm2017")}();class Hh{constructor(e){this._delegate=e}static fromBase64String(e){return n5(),new Hh(Pl.fromBase64String(e))}static fromUint8Array(e){return Md(),new Hh(Pl.fromUint8Array(e))}toBase64(){return n5(),this._delegate.toBase64()}toUint8Array(){return Md(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function sf(n){return function d0(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class h0{enableIndexedDbPersistence(e,t){return function Jg(n,e){B6(n=Ir(n,Ii));const t=uo(n),r=n._freezeSettings(),s=new k6;return Pm(t,s,new A6(s,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function e7(n){B6(n=Ir(n,Ii));const e=uo(n),t=n._freezeSettings(),r=new k6;return Pm(e,r,new m4(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Om(n){if(n._initialized&&!n._terminated)throw new Ht(gt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Bi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,_t.Z)(function*(){try{yield(t=(0,_t.Z)(function*(r){if(!kc.C())return Promise.resolve();const s=r+"main";yield kc.delete(s)}),function(r){return t.apply(this,arguments)})(g3(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class r5{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof au||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&N1("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function Cm(n,e,t,r={}){var s;const l=(n=Ir(n,Ph))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&N1("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let d,g;if("string"==typeof r.mockUserToken)d=r.mockUserToken,g=So.MOCK_USER;else{d=(0,_r.Sg)(r.mockUserToken,null===(s=n._app)||void 0===s?void 0:s.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new Ht(gt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new So(E)}n._authCredentials=new jd(new Y0(d,g))}}(this._delegate,e,t,r)}enableNetwork(){return function n7(n){return function Im(n){return n.asyncQueue.enqueue((0,_t.Z)(function*(){const e=yield Tm(n),t=yield v4(n);return e.setNetworkEnabled(!0),function(r){const s=on(r);return s._u.delete(0),Qe(s)}(t)}))}(uo(n=Ir(n,Ii)))}(this._delegate)}disableNetwork(){return function Fh(n){return function zm(n){return n.asyncQueue.enqueue((0,_t.Z)(function*(){const e=yield Tm(n),t=yield v4(n);return e.setNetworkEnabled(!1),(r=(0,_t.Z)(function*(s){const l=on(s);l._u.add(0),yield Dn(l),l.gu.set("Offline")}),function(s){return r.apply(this,arguments)})(t);var r}))}(uo(n=Ir(n,Ii)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,g4("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function t7(n){return function(e){const t=new Bi;return e.asyncQueue.enqueueAndForget((0,_t.Z)(function*(){return function gm(n,e){return R3.apply(this,arguments)}(yield V6(e),t)})),t.promise}(uo(n=Ir(n,Ii)))}(this._delegate)}onSnapshotsInSync(e){return function w7(n,e){return function r9(n,e){const t=new W3(e);return n.asyncQueue.enqueueAndForget((0,_t.Z)(function*(){return r=yield wd(n),s=t,on(r).Ru.add(s),void s.next();var r,s})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,_t.Z)(function*(){return r=yield wd(n),s=t,void on(r).Ru.delete(s);var r,s}))}}(uo(n=Ir(n,Ii)),Q3(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ht("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Td(this,Oh(this._delegate,e))}catch(t){throw qs(t,"collection()","Firestore.collection()")}}doc(e){try{return new pc(this,xi(this._delegate,e))}catch(t){throw qs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new fs(this,function $3(n,e){if(n=Ir(n,Ph),P6("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ht(gt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new lo(n,null,(t=e,new bl(kr.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw qs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function u9(n,e,t){n=Ir(n,Ii);const r=Object.assign(Object.assign({},t5),t);return function(s){if(s.maxAttempts<1)throw new Ht(gt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,l,d){const g=new Bi;return s.asyncQueue.enqueueAndForget((0,_t.Z)(function*(){const E=yield function xm(n){return Nh(n).then(e=>e.datastore)}(s);new Wg(s.asyncQueue,E,d,l,g).run()})),g.promise}(uo(n),s=>e(new S7(n,s)),r)}(this._delegate,t=>e(new af(this,t)))}batch(){return uo(this._delegate),new p0(new rf(this._delegate,e=>Nl(this._delegate,e)))}loadBundle(e){return function Nm(n,e){const t=uo(n=Ir(n,Ii)),r=new X3;return function i9(n,e,t,r){const s=function(l,d){let g;return g="string"==typeof l?(new TextEncoder).encode(l):l,E=function(E,P){if(E instanceof Uint8Array)return F6(E,P);if(E instanceof ArrayBuffer)return F6(new Uint8Array(E),P);if(E instanceof ReadableStream)return E.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(g),new Sm(E,d);var E}(t,Tu(e));n.asyncQueue.enqueueAndForget((0,_t.Z)(function*(){!function bm(n,e,t){const r=on(n);var s;(s=(0,_t.Z)(function*(l,d,g){try{const E=yield d.getMetadata();if(yield function(Re,Xe){const tt=on(Re),Et=Po(Xe.createTime);return tt.persistence.runTransaction("hasNewerBundle","readonly",Ut=>tt.Ns.getBundleMetadata(Ut,Xe.id)).then(Ut=>!!Ut&&Ut.createTime.compareTo(Et)>=0)}(l.localStore,E))return yield d.close(),g._completeWith({taskState:"Success",documentsLoaded:(Re=E).totalDocuments,bytesLoaded:Re.totalBytes,totalDocuments:Re.totalDocuments,totalBytes:Re.totalBytes}),Promise.resolve(new Set);g._updateProgress(Bc(E));const P=new Ig(E,l.localStore,d.It);let U=yield d.mc();for(;U;){const Re=yield P.Fu(U);Re&&g._updateProgress(Re),U=yield d.mc()}const se=yield P.complete();return yield Iu(l,se.Lu,void 0),yield function(Re,Xe){const tt=on(Re);return tt.persistence.runTransaction("Save bundle","readwrite",Et=>tt.Ns.saveBundleMetadata(Et,Xe))}(l.localStore,E),g._completeWith(se.progress),Promise.resolve(se.Bu)}catch(E){return N1("SyncEngine",`Loading bundle failed with ${E}`),g._failWith(E),Promise.resolve(new Set)}var Re}),function(l,d,g){return s.apply(this,arguments)})(r,e,t).then(s=>{r.sharedClientState.notifyBundleLoaded(s)})}(yield V6(n),s,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function r7(n,e){return function o9(n,e){return n.asyncQueue.enqueue((0,_t.Z)(function*(){return function(t,r){const s=on(t);return s.persistence.runTransaction("Get named query","readonly",l=>s.Ns.getNamedQuery(l,r))}(yield f1(n),e)}))}(uo(n=Ir(n,Ii)),e).then(t=>t?new lo(n,null,t.query):null)}(this._delegate,e).then(t=>t?new fs(this,t):null)}}class f0 extends nf{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hh(new Pl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return pc.forKey(t,this.firestore,null)}}class af{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new f0(e)}get(e){const t=b4(e);return this._delegate.get(t).then(r=>new w4(this._firestore,new v1(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const s=b4(e);return r?(Vh("Transaction.set",r),this._delegate.set(s,t,r)):this._delegate.set(s,t),this}update(e,t,r,...s){const l=b4(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...s),this}delete(e){const t=b4(e);return this._delegate.delete(t),this}}class p0{constructor(e){this._delegate=e}set(e,t,r){const s=b4(e);return r?(Vh("WriteBatch.set",r),this._delegate.set(s,t,r)):this._delegate.set(s,t),this}update(e,t,r,...s){const l=b4(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...s),this}delete(e){const t=b4(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class b1{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Ed(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Dd(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=b1.INSTANCES;let s=r.get(e);s||(s=new WeakMap,r.set(e,s));let l=s.get(t);return l||(l=new b1(e,new f0(e),t),s.set(t,l)),l}}b1.INSTANCES=new WeakMap;class pc{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new f0(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Ht("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new pc(t,new Ti(t._delegate,r,new ln(e)))}static forKey(e,t,r){return new pc(t,new Ti(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Td(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Td(this.firestore,Oh(this._delegate,e))}catch(t){throw qs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,_r.m9)(e))instanceof Ti&&jg(this._delegate,e)}set(e,t){t=Vh("DocumentReference.set",t);try{return t?Xm(this._delegate,e,t):Xm(this._delegate,e)}catch(r){throw qs(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?Jm(this._delegate,e):Jm(this._delegate,e,t,...r)}catch(s){throw qs(s,"updateDoc()","DocumentReference.update()")}}delete(){return function y7(n){return Nl(Ir(n.firestore,Ii),[new e1(n._key,Di.none())])}(this._delegate)}onSnapshot(...e){const t=z7(e),r=m0(e,s=>new w4(this.firestore,new v1(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)));return e5(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function m7(n){n=Ir(n,Ti);const e=Ir(n.firestore,Ii),t=uo(e),r=new _1(e);return function qg(n,e){const t=new Bi;return n.asyncQueue.enqueueAndForget((0,_t.Z)(function*(){return(r=(0,_t.Z)(function*(s,l,d){try{const g=yield function(E,P){const U=on(E);return U.persistence.runTransaction("read document","readonly",se=>U.localDocuments.getDocument(se,P))}(s,l);g.isFoundDocument()?d.resolve(g):g.isNoDocument()?d.resolve(null):d.reject(new Ht(gt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(g){const E=pd(g,`Failed to get document '${l} from cache`);d.reject(E)}}),function(s,l,d){return r.apply(this,arguments)})(yield f1(n),e,t);var r})),t.promise}(t,n._key).then(s=>new v1(e,r,n._key,s,new g1(null!==s&&s.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function Zm(n){n=Ir(n,Ti);const e=Ir(n.firestore,Ii);return H6(uo(e),n._key,{source:"server"}).then(t=>c0(e,n,t))}(this._delegate):function l9(n){n=Ir(n,Ti);const e=Ir(n.firestore,Ii);return H6(uo(e),n._key).then(t=>c0(e,n,t))}(this._delegate),t.then(r=>new w4(this.firestore,new v1(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new pc(this.firestore,this._delegate.withConverter(e?b1.getInstance(this.firestore,e):null))}}function qs(n,e,t){return n.message=n.message.replace(e,t),n}function z7(n){for(const e of n)if("object"==typeof e&&!sf(e))return e;return{}}function m0(n,e){var t,r;let s;return s=sf(n[0])?n[0]:sf(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{s.next&&s.next(e(l))},error:null===(t=s.error)||void 0===t?void 0:t.bind(s),complete:null===(r=s.complete)||void 0===r?void 0:r.bind(s)}}class w4{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new pc(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return p7(this._delegate,e._delegate)}}class Dd extends w4{data(e){const t=this._delegate.data(e);return function B0(n,e){n||En()}(void 0!==t),t}}class fs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new f0(e)}where(e,t,r){try{return new fs(this.firestore,m1(this._delegate,function Sd(n,e,t){const r=e,s=s0("where",n);return new jm(s,r,t)}(e,t,r)))}catch(s){throw qs(s,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new fs(this.firestore,m1(this._delegate,function l7(n,e="asc"){const t=e,r=s0("orderBy",n);return new $m(r,t)}(e,t)))}catch(r){throw qs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new fs(this.firestore,m1(this._delegate,function Gm(n){return N6("limit",n),new u7("limit",n,"F")}(e)))}catch(t){throw qs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new fs(this.firestore,m1(this._delegate,function q6(n){return N6("limitToLast",n),new u7("limitToLast",n,"L")}(e)))}catch(t){throw qs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new fs(this.firestore,m1(this._delegate,function Z6(...n){return new Wm("startAt",n,!0)}(...e)))}catch(t){throw qs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new fs(this.firestore,m1(this._delegate,function d7(...n){return new Wm("startAfter",n,!1)}(...e)))}catch(t){throw qs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new fs(this.firestore,m1(this._delegate,function X6(...n){return new Q6("endBefore",n,!1)}(...e)))}catch(t){throw qs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new fs(this.firestore,m1(this._delegate,function Km(...n){return new Q6("endAt",n,!0)}(...e)))}catch(t){throw qs(t,"endAt()","Query.endAt()")}}isEqual(e){return G3(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function g7(n){n=Ir(n,lo);const e=Ir(n.firestore,Ii),t=uo(e),r=new _1(e);return function Zg(n,e){const t=new Bi;return n.asyncQueue.enqueueAndForget((0,_t.Z)(function*(){return(r=(0,_t.Z)(function*(s,l,d){try{const g=yield Cu(s,l,!0),E=new m6(l,g.Hi),P=E.Wu(g.documents),U=E.applyChanges(P,!1);d.resolve(U.snapshot)}catch(g){const E=pd(g,`Failed to execute query '${l} against cache`);d.reject(E)}}),function(s,l,d){return r.apply(this,arguments)})(yield f1(n),e,t);var r})),t.promise}(t,n._query).then(s=>new y1(e,r,n,s))}(this._delegate):"server"===e?.source?function v7(n){n=Ir(n,lo);const e=Ir(n.firestore,Ii),t=uo(e),r=new _1(e);return Am(t,n._query,{source:"server"}).then(s=>new y1(e,r,n,s))}(this._delegate):function Qm(n){n=Ir(n,lo);const e=Ir(n.firestore,Ii),t=uo(e),r=new _1(e);return Um(n._query),Am(t,n._query).then(s=>new y1(e,r,n,s))}(this._delegate),t.then(r=>new lf(this.firestore,new y1(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=z7(e),r=m0(e,s=>new lf(this.firestore,new y1(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)));return e5(this._delegate,t,r)}withConverter(e){return new fs(this.firestore,this._delegate.withConverter(e?b1.getInstance(this.firestore,e):null))}}class cf{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Dd(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class lf{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new fs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Dd(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new cf(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Dd(this._firestore,r))})}isEqual(e){return p7(this._delegate,e._delegate)}}class Td extends fs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new pc(this.firestore,e):null}doc(e){try{return new pc(this.firestore,void 0===e?xi(this._delegate):xi(this._delegate,e))}catch(t){throw qs(t,"doc()","CollectionReference.doc()")}}add(e){return function _7(n,e){const t=Ir(n.firestore,Ii),r=xi(n),s=a0(n.converter,e);return Nl(t,[Rh(y4(n.firestore),"addDoc",r._key,s,null!==n.converter,{}).toMutation(r._key,Di.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new pc(this.firestore,t))}isEqual(e){return jg(this._delegate,e._delegate)}withConverter(e){return new Td(this.firestore,this._delegate.withConverter(e?b1.getInstance(this.firestore,e):null))}}function b4(n){return Ir(n,Ti)}class uf{constructor(...e){this._delegate=new Ol(...e)}static documentId(){return new uf(eo.keyField().canonicalString())}isEqual(e){return(e=(0,_r.m9)(e))instanceof Ol&&this._delegate._internalPath.isEqual(e._internalPath)}}class C1{constructor(e){this._delegate=e}static serverTimestamp(){const e=function M7(){return new U6("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new C1(e)}static delete(){const e=function E7(){return new Lh("deleteField")}();return e._methodName="FieldValue.delete",new C1(e)}static arrayUnion(...e){const t=function D7(...n){return new o7("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new C1(t)}static arrayRemove(...e){const t=function T7(...n){return new s7("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new C1(t)}static increment(e){const t=function x7(n){return new a7("increment",n)}(e);return t._methodName="FieldValue.increment",new C1(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const df={Firestore:r5,GeoPoint:e0,Timestamp:ci,Blob:Hh,Transaction:af,WriteBatch:p0,DocumentReference:pc,DocumentSnapshot:w4,Query:fs,QueryDocumentSnapshot:Dd,QuerySnapshot:lf,CollectionReference:Td,FieldPath:uf,FieldValue:C1,setLogLevel:function o5(n){!function H0(n){vl.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function A7(n){(function s5(n,e){n.INTERNAL.registerComponent(new Os.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),s=t.getProvider("firestore").getImmediate();return e(r,s)},"PUBLIC").setServiceProps(Object.assign({},df)))})(n,(e,t)=>new r5(e,t,new h0)),n.registerVersion("@firebase/firestore-compat","0.2.2")}(ra.Z);var Yc=T(7579),hf=T(6451),g0=T(5363),Rl=T(3900),ff=T(4707),k7=T(3099);function pf(n,e,t){let r,s=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:s=!1,scheduler:t}=n):r=n??1/0,(0,k7.B)({connector:()=>new ff.t(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}var a5=T(590),Zs=T(576);function C4(n,e){return(0,Zs.m)(e)?(0,Rl.w)(()=>n,e):(0,Rl.w)(()=>n)}var mf=T(9468);T(5867);const R7=new Map,p5={activated:!1,tokenObservers:[]},L7={initialized:!1,enabled:!1};function Fo(n){return R7.get(n)||p5}function ps(n,e){R7.set(n,e)}function v0(){return L7}class Y7{constructor(e,t,r,s,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=s,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=s,s>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,_t.Z)(function*(){t.stop();try{t.pending=new _r.BH,yield function U7(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new _r.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const xs=new _r.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function _f(n){if(!Fo(n).activated)throw xs.create("use-before-activation",{appName:n.name})}function wf(n,e){return C0.apply(this,arguments)}function C0(){return C0=(0,_t.Z)(function*({url:n,body:e},t){var r,s;const l={"Content-Type":"application/json"},d=t.getImmediate({optional:!0});if(d){const Xe=yield d.getHeartbeatsHeader();Xe&&(l["X-Firebase-Client"]=Xe)}const g={method:"POST",body:JSON.stringify(e),headers:l};let E,P;try{E=yield fetch(n,g)}catch(Xe){throw xs.create("fetch-network-error",{originalErrorMessage:null===(r=Xe)||void 0===r?void 0:r.message})}if(200!==E.status)throw xs.create("fetch-status-error",{httpStatus:E.status});try{P=yield E.json()}catch(Xe){throw xs.create("fetch-parse-error",{originalErrorMessage:null===(s=Xe)||void 0===s?void 0:s.message})}const U=P.ttl.match(/^([\d.]+)(s)$/);if(!U||!U[2]||isNaN(Number(U[1])))throw xs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${P.ttl}`});const se=1e3*Number(U[1]),Re=Date.now();return{token:P.token,expireTimeMillis:Re+se,issuedAtTimeMillis:Re}}),C0.apply(this,arguments)}function v5(n,e){const{projectId:t,appId:r,apiKey:s}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${s}`,body:{debug_token:e}}}const Bh="firebase-app-check-store";let bf=null;function Cf(){return bf||(bf=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=s=>{n(s.target.result)},r.onerror=s=>{var l;e(xs.create("storage-open",{originalErrorMessage:null===(l=s.target.error)||void 0===l?void 0:l.message}))},r.onupgradeneeded=s=>{0===s.oldVersion&&s.target.result.createObjectStore(Bh,{keyPath:"compositeKey"})}}catch(r){e(xs.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),bf)}function b5(){return b5=(0,_t.Z)(function*(n,e){const r=(yield Cf()).transaction(Bh,"readwrite"),l=r.objectStore(Bh).put({compositeKey:n,value:e});return new Promise((d,g)=>{l.onsuccess=E=>{d()},r.onerror=E=>{var P;g(xs.create("storage-set",{originalErrorMessage:null===(P=E.target.error)||void 0===P?void 0:P.message}))}})}),b5.apply(this,arguments)}const S0=new Ki.Yd("@firebase/app-check");function E0(n,e){return(0,_r.hl)()?function _9(n,e){return function $7(n,e){return b5.apply(this,arguments)}(function Yh(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{S0.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function M0(){return v0().enabled}function Sf(){return Ef.apply(this,arguments)}function Ef(){return Ef=(0,_t.Z)(function*(){const n=v0();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),Ef.apply(this,arguments)}const C9={error:"UNKNOWN_ERROR"};function W7(n){return _r.US.encodeString(JSON.stringify(n),!1)}function D0(n){return Mf.apply(this,arguments)}function Mf(){return Mf=(0,_t.Z)(function*(n,e=!1){const t=n.app;_f(t);const r=Fo(t);let l,s=r.token;if(s&&!zd(s)&&(ps(t,Object.assign(Object.assign({},r),{token:void 0})),s=void 0),!s){const E=yield r.cachedTokenPromise;E&&(zd(E)?s=E:yield E0(t,void 0))}if(!e&&s&&zd(s))return{token:s.token};let g,d=!1;if(M0()){r.exchangeTokenPromise||(r.exchangeTokenPromise=wf(v5(t,yield Sf()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),d=!0);const E=yield r.exchangeTokenPromise;return yield E0(t,E),ps(t,Object.assign(Object.assign({},r),{token:E})),{token:E.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),d=!0),s=yield r.exchangeTokenPromise}catch(E){"appCheck/throttled"===E.code?S0.warn(E.message):S0.error(E),l=E}return s?l?g=zd(s)?{token:s.token,internalError:l}:T5(l):(g={token:s.token},ps(t,Object.assign(Object.assign({},r),{token:s})),yield E0(t,s)):g=T5(l),d&&q7(t,g),g}),Mf.apply(this,arguments)}function Df(n,e){const t=Fo(n),r=t.tokenObservers.filter(s=>s.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),ps(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function K7(n){const{app:e}=n,t=Fo(e);let r=t.tokenRefresher;r||(r=function S9(n){const{app:e}=n;return new Y7((0,_t.Z)(function*(){let r;if(r=Fo(e).token?yield D0(n,!0):yield D0(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Fo(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),ps(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function q7(n,e){const t=Fo(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function zd(n){return n.expireTimeMillis-Date.now()>0}function T5(n){return{token:W7(C9),error:n}}class Z7{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Fo(this.app);for(const t of e)Df(this.app,t.next);return Promise.resolve()}}const Vl="app-check-internal";!function nv(){(0,vo._registerComponent)(new Os.wA("app-check",n=>function E9(n,e){return new Z7(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Vl).initialize()})),(0,vo._registerComponent)(new Os.wA(Vl,n=>function Q7(n){return{getToken:e=>D0(n,e),addTokenListener:e=>function Id(n,e,t,r){const{app:s}=n,l=Fo(s),d={next:t,error:r,type:e};if(ps(s,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,d]})),l.token&&zd(l.token)){const g=l.token;Promise.resolve().then(()=>{t({token:g.token}),K7(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>K7(n))}(n,"INTERNAL",e),removeTokenListener:e=>Df(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,vo.registerVersion)("@firebase/app-check","0.5.16")}();class Nf{constructor(){return(0,Kr.vb)("app-check")}}typeof window<"u"&&window;var x0=T(127);const L5=new h.OlP("angularfire2.auth.use-emulator"),Lf=new h.OlP("angularfire2.auth.settings"),Vf=new h.OlP("angularfire2.auth.tenant-id"),V5=new h.OlP("angularfire2.auth.langugage-code"),H5=new h.OlP("angularfire2.auth.use-device-language"),dv=new h.OlP("angularfire.auth.persistence"),hv=(n,e,t,r,s,l,d,g)=>(0,Ci.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const E=e.runOutsideAngular(()=>n.auth());if(t&&E.useEmulator(...t),r&&(E.tenantId=r),E.languageCode=s,l&&E.useDeviceLanguage(),d)for(const[P,U]of Object.entries(d))E.settings[P]=U;return g&&E.setPersistence(g),E},[t,r,s,l,d,g]);let jh=(()=>{class n{constructor(t,r,s,l,d,g,E,P,U,se,Re,Xe){const tt=new Yc.x,Et=(0,bi.of)(void 0).pipe((0,g0.Q)(d.outsideAngular),(0,Rl.w)(()=>l.runOutsideAngular(()=>Promise.resolve().then(T.bind(T,5881)))),(0,Ie.U)(()=>(0,Ci.on)(t,l,r)),(0,Ie.U)(Ut=>hv(Ut,l,g,P,U,se,E,Re)),pf({bufferSize:1,refCount:!1}));if((0,oe.PM)(s))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,bi.of)(null);else{Et.pipe((0,a5.P)()).subscribe();const xn=Et.pipe((0,Rl.w)(Rn=>Rn.getRedirectResult().then(rr=>rr,()=>null)),Kr.iC,pf({bufferSize:1,refCount:!1})),nr=Et.pipe((0,Rl.w)(Rn=>new he.y(rr=>({unsubscribe:l.runOutsideAngular(()=>Rn.onAuthStateChanged(er=>rr.next(er),er=>rr.error(er),()=>rr.complete()))})))),Gn=Et.pipe((0,Rl.w)(Rn=>new he.y(rr=>({unsubscribe:l.runOutsideAngular(()=>Rn.onIdTokenChanged(er=>rr.next(er),er=>rr.error(er),()=>rr.complete()))}))));this.authState=xn.pipe(C4(nr),(0,mf.R)(d.outsideAngular),(0,g0.Q)(d.insideAngular)),this.user=xn.pipe(C4(Gn),(0,mf.R)(d.outsideAngular),(0,g0.Q)(d.insideAngular)),this.idToken=this.user.pipe((0,Rl.w)(Rn=>Rn?(0,ne.D)(Rn.getIdToken()):(0,bi.of)(null))),this.idTokenResult=this.user.pipe((0,Rl.w)(Rn=>Rn?(0,ne.D)(Rn.getIdTokenResult()):(0,bi.of)(null))),this.credential=(0,hf.T)(xn,tt,this.authState.pipe((0,ss.h)(Rn=>!Rn))).pipe((0,Ie.U)(Rn=>Rn?.user?Rn:null),(0,mf.R)(d.outsideAngular),(0,g0.Q)(d.insideAngular))}return(0,Ci.pX)(this,Et,l,{spy:{apply:(Ut,xn,nr)=>{(Ut.startsWith("signIn")||Ut.startsWith("createUser"))&&nr.then(Gn=>tt.next(Gn))}}})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ci.Dh),h.LFG(Ci.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Kr.HU),h.LFG(L5,8),h.LFG(Lf,8),h.LFG(Vf,8),h.LFG(V5,8),h.LFG(H5,8),h.LFG(dv,8),h.LFG(Nf,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),fv=(()=>{class n{constructor(){x0.Z.registerVersion("angularfire",Kr.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[jh]}),n})();function B5(n,e){return function pv(n,e=ri.z){return new he.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function Y5(n,e){return B5(n,e).pipe((0,Ie.U)(t=>({payload:t,type:"query"})))}function Hf(n,e){return Y5(n,e).pipe((0,is.O)(void 0),Ps(),(0,Ie.U)(([t,r])=>{const s=r.payload.docChanges(),l=s.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,g)=>{const E=s.find(U=>U.doc.ref.isEqual(d.ref)),P=t?.payload.docs.find(U=>U.ref.isEqual(d.ref));E&&JSON.stringify(E.doc.metadata)===JSON.stringify(d.metadata)||!E&&P&&JSON.stringify(P.metadata)===JSON.stringify(d.metadata)||l.push({type:"modified",payload:{oldIndex:g,newIndex:g,type:"modified",doc:d}})}),l}))}function mv(n,e,t){return Hf(n,t).pipe((0,os.R)((r,s)=>function A9(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function I0(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return Bf(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Bf(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Bf(n,e.oldIndex,1)}return n}(n,r))}),n}(r,s.map(l=>l.payload),e),[]),(0,Io.x)(),(0,Ie.U)(r=>r.map(s=>({type:s.type,payload:s}))))}function Bf(n,e,t,...r){const s=n.slice();return s.splice(e,t,...r),s}function U5(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class j5{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=Hf(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Ie.U)(r=>r.filter(s=>e.indexOf(s.type)>-1)))),t.pipe((0,is.O)(void 0),Ps(),(0,ss.h)(([r,s])=>s.length>0||!r),(0,Ie.U)(([r,s])=>s),Kr.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,os.R)((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=U5(e);return mv(this.query,t,this.afs.schedulers.outsideAngular).pipe(Kr.iC)}valueChanges(e={}){return Y5(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ie.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Kr.iC)}get(e){return(0,ne.D)(this.query.get(e)).pipe(Kr.iC)}add(e){return this.ref.add(e)}doc(e){return new Yf(this.ref.doc(e),this.afs)}}class Yf{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:s,query:l}=z0(r,t);return new j5(s,l,this.afs)}snapshotChanges(){return function z9(n,e){return B5(n,e).pipe((0,is.O)(void 0),Ps(),(0,Ie.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Kr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Ie.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,ne.D)(this.ref.get(e)).pipe(Kr.iC)}}class E4{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Hf(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ie.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),(0,ss.h)(t=>t.length>0),Kr.iC):Hf(this.query,this.afs.schedulers.outsideAngular).pipe(Kr.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,os.R)((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=U5(e);return mv(this.query,t,this.afs.schedulers.outsideAngular).pipe(Kr.iC)}valueChanges(e={}){return Y5(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ie.U)(r=>r.payload.docs.map(s=>e.idField?Object.assign({[e.idField]:s.id},s.data()):s.data())),Kr.iC)}get(e){return(0,ne.D)(this.query.get(e)).pipe(Kr.iC)}}const $5=new h.OlP("angularfire2.enableFirestorePersistence"),Uf=new h.OlP("angularfire2.firestore.persistenceSettings"),jf=new h.OlP("angularfire2.firestore.settings"),gv=new h.OlP("angularfire2.firestore.use-emulator");function z0(n,e=(t=>t)){return{query:e(n),ref:n}}let $f=(()=>{class n{constructor(t,r,s,l,d,g,E,P,U,se,Re,Xe,tt,Et,Ut,xn,nr){this.schedulers=E;const Gn=(0,Ci.on)(t,g,r),Rn=U;se&&hv(Gn,g,Re,tt,Et,Ut,Xe,xn),[this.firestore,this.persistenceEnabled$]=(0,Ci.cc)(`${Gn.name}.firestore`,"AngularFirestore",Gn.name,()=>{const rr=g.runOutsideAngular(()=>Gn.firestore());if(l&&rr.settings(l),Rn&&rr.useEmulator(...Rn),s&&!(0,oe.PM)(d)){const er=()=>{try{return(0,ne.D)(rr.enablePersistence(P||void 0).then(()=>!0,()=>!1))}catch(Lr){return typeof console<"u"&&console.warn(Lr),(0,bi.of)(!1)}};return[rr,g.runOutsideAngular(er)]}return[rr,(0,bi.of)(!1)]},[l,Rn,s])}collection(t,r){let s;s="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:d}=z0(s,r),g=this.schedulers.ngZone.run(()=>l);return new j5(g,d,this)}collectionGroup(t,r){const s=r||(d=>d),l=this.firestore.collectionGroup(t);return new E4(s(l),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const s=this.schedulers.ngZone.run(()=>r);return new Yf(s,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ci.Dh),h.LFG(Ci.xv,8),h.LFG($5,8),h.LFG(jf,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Kr.HU),h.LFG(Uf,8),h.LFG(gv,8),h.LFG(jh,8),h.LFG(L5,8),h.LFG(Lf,8),h.LFG(Vf,8),h.LFG(V5,8),h.LFG(H5,8),h.LFG(dv,8),h.LFG(Nf,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),k9=(()=>{class n{constructor(t){this.db=t,this.gameCollection=this.db.collection("games")}create(t){this.gameCollection.add(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG($f))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Wf=T(4384),$h=T(445),P9=T(2289),Na=T(3353),Gh=T(6287),Ad=T(7423),vv=T(1691),yv=T(4903),G5=T(7518);let Kf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[$h.vT,oe.ez,G5.U8,Gh.T,vv.e4,yv.g]}),n})();var Cv=T(727),jc=T(2722),F9=T(8505);class Sv{}const Au="*";function $c(n,e){return{type:7,name:n,definitions:e,options:{}}}function Oi(n,e=null){return{type:4,styles:e,timings:n}}function Mv(n,e=null){return{type:2,steps:n,options:e}}function fr(n){return{type:6,styles:n,offset:null}}function Gc(n,e,t){return{type:0,name:n,styles:e,options:t}}function Ui(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function Dv(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function Tv(n,e){return{type:12,timings:n,animation:e}}function i(n){Promise.resolve().then(n)}class o{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){i(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class a{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,s=0;const l=this.players.length;0==l?i(()=>this._onFinish()):this.players.forEach(d=>{d.onDone(()=>{++t==l&&this._onFinish()}),d.onDestroy(()=>{++r==l&&this._onDestroy()}),d.onStart(()=>{++s==l&&this._onStart()})}),this.totalTime=this.players.reduce((d,g)=>Math.max(d,g.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const s=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(s)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}let u=(()=>{class n{}return n.SLOW="0.3s",n.BASE="0.2s",n.FAST="0.1s",n})(),f=(()=>{class n{}return n.EASE_BASE_OUT="cubic-bezier(0.7, 0.3, 0.1, 1)",n.EASE_BASE_IN="cubic-bezier(0.9, 0, 0.3, 0.7)",n.EASE_OUT="cubic-bezier(0.215, 0.61, 0.355, 1)",n.EASE_IN="cubic-bezier(0.55, 0.055, 0.675, 0.19)",n.EASE_IN_OUT="cubic-bezier(0.645, 0.045, 0.355, 1)",n.EASE_OUT_BACK="cubic-bezier(0.12, 0.4, 0.29, 1.46)",n.EASE_IN_BACK="cubic-bezier(0.71, -0.46, 0.88, 0.6)",n.EASE_IN_OUT_BACK="cubic-bezier(0.71, -0.46, 0.29, 1.46)",n.EASE_OUT_CIRC="cubic-bezier(0.08, 0.82, 0.17, 1)",n.EASE_IN_CIRC="cubic-bezier(0.6, 0.04, 0.98, 0.34)",n.EASE_IN_OUT_CIRC="cubic-bezier(0.78, 0.14, 0.15, 0.86)",n.EASE_OUT_QUINT="cubic-bezier(0.23, 1, 0.32, 1)",n.EASE_IN_QUINT="cubic-bezier(0.755, 0.05, 0.855, 0.06)",n.EASE_IN_OUT_QUINT="cubic-bezier(0.86, 0, 0.07, 1)",n})();$c("collapseMotion",[Gc("expanded",fr({height:"*"})),Gc("collapsed",fr({height:0,overflow:"hidden"})),Gc("hidden",fr({height:0,overflow:"hidden",borderTopWidth:"0"})),Ui("expanded => collapsed",Oi(`150ms ${f.EASE_IN_OUT}`)),Ui("expanded => hidden",Oi(`150ms ${f.EASE_IN_OUT}`)),Ui("collapsed => expanded",Oi(`150ms ${f.EASE_IN_OUT}`)),Ui("hidden => expanded",Oi(`150ms ${f.EASE_IN_OUT}`))]),$c("treeCollapseMotion",[Ui("* => *",[Dv("nz-tree-node:leave,nz-tree-builtin-node:leave",[fr({overflow:"hidden"}),Tv(0,[Oi(`150ms ${f.EASE_IN_OUT}`,fr({height:0,opacity:0,"padding-bottom":0}))])],{optional:!0}),Dv("nz-tree-node:enter,nz-tree-builtin-node:enter",[fr({overflow:"hidden",height:0,opacity:0,"padding-bottom":0}),Tv(0,[Oi(`150ms ${f.EASE_IN_OUT}`,fr({overflow:"hidden",height:"*",opacity:"*","padding-bottom":"*"}))])],{optional:!0})])]),$c("fadeMotion",[Ui(":enter",[fr({opacity:0}),Oi(`${u.BASE}`,fr({opacity:1}))]),Ui(":leave",[fr({opacity:1}),Oi(`${u.BASE}`,fr({opacity:0}))])]);const L=$c("helpMotion",[Ui(":enter",[fr({opacity:0,transform:"translateY(-5px)"}),Oi(`${u.SLOW} ${f.EASE_IN_OUT}`,fr({opacity:1,transform:"translateY(0)"}))]),Ui(":leave",[fr({opacity:1,transform:"translateY(0)"}),Oi(`${u.SLOW} ${f.EASE_IN_OUT}`,fr({opacity:0,transform:"translateY(-5px)"}))])]),Ne=($c("moveUpMotion",[Ui("* => enter",[fr({transformOrigin:"0 0",transform:"translateY(-100%)",opacity:0}),Oi(`${u.BASE}`,fr({transformOrigin:"0 0",transform:"translateY(0%)",opacity:1}))]),Ui("* => leave",[fr({transformOrigin:"0 0",transform:"translateY(0%)",opacity:1}),Oi(`${u.BASE}`,fr({transformOrigin:"0 0",transform:"translateY(-100%)",opacity:0}))])]),$c("notificationMotion",[Gc("enterRight",fr({opacity:1,transform:"translateX(0)"})),Ui("* => enterRight",[fr({opacity:0,transform:"translateX(5%)"}),Oi("100ms linear")]),Gc("enterLeft",fr({opacity:1,transform:"translateX(0)"})),Ui("* => enterLeft",[fr({opacity:0,transform:"translateX(-5%)"}),Oi("100ms linear")]),Gc("enterTop",fr({opacity:1,transform:"translateY(0)"})),Ui("* => enterTop",[fr({opacity:0,transform:"translateY(-5%)"}),Oi("100ms linear")]),Gc("enterBottom",fr({opacity:1,transform:"translateY(0)"})),Ui("* => enterBottom",[fr({opacity:0,transform:"translateY(5%)"}),Oi("100ms linear")]),Gc("leave",fr({opacity:0,transform:"scaleY(0.8)",transformOrigin:"0% 0%"})),Ui("* => leave",[fr({opacity:1,transform:"scaleY(1)",transformOrigin:"0% 0%"}),Oi("100ms linear")])]),`${u.BASE} ${f.EASE_OUT_QUINT}`),nt=`${u.BASE} ${f.EASE_IN_QUINT}`;$c("slideMotion",[Gc("void",fr({opacity:0,transform:"scaleY(0.8)"})),Gc("enter",fr({opacity:1,transform:"scaleY(1)"})),Ui("void => *",[Oi(Ne)]),Ui("* => void",[Oi(nt)])]),$c("slideAlertMotion",[Ui(":leave",[fr({opacity:1,transform:"scaleY(1)",transformOrigin:"0% 0%"}),Oi(`${u.SLOW} ${f.EASE_IN_OUT_CIRC}`,fr({opacity:0,transform:"scaleY(0)",transformOrigin:"0% 0%"}))])]),$c("zoomBigMotion",[Ui("void => active",[fr({opacity:0,transform:"scale(0.8)"}),Oi(`${u.BASE} ${f.EASE_OUT_CIRC}`,fr({opacity:1,transform:"scale(1)"}))]),Ui("active => void",[fr({opacity:1,transform:"scale(1)"}),Oi(`${u.BASE} ${f.EASE_IN_OUT_CIRC}`,fr({opacity:0,transform:"scale(0.8)"}))])]),$c("zoomBadgeMotion",[Ui(":enter",[fr({opacity:0,transform:"scale(0) translate(50%, -50%)"}),Oi(`${u.SLOW} ${f.EASE_OUT_BACK}`,fr({opacity:1,transform:"scale(1) translate(50%, -50%)"}))]),Ui(":leave",[fr({opacity:1,transform:"scale(1) translate(50%, -50%)"}),Oi(`${u.SLOW} ${f.EASE_IN_BACK}`,fr({opacity:0,transform:"scale(0) translate(50%, -50%)"}))])]),$c("thumbMotion",[Gc("from",fr({transform:"translateX({{ transform }}px)",width:"{{ width }}px"}),{params:{transform:0,width:0}}),Gc("to",fr({transform:"translateX({{ transform }}px)",width:"{{ width }}px"}),{params:{transform:100,width:0}}),Ui("from => to",Oi(`300ms ${f.EASE_IN_OUT}`))]);var Vt=T(1135);function Zn(n,e){if(1&n&&h._UZ(0,"span",1),2&n){const t=h.oxw();h.Q6J("nzType",t.iconType)}}let Or=(()=>{class n{constructor(){this.formStatusChanges=new ff.t(1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),yi=(()=>{class n{constructor(){this.noFormStatus=new Vt.X(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const M4={error:"close-circle-fill",validating:"loading",success:"check-circle-fill",warning:"exclamation-circle-fill"};let A0=(()=>{class n{constructor(t){this.cdr=t,this.status="",this.iconType=null}ngOnChanges(t){this.updateIcon()}updateIcon(){this.iconType=this.status?M4[this.status]:null,this.cdr.markForCheck()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.sBO))},n.\u0275cmp=h.Xpm({type:n,selectors:[["nz-form-item-feedback-icon"]],hostAttrs:[1,"ant-form-item-feedback-icon"],hostVars:8,hostBindings:function(t,r){2&t&&h.ekj("ant-form-item-feedback-icon-error","error"===r.status)("ant-form-item-feedback-icon-warning","warning"===r.status)("ant-form-item-feedback-icon-success","success"===r.status)("ant-form-item-feedback-icon-validating","validating"===r.status)},inputs:{status:"status"},exportAs:["nzFormFeedbackIcon"],features:[h.TTD],decls:1,vars:1,consts:[["nz-icon","",3,"nzType",4,"ngIf"],["nz-icon","",3,"nzType"]],template:function(t,r){1&t&&h.YNc(0,Zn,1,1,"span",0),2&t&&h.Q6J("ngIf",r.iconType)},dependencies:[oe.O5,Ad.Ls],encapsulation:2,changeDetection:0}),n})(),qf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[oe.ez,Ad.PV]}),n})();var Fa=T(3187),Zf=T(1355),Qf={locale:"en",Pagination:{items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},DatePicker:{lang:{placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"],locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},timePickerLocale:{placeholder:"Select time",rangePlaceholder:["Start time","End time"]}},TimePicker:{placeholder:"Select time",rangePlaceholder:["Start time","End time"]},Calendar:{lang:{placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"],locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},timePickerLocale:{placeholder:"Select time",rangePlaceholder:["Start time","End time"]}},global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",selectNone:"Clear all data"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No Data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Image:{preview:"Preview"}},Xf={locale:"zh-cn",Pagination:{items_per_page:"\u6761/\u9875",jump_to:"\u8df3\u81f3",jump_to_confirm:"\u786e\u5b9a",page:"\u9875",prev_page:"\u4e0a\u4e00\u9875",next_page:"\u4e0b\u4e00\u9875",prev_5:"\u5411\u524d 5 \u9875",next_5:"\u5411\u540e 5 \u9875",prev_3:"\u5411\u524d 3 \u9875",next_3:"\u5411\u540e 3 \u9875",page_size:"\u9875\u7801"},DatePicker:{lang:{placeholder:"\u8bf7\u9009\u62e9\u65e5\u671f",yearPlaceholder:"\u8bf7\u9009\u62e9\u5e74\u4efd",quarterPlaceholder:"\u8bf7\u9009\u62e9\u5b63\u5ea6",monthPlaceholder:"\u8bf7\u9009\u62e9\u6708\u4efd",weekPlaceholder:"\u8bf7\u9009\u62e9\u5468",rangePlaceholder:["\u5f00\u59cb\u65e5\u671f","\u7ed3\u675f\u65e5\u671f"],rangeYearPlaceholder:["\u5f00\u59cb\u5e74\u4efd","\u7ed3\u675f\u5e74\u4efd"],rangeMonthPlaceholder:["\u5f00\u59cb\u6708\u4efd","\u7ed3\u675f\u6708\u4efd"],rangeWeekPlaceholder:["\u5f00\u59cb\u5468","\u7ed3\u675f\u5468"],locale:"zh_CN",today:"\u4eca\u5929",now:"\u6b64\u523b",backToToday:"\u8fd4\u56de\u4eca\u5929",ok:"\u786e\u5b9a",timeSelect:"\u9009\u62e9\u65f6\u95f4",dateSelect:"\u9009\u62e9\u65e5\u671f",weekSelect:"\u9009\u62e9\u5468",clear:"\u6e05\u9664",month:"\u6708",year:"\u5e74",previousMonth:"\u4e0a\u4e2a\u6708 (\u7ffb\u9875\u4e0a\u952e)",nextMonth:"\u4e0b\u4e2a\u6708 (\u7ffb\u9875\u4e0b\u952e)",monthSelect:"\u9009\u62e9\u6708\u4efd",yearSelect:"\u9009\u62e9\u5e74\u4efd",decadeSelect:"\u9009\u62e9\u5e74\u4ee3",yearFormat:"YYYY\u5e74",dayFormat:"D\u65e5",dateFormat:"YYYY\u5e74M\u6708D\u65e5",dateTimeFormat:"YYYY\u5e74M\u6708D\u65e5 HH\u65f6mm\u5206ss\u79d2",previousYear:"\u4e0a\u4e00\u5e74 (Control\u952e\u52a0\u5de6\u65b9\u5411\u952e)",nextYear:"\u4e0b\u4e00\u5e74 (Control\u952e\u52a0\u53f3\u65b9\u5411\u952e)",previousDecade:"\u4e0a\u4e00\u5e74\u4ee3",nextDecade:"\u4e0b\u4e00\u5e74\u4ee3",previousCentury:"\u4e0a\u4e00\u4e16\u7eaa",nextCentury:"\u4e0b\u4e00\u4e16\u7eaa"},timePickerLocale:{placeholder:"\u8bf7\u9009\u62e9\u65f6\u95f4",rangePlaceholder:["\u5f00\u59cb\u65f6\u95f4","\u7ed3\u675f\u65f6\u95f4"]}},TimePicker:{placeholder:"\u8bf7\u9009\u62e9\u65f6\u95f4",rangePlaceholder:["\u5f00\u59cb\u65f6\u95f4","\u7ed3\u675f\u65f6\u95f4"]},Calendar:{lang:{placeholder:"\u8bf7\u9009\u62e9\u65e5\u671f",yearPlaceholder:"\u8bf7\u9009\u62e9\u5e74\u4efd",quarterPlaceholder:"\u8bf7\u9009\u62e9\u5b63\u5ea6",monthPlaceholder:"\u8bf7\u9009\u62e9\u6708\u4efd",weekPlaceholder:"\u8bf7\u9009\u62e9\u5468",rangePlaceholder:["\u5f00\u59cb\u65e5\u671f","\u7ed3\u675f\u65e5\u671f"],rangeYearPlaceholder:["\u5f00\u59cb\u5e74\u4efd","\u7ed3\u675f\u5e74\u4efd"],rangeMonthPlaceholder:["\u5f00\u59cb\u6708\u4efd","\u7ed3\u675f\u6708\u4efd"],rangeWeekPlaceholder:["\u5f00\u59cb\u5468","\u7ed3\u675f\u5468"],locale:"zh_CN",today:"\u4eca\u5929",now:"\u6b64\u523b",backToToday:"\u8fd4\u56de\u4eca\u5929",ok:"\u786e\u5b9a",timeSelect:"\u9009\u62e9\u65f6\u95f4",dateSelect:"\u9009\u62e9\u65e5\u671f",weekSelect:"\u9009\u62e9\u5468",clear:"\u6e05\u9664",month:"\u6708",year:"\u5e74",previousMonth:"\u4e0a\u4e2a\u6708 (\u7ffb\u9875\u4e0a\u952e)",nextMonth:"\u4e0b\u4e2a\u6708 (\u7ffb\u9875\u4e0b\u952e)",monthSelect:"\u9009\u62e9\u6708\u4efd",yearSelect:"\u9009\u62e9\u5e74\u4efd",decadeSelect:"\u9009\u62e9\u5e74\u4ee3",yearFormat:"YYYY\u5e74",dayFormat:"D\u65e5",dateFormat:"YYYY\u5e74M\u6708D\u65e5",dateTimeFormat:"YYYY\u5e74M\u6708D\u65e5 HH\u65f6mm\u5206ss\u79d2",previousYear:"\u4e0a\u4e00\u5e74 (Control\u952e\u52a0\u5de6\u65b9\u5411\u952e)",nextYear:"\u4e0b\u4e00\u5e74 (Control\u952e\u52a0\u53f3\u65b9\u5411\u952e)",previousDecade:"\u4e0a\u4e00\u5e74\u4ee3",nextDecade:"\u4e0b\u4e00\u5e74\u4ee3",previousCentury:"\u4e0a\u4e00\u4e16\u7eaa",nextCentury:"\u4e0b\u4e00\u4e16\u7eaa"},timePickerLocale:{placeholder:"\u8bf7\u9009\u62e9\u65f6\u95f4",rangePlaceholder:["\u5f00\u59cb\u65f6\u95f4","\u7ed3\u675f\u65f6\u95f4"]}},global:{placeholder:"\u8bf7\u9009\u62e9"},Table:{filterTitle:"\u7b5b\u9009",filterConfirm:"\u786e\u5b9a",filterReset:"\u91cd\u7f6e",filterEmptyText:"\u65e0\u7b5b\u9009\u9879",selectAll:"\u5168\u9009\u5f53\u9875",selectInvert:"\u53cd\u9009\u5f53\u9875",selectionAll:"\u5168\u9009\u6240\u6709",sortTitle:"\u6392\u5e8f",expand:"\u5c55\u5f00\u884c",collapse:"\u5173\u95ed\u884c",triggerDesc:"\u70b9\u51fb\u964d\u5e8f",triggerAsc:"\u70b9\u51fb\u5347\u5e8f",cancelSort:"\u53d6\u6d88\u6392\u5e8f",filterCheckall:"\u5168\u9009",filterSearchPlaceholder:"\u5728\u7b5b\u9009\u9879\u4e2d\u641c\u7d22",selectNone:"\u6e05\u7a7a\u6240\u6709"},Modal:{okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",justOkText:"\u77e5\u9053\u4e86"},Popconfirm:{cancelText:"\u53d6\u6d88",okText:"\u786e\u5b9a"},Transfer:{searchPlaceholder:"\u8bf7\u8f93\u5165\u641c\u7d22\u5185\u5bb9",itemUnit:"\u9879",itemsUnit:"\u9879",remove:"\u5220\u9664",selectCurrent:"\u5168\u9009\u5f53\u9875",removeCurrent:"\u5220\u9664\u5f53\u9875",selectAll:"\u5168\u9009\u6240\u6709",removeAll:"\u5220\u9664\u5168\u90e8",selectInvert:"\u53cd\u9009\u5f53\u9875"},Upload:{uploading:"\u6587\u4ef6\u4e0a\u4f20\u4e2d",removeFile:"\u5220\u9664\u6587\u4ef6",uploadError:"\u4e0a\u4f20\u9519\u8bef",previewFile:"\u9884\u89c8\u6587\u4ef6",downloadFile:"\u4e0b\u8f7d\u6587\u4ef6"},Empty:{description:"\u6682\u65e0\u6570\u636e"},Icon:{icon:"\u56fe\u6807"},Text:{edit:"\u7f16\u8f91",copy:"\u590d\u5236",copied:"\u590d\u5236\u6210\u529f",expand:"\u5c55\u5f00"},PageHeader:{back:"\u8fd4\u56de"},Image:{preview:"\u9884\u89c8"}};const Jf=new h.OlP("nz-i18n"),ep=new h.OlP("nz-date-locale");let k0=(()=>{class n{constructor(t,r){this._change=new Vt.X(this._locale),this.setLocale(t||Xf),this.setDateLocale(r||null)}get localeChange(){return this._change.asObservable()}translate(t,r){let s=this._getObjectPath(this._locale,t);return"string"==typeof s?(r&&Object.keys(r).forEach(l=>s=s.replace(new RegExp(`%${l}%`,"g"),r[l])),s):t}setLocale(t){this._locale&&this._locale.locale===t.locale||(this._locale=t,this._change.next(t))}getLocale(){return this._locale}getLocaleId(){return this._locale?this._locale.locale:""}setDateLocale(t){this.dateLocale=t}getDateLocale(){return this.dateLocale}getLocaleData(t,r){const s=t?this._getObjectPath(this._locale,t):this._locale;return!s&&!r&&(0,Zf.ZK)(`Missing translations for "${t}" in language "${this._locale.locale}".\nYou can use "NzI18nService.setLocale" as a temporary fix.\nWelcome to submit a pull request to help us optimize the translations!\nhttps://github.com/NG-ZORRO/ng-zorro-antd/blob/master/CONTRIBUTING.md`),s||r||this._getObjectPath(Qf,t)||{}}_getObjectPath(t,r){let s=t;const l=r.split("."),d=l.length;let g=0;for(;s&&g<d;)s=s[l[g++]];return g===d?s:null}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Jf,8),h.LFG(ep,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();new h.OlP("date-config");var Wh=T(655),q5=T(7917);const L9=["*"];function $y(n,e){if(1&n&&(h.ynx(0),h._uU(1),h.BQk()),2&n){const t=h.oxw(2);h.xp6(1),h.Oqu(t.innerTip)}}const Gy=function(n){return[n]},Wy=function(n){return{$implicit:n}};function Ky(n,e){if(1&n&&(h.TgZ(0,"div",4)(1,"div",5),h.YNc(2,$y,2,1,"ng-container",6),h.qZA()()),2&n){const t=h.oxw();h.Q6J("@helpMotion",void 0),h.xp6(1),h.Q6J("ngClass",h.VKq(4,Gy,"ant-form-item-explain-"+t.status)),h.xp6(1),h.Q6J("nzStringTemplateOutlet",t.innerTip)("nzStringTemplateOutletContext",h.VKq(6,Wy,t.validateControl))}}function qy(n,e){if(1&n&&(h.ynx(0),h._uU(1),h.BQk()),2&n){const t=h.oxw(2);h.xp6(1),h.Oqu(t.nzExtra)}}function Zy(n,e){if(1&n&&(h.TgZ(0,"div",7),h.YNc(1,qy,2,1,"ng-container",8),h.qZA()),2&n){const t=h.oxw();h.xp6(1),h.Q6J("nzStringTemplateOutlet",t.nzExtra)}}let V9=(()=>{class n{constructor(t,r,s){this.cdr=s,this.status="",this.hasFeedback=!1,this.withHelpClass=!1,this.destroy$=new Yc.x,r.addClass(t.nativeElement,"ant-form-item")}setWithHelpViaTips(t){this.withHelpClass=t,this.cdr.markForCheck()}setStatus(t){this.status=t,this.cdr.markForCheck()}setHasFeedback(t){this.hasFeedback=t,this.cdr.markForCheck()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.SBq),h.Y36(h.Qsj),h.Y36(h.sBO))},n.\u0275cmp=h.Xpm({type:n,selectors:[["nz-form-item"]],hostVars:12,hostBindings:function(t,r){2&t&&h.ekj("ant-form-item-has-success","success"===r.status)("ant-form-item-has-warning","warning"===r.status)("ant-form-item-has-error","error"===r.status)("ant-form-item-is-validating","validating"===r.status)("ant-form-item-has-feedback",r.hasFeedback&&r.status)("ant-form-item-with-help",r.withHelpClass)},exportAs:["nzFormItem"],ngContentSelectors:L9,decls:1,vars:0,template:function(t,r){1&t&&(h.F$t(),h.Hsn(0))},encapsulation:2,changeDetection:0}),n})();const H9={type:"question-circle",theme:"outline"};let B9=(()=>{class n{constructor(t,r,s,l){this.nzConfigService=t,this.renderer=s,this.directionality=l,this._nzModuleName="form",this.nzLayout="horizontal",this.nzNoColon=!1,this.nzAutoTips={},this.nzDisableAutoTips=!1,this.nzTooltipIcon=H9,this.dir="ltr",this.destroy$=new Yc.x,this.inputChanges$=new Yc.x,this.renderer.addClass(r.nativeElement,"ant-form"),this.dir=this.directionality.value,this.directionality.change?.pipe((0,jc.R)(this.destroy$)).subscribe(d=>{this.dir=d})}getInputObservable(t){return this.inputChanges$.pipe((0,ss.h)(r=>t in r),(0,Ie.U)(r=>r[t]))}ngOnChanges(t){this.inputChanges$.next(t)}ngOnDestroy(){this.inputChanges$.complete(),this.destroy$.next(),this.destroy$.complete()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(q5.jY),h.Y36(h.SBq),h.Y36(h.Qsj),h.Y36($h.Is,8))},n.\u0275dir=h.lG2({type:n,selectors:[["","nz-form",""]],hostVars:8,hostBindings:function(t,r){2&t&&h.ekj("ant-form-horizontal","horizontal"===r.nzLayout)("ant-form-vertical","vertical"===r.nzLayout)("ant-form-inline","inline"===r.nzLayout)("ant-form-rtl","rtl"===r.dir)},inputs:{nzLayout:"nzLayout",nzNoColon:"nzNoColon",nzAutoTips:"nzAutoTips",nzDisableAutoTips:"nzDisableAutoTips",nzTooltipIcon:"nzTooltipIcon"},exportAs:["nzForm"],features:[h.TTD]}),(0,Wh.gn)([(0,q5.oS)(),(0,Fa.yF)()],n.prototype,"nzNoColon",void 0),(0,Wh.gn)([(0,q5.oS)()],n.prototype,"nzAutoTips",void 0),(0,Wh.gn)([(0,Fa.yF)()],n.prototype,"nzDisableAutoTips",void 0),(0,Wh.gn)([(0,q5.oS)()],n.prototype,"nzTooltipIcon",void 0),n})(),Jy=(()=>{class n{constructor(t,r,s,l,d,g,E){this.nzFormItemComponent=r,this.cdr=s,this.nzFormDirective=g,this.nzFormStatusService=E,this._hasFeedback=!1,this.validateChanges=Cv.w0.EMPTY,this.validateString=null,this.destroyed$=new Yc.x,this.status="",this.validateControl=null,this.innerTip=null,this.nzAutoTips={},this.nzDisableAutoTips="default",l.addClass(t.nativeElement,"ant-form-item-control"),this.subscribeAutoTips(d.localeChange.pipe((0,F9.b)(P=>this.localeId=P.locale))),this.subscribeAutoTips(this.nzFormDirective?.getInputObservable("nzAutoTips")),this.subscribeAutoTips(this.nzFormDirective?.getInputObservable("nzDisableAutoTips").pipe((0,ss.h)(()=>"default"===this.nzDisableAutoTips)))}get disableAutoTips(){return"default"!==this.nzDisableAutoTips?(0,Fa.sw)(this.nzDisableAutoTips):this.nzFormDirective?.nzDisableAutoTips}set nzHasFeedback(t){this._hasFeedback=(0,Fa.sw)(t),this.nzFormStatusService.formStatusChanges.next({status:this.status,hasFeedback:this._hasFeedback}),this.nzFormItemComponent&&this.nzFormItemComponent.setHasFeedback(this._hasFeedback)}get nzHasFeedback(){return this._hasFeedback}set nzValidateStatus(t){t instanceof re||t instanceof ms?(this.validateControl=t,this.validateString=null,this.watchControl()):t instanceof Hi?(this.validateControl=t.control,this.validateString=null,this.watchControl()):(this.validateString=t,this.validateControl=null,this.setStatus())}watchControl(){this.validateChanges.unsubscribe(),this.validateControl&&this.validateControl.statusChanges&&(this.validateChanges=this.validateControl.statusChanges.pipe((0,is.O)(null),(0,jc.R)(this.destroyed$)).subscribe(t=>{this.disableAutoTips||this.updateAutoErrorTip(),this.setStatus(),this.cdr.markForCheck()}))}setStatus(){this.status=this.getControlStatus(this.validateString),this.innerTip=this.getInnerTip(this.status),this.nzFormStatusService.formStatusChanges.next({status:this.status,hasFeedback:this.nzHasFeedback}),this.nzFormItemComponent&&(this.nzFormItemComponent.setWithHelpViaTips(!!this.innerTip),this.nzFormItemComponent.setStatus(this.status))}getControlStatus(t){let r;return r="warning"===t||this.validateControlStatus("INVALID","warning")?"warning":"error"===t||this.validateControlStatus("INVALID")?"error":"validating"===t||"pending"===t||this.validateControlStatus("PENDING")?"validating":"success"===t||this.validateControlStatus("VALID")?"success":"",r}validateControlStatus(t,r){if(this.validateControl){const{dirty:s,touched:l,status:d}=this.validateControl;return(!!s||!!l)&&(r?this.validateControl.hasError(r):d===t)}return!1}getInnerTip(t){switch(t){case"error":return!this.disableAutoTips&&this.autoErrorTip||this.nzErrorTip||null;case"validating":return this.nzValidatingTip||null;case"success":return this.nzSuccessTip||null;case"warning":return this.nzWarningTip||null;default:return null}}updateAutoErrorTip(){if(this.validateControl){const t=this.validateControl.errors||{};let r="";for(const s in t)if(t.hasOwnProperty(s)&&(r=t[s]?.[this.localeId]??this.nzAutoTips?.[this.localeId]?.[s]??this.nzAutoTips.default?.[s]??this.nzFormDirective?.nzAutoTips?.[this.localeId]?.[s]??this.nzFormDirective?.nzAutoTips.default?.[s]),r)break;this.autoErrorTip=r}}subscribeAutoTips(t){t?.pipe((0,jc.R)(this.destroyed$)).subscribe(()=>{this.disableAutoTips||(this.updateAutoErrorTip(),this.setStatus(),this.cdr.markForCheck())})}ngOnChanges(t){const{nzDisableAutoTips:r,nzAutoTips:s,nzSuccessTip:l,nzWarningTip:d,nzErrorTip:g,nzValidatingTip:E}=t;r||s?(this.updateAutoErrorTip(),this.setStatus()):(l||d||g||E)&&this.setStatus()}ngOnInit(){this.setStatus()}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}ngAfterContentInit(){!this.validateControl&&!this.validateString&&(this.nzValidateStatus=this.defaultValidateControl instanceof ts?this.defaultValidateControl.control:this.defaultValidateControl)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.SBq),h.Y36(V9,9),h.Y36(h.sBO),h.Y36(h.Qsj),h.Y36(k0),h.Y36(B9,8),h.Y36(Or))},n.\u0275cmp=h.Xpm({type:n,selectors:[["nz-form-control"]],contentQueries:function(t,r,s){if(1&t&&h.Suo(s,mt,5),2&t){let l;h.iGM(l=h.CRH())&&(r.defaultValidateControl=l.first)}},inputs:{nzSuccessTip:"nzSuccessTip",nzWarningTip:"nzWarningTip",nzErrorTip:"nzErrorTip",nzValidatingTip:"nzValidatingTip",nzExtra:"nzExtra",nzAutoTips:"nzAutoTips",nzDisableAutoTips:"nzDisableAutoTips",nzHasFeedback:"nzHasFeedback",nzValidateStatus:"nzValidateStatus"},exportAs:["nzFormControl"],features:[h._Bn([Or]),h.TTD],ngContentSelectors:L9,decls:5,vars:2,consts:[[1,"ant-form-item-control-input"],[1,"ant-form-item-control-input-content"],["class","ant-form-item-explain ant-form-item-explain-connected",4,"ngIf"],["class","ant-form-item-extra",4,"ngIf"],[1,"ant-form-item-explain","ant-form-item-explain-connected"],["role","alert",3,"ngClass"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],[1,"ant-form-item-extra"],[4,"nzStringTemplateOutlet"]],template:function(t,r){1&t&&(h.F$t(),h.TgZ(0,"div",0)(1,"div",1),h.Hsn(2),h.qZA()(),h.YNc(3,Ky,3,8,"div",2),h.YNc(4,Zy,2,1,"div",3)),2&t&&(h.xp6(3),h.Q6J("ngIf",r.innerTip),h.xp6(1),h.Q6J("ngIf",r.nzExtra))},dependencies:[oe.mk,oe.O5,Gh.f],encapsulation:2,data:{animation:[L]},changeDetection:0}),n})(),e_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[$h.vT,oe.ez,Wf.Jb,Ad.PV,Kf,P9.xu,Na.ud,Gh.T,Wf.Jb]}),n})();var xv=T(6616),t_=T(7044),n_=T(1811),r_=T(5577),Iv=T(1281);const __=new h.OlP("cdk-input-modality-detector-options"),w_={ignoreKeys:[18,17,224,91,16]},P0=(0,Na.i$)({passive:!0,capture:!0});let b_=(()=>{class n{constructor(t,r,s,l){this._platform=t,this._mostRecentTarget=null,this._modality=new Vt.X(null),this._lastTouchMs=0,this._onKeydown=d=>{this._options?.ignoreKeys?.some(g=>g===d.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,Na.sA)(d))},this._onMousedown=d=>{Date.now()-this._lastTouchMs<650||(this._modality.next(function v_(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}(d)?"keyboard":"mouse"),this._mostRecentTarget=(0,Na.sA)(d))},this._onTouchstart=d=>{!function y_(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}(d)?(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,Na.sA)(d)):this._modality.next("keyboard")},this._options={...w_,...l},this.modalityDetected=this._modality.pipe(function l_(n){return(0,ss.h)((e,t)=>n<=t)}(1)),this.modalityChanged=this.modalityDetected.pipe((0,Io.x)()),t.isBrowser&&r.runOutsideAngular(()=>{s.addEventListener("keydown",this._onKeydown,P0),s.addEventListener("mousedown",this._onMousedown,P0),s.addEventListener("touchstart",this._onTouchstart,P0)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,P0),document.removeEventListener("mousedown",this._onMousedown,P0),document.removeEventListener("touchstart",this._onTouchstart,P0))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Na.t4),h.LFG(h.R0b),h.LFG(oe.K0),h.LFG(__,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const S_=new h.OlP("cdk-focus-monitor-default-options"),Z5=(0,Na.i$)({passive:!0,capture:!0});let E_=(()=>{class n{constructor(t,r,s,l,d){this._ngZone=t,this._platform=r,this._inputModalityDetector=s,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Yc.x,this._rootNodeFocusAndBlurListener=g=>{for(let P=(0,Na.sA)(g);P;P=P.parentElement)"focus"===g.type?this._onFocus(g,P):this._onBlur(g,P)},this._document=l,this._detectionMode=d?.detectionMode||0}monitor(t,r=!1){const s=(0,Iv.fI)(t);if(!this._platform.isBrowser||1!==s.nodeType)return(0,bi.of)(null);const l=(0,Na.kV)(s)||this._getDocument(),d=this._elementInfo.get(s);if(d)return r&&(d.checkChildren=!0),d.subject;const g={checkChildren:r,subject:new Yc.x,rootNode:l};return this._elementInfo.set(s,g),this._registerGlobalListeners(g),g.subject}stopMonitoring(t){const r=(0,Iv.fI)(t),s=this._elementInfo.get(r);s&&(s.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(s))}focusVia(t,r,s){const l=(0,Iv.fI)(t);l===this._getDocument().activeElement?this._getClosestElementsInfo(l).forEach(([g,E])=>this._originChanged(g,r,E)):(this._setOrigin(r),"function"==typeof l.focus&&l.focus(s))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const s=this._elementInfo.get(r),l=(0,Na.sA)(t);!s||!s.checkChildren&&r!==l||this._originChanged(r,this._getFocusOrigin(l),s)}_onBlur(t,r){const s=this._elementInfo.get(r);!s||s.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(s,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,s=this._rootNodeFocusListenerCount.get(r)||0;s||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,Z5),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,Z5)}),this._rootNodeFocusListenerCount.set(r,s+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,jc.R)(this._stopInputModalityDetector)).subscribe(l=>{this._setOrigin(l,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const s=this._rootNodeFocusListenerCount.get(r);s>1?this._rootNodeFocusListenerCount.set(r,s-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Z5),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Z5),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,s){this._setClasses(t,r),this._emitOrigin(s,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((s,l)=>{(l===t||s.checkChildren&&l.contains(t))&&r.push([l,s])}),r}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:r,mostRecentModality:s}=this._inputModalityDetector;if("mouse"!==s||!r||r===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const l=t.labels;if(l)for(let d=0;d<l.length;d++)if(l[d].contains(r))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.R0b),h.LFG(Na.t4),h.LFG(b_),h.LFG(oe.K0,8),h.LFG(S_,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const M_=["nz-input-group-slot",""];function D_(n,e){if(1&n&&h._UZ(0,"span",2),2&n){const t=h.oxw();h.Q6J("nzType",t.icon)}}function T_(n,e){if(1&n&&(h.ynx(0),h._uU(1),h.BQk()),2&n){const t=h.oxw();h.xp6(1),h.Oqu(t.template)}}const G9=["*"];function x_(n,e){if(1&n&&h._UZ(0,"span",7),2&n){const t=h.oxw(2);h.Q6J("icon",t.nzAddOnBeforeIcon)("template",t.nzAddOnBefore)}}function I_(n,e){}function z_(n,e){if(1&n&&(h.TgZ(0,"span",8),h.YNc(1,I_,0,0,"ng-template",9),h.qZA()),2&n){const t=h.oxw(2),r=h.MAs(4);h.ekj("ant-input-affix-wrapper-disabled",t.disabled)("ant-input-affix-wrapper-sm",t.isSmall)("ant-input-affix-wrapper-lg",t.isLarge)("ant-input-affix-wrapper-focused",t.focused),h.Q6J("ngClass",t.affixInGroupStatusCls),h.xp6(1),h.Q6J("ngTemplateOutlet",r)}}function A_(n,e){if(1&n&&h._UZ(0,"span",7),2&n){const t=h.oxw(2);h.Q6J("icon",t.nzAddOnAfterIcon)("template",t.nzAddOnAfter)}}function k_(n,e){if(1&n&&(h.TgZ(0,"span",4),h.YNc(1,x_,1,2,"span",5),h.YNc(2,z_,2,10,"span",6),h.YNc(3,A_,1,2,"span",5),h.qZA()),2&n){const t=h.oxw(),r=h.MAs(6);h.xp6(1),h.Q6J("ngIf",t.nzAddOnBefore||t.nzAddOnBeforeIcon),h.xp6(1),h.Q6J("ngIf",t.isAffix||t.hasFeedback)("ngIfElse",r),h.xp6(1),h.Q6J("ngIf",t.nzAddOnAfter||t.nzAddOnAfterIcon)}}function P_(n,e){}function O_(n,e){if(1&n&&h.YNc(0,P_,0,0,"ng-template",9),2&n){h.oxw(2);const t=h.MAs(4);h.Q6J("ngTemplateOutlet",t)}}function N_(n,e){if(1&n&&h.YNc(0,O_,1,1,"ng-template",10),2&n){const t=h.oxw(),r=h.MAs(6);h.Q6J("ngIf",t.isAffix)("ngIfElse",r)}}function F_(n,e){if(1&n&&h._UZ(0,"span",13),2&n){const t=h.oxw(2);h.Q6J("icon",t.nzPrefixIcon)("template",t.nzPrefix)}}function R_(n,e){}function L_(n,e){if(1&n&&h._UZ(0,"nz-form-item-feedback-icon",16),2&n){const t=h.oxw(3);h.Q6J("status",t.status)}}function V_(n,e){if(1&n&&(h.TgZ(0,"span",14),h.YNc(1,L_,1,1,"nz-form-item-feedback-icon",15),h.qZA()),2&n){const t=h.oxw(2);h.Q6J("icon",t.nzSuffixIcon)("template",t.nzSuffix),h.xp6(1),h.Q6J("ngIf",t.isFeedback)}}function H_(n,e){if(1&n&&(h.YNc(0,F_,1,2,"span",11),h.YNc(1,R_,0,0,"ng-template",9),h.YNc(2,V_,2,3,"span",12)),2&n){const t=h.oxw(),r=h.MAs(6);h.Q6J("ngIf",t.nzPrefix||t.nzPrefixIcon),h.xp6(1),h.Q6J("ngTemplateOutlet",r),h.xp6(1),h.Q6J("ngIf",t.nzSuffix||t.nzSuffixIcon||t.isFeedback)}}function B_(n,e){if(1&n&&(h.TgZ(0,"span",18),h._UZ(1,"nz-form-item-feedback-icon",16),h.qZA()),2&n){const t=h.oxw(2);h.xp6(1),h.Q6J("status",t.status)}}function Y_(n,e){if(1&n&&(h.Hsn(0),h.YNc(1,B_,2,1,"span",17)),2&n){const t=h.oxw();h.xp6(1),h.Q6J("ngIf",!t.isAddOn&&!t.isAffix&&t.isFeedback)}}let W9=(()=>{class n{constructor(t,r,s,l,d,g,E){this.ngControl=t,this.renderer=r,this.elementRef=s,this.hostView=l,this.directionality=d,this.nzFormStatusService=g,this.nzFormNoStatusService=E,this.nzBorderless=!1,this.nzSize="default",this.nzStatus="",this._disabled=!1,this.disabled$=new Yc.x,this.dir="ltr",this.prefixCls="ant-input",this.status="",this.statusCls={},this.hasFeedback=!1,this.feedbackRef=null,this.components=[],this.destroy$=new Yc.x,r.addClass(s.nativeElement,"ant-input")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=null!=t&&"false"!=`${t}`}ngOnInit(){this.nzFormStatusService?.formStatusChanges.pipe((0,Io.x)((t,r)=>t.status===r.status&&t.hasFeedback===r.hasFeedback),(0,jc.R)(this.destroy$)).subscribe(({status:t,hasFeedback:r})=>{this.setStatusStyles(t,r)}),this.ngControl&&this.ngControl.statusChanges?.pipe((0,ss.h)(()=>null!==this.ngControl.disabled),(0,jc.R)(this.destroy$)).subscribe(()=>{this.disabled$.next(this.ngControl.disabled)}),this.dir=this.directionality.value,this.directionality.change?.pipe((0,jc.R)(this.destroy$)).subscribe(t=>{this.dir=t})}ngOnChanges(t){const{disabled:r,nzStatus:s}=t;r&&this.disabled$.next(this.disabled),s&&this.setStatusStyles(this.nzStatus,this.hasFeedback)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}setStatusStyles(t,r){this.status=t,this.hasFeedback=r,this.renderFeedbackIcon(),this.statusCls=(0,Fa.Zu)(this.prefixCls,t,r),Object.keys(this.statusCls).forEach(s=>{this.statusCls[s]?this.renderer.addClass(this.elementRef.nativeElement,s):this.renderer.removeClass(this.elementRef.nativeElement,s)})}renderFeedbackIcon(){if(!this.status||!this.hasFeedback||this.nzFormNoStatusService)return this.hostView.clear(),void(this.feedbackRef=null);this.feedbackRef=this.feedbackRef||this.hostView.createComponent(A0),this.feedbackRef.location.nativeElement.classList.add("ant-input-suffix"),this.feedbackRef.instance.status=this.status,this.feedbackRef.instance.updateIcon()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(mt,10),h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(h.s_b),h.Y36($h.Is,8),h.Y36(Or,8),h.Y36(yi,8))},n.\u0275dir=h.lG2({type:n,selectors:[["input","nz-input",""],["textarea","nz-input",""]],hostVars:11,hostBindings:function(t,r){2&t&&(h.uIk("disabled",r.disabled||null),h.ekj("ant-input-disabled",r.disabled)("ant-input-borderless",r.nzBorderless)("ant-input-lg","large"===r.nzSize)("ant-input-sm","small"===r.nzSize)("ant-input-rtl","rtl"===r.dir))},inputs:{nzBorderless:"nzBorderless",nzSize:"nzSize",nzStatus:"nzStatus",disabled:"disabled"},exportAs:["nzInput"],features:[h.TTD]}),(0,Wh.gn)([(0,Fa.yF)()],n.prototype,"nzBorderless",void 0),n})(),U_=(()=>{class n{constructor(){this.icon=null,this.type=null,this.template=null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["","nz-input-group-slot",""]],hostVars:6,hostBindings:function(t,r){2&t&&h.ekj("ant-input-group-addon","addon"===r.type)("ant-input-prefix","prefix"===r.type)("ant-input-suffix","suffix"===r.type)},inputs:{icon:"icon",type:"type",template:"template"},attrs:M_,ngContentSelectors:G9,decls:3,vars:2,consts:[["nz-icon","",3,"nzType",4,"ngIf"],[4,"nzStringTemplateOutlet"],["nz-icon","",3,"nzType"]],template:function(t,r){1&t&&(h.F$t(),h.YNc(0,D_,1,1,"span",0),h.YNc(1,T_,2,1,"ng-container",1),h.Hsn(2)),2&t&&(h.Q6J("ngIf",r.icon),h.xp6(1),h.Q6J("nzStringTemplateOutlet",r.template))},dependencies:[oe.O5,Ad.Ls,Gh.f],encapsulation:2,changeDetection:0}),n})(),j_=(()=>{class n{constructor(t,r,s,l,d,g,E){this.focusMonitor=t,this.elementRef=r,this.renderer=s,this.cdr=l,this.directionality=d,this.nzFormStatusService=g,this.nzFormNoStatusService=E,this.nzAddOnBeforeIcon=null,this.nzAddOnAfterIcon=null,this.nzPrefixIcon=null,this.nzSuffixIcon=null,this.nzStatus="",this.nzSize="default",this.nzSearch=!1,this.nzCompact=!1,this.isLarge=!1,this.isSmall=!1,this.isAffix=!1,this.isAddOn=!1,this.isFeedback=!1,this.focused=!1,this.disabled=!1,this.dir="ltr",this.prefixCls="ant-input",this.affixStatusCls={},this.groupStatusCls={},this.affixInGroupStatusCls={},this.status="",this.hasFeedback=!1,this.destroy$=new Yc.x}updateChildrenInputSize(){this.listOfNzInputDirective&&this.listOfNzInputDirective.forEach(t=>t.nzSize=this.nzSize)}ngOnInit(){this.nzFormStatusService?.formStatusChanges.pipe((0,Io.x)((t,r)=>t.status===r.status&&t.hasFeedback===r.hasFeedback),(0,jc.R)(this.destroy$)).subscribe(({status:t,hasFeedback:r})=>{this.setStatusStyles(t,r)}),this.focusMonitor.monitor(this.elementRef,!0).pipe((0,jc.R)(this.destroy$)).subscribe(t=>{this.focused=!!t,this.cdr.markForCheck()}),this.dir=this.directionality.value,this.directionality.change?.pipe((0,jc.R)(this.destroy$)).subscribe(t=>{this.dir=t})}ngAfterContentInit(){this.updateChildrenInputSize();const t=this.listOfNzInputDirective.changes.pipe((0,is.O)(this.listOfNzInputDirective));t.pipe((0,Rl.w)(r=>(0,hf.T)(t,...r.map(s=>s.disabled$))),(0,r_.z)(()=>t),(0,Ie.U)(r=>r.some(s=>s.disabled)),(0,jc.R)(this.destroy$)).subscribe(r=>{this.disabled=r,this.cdr.markForCheck()})}ngOnChanges(t){const{nzSize:r,nzSuffix:s,nzPrefix:l,nzPrefixIcon:d,nzSuffixIcon:g,nzAddOnAfter:E,nzAddOnBefore:P,nzAddOnAfterIcon:U,nzAddOnBeforeIcon:se,nzStatus:Re}=t;r&&(this.updateChildrenInputSize(),this.isLarge="large"===this.nzSize,this.isSmall="small"===this.nzSize),(s||l||d||g)&&(this.isAffix=!!(this.nzSuffix||this.nzPrefix||this.nzPrefixIcon||this.nzSuffixIcon)),(E||P||U||se)&&(this.isAddOn=!!(this.nzAddOnAfter||this.nzAddOnBefore||this.nzAddOnAfterIcon||this.nzAddOnBeforeIcon),this.nzFormNoStatusService?.noFormStatus?.next(this.isAddOn)),Re&&this.setStatusStyles(this.nzStatus,this.hasFeedback)}ngOnDestroy(){this.focusMonitor.stopMonitoring(this.elementRef),this.destroy$.next(),this.destroy$.complete()}setStatusStyles(t,r){this.status=t,this.hasFeedback=r,this.isFeedback=!!t&&r,this.isAffix=!!(this.nzSuffix||this.nzPrefix||this.nzPrefixIcon||this.nzSuffixIcon)||!this.isAddOn&&r,this.affixInGroupStatusCls=this.isAffix||this.isFeedback?this.affixStatusCls=(0,Fa.Zu)(`${this.prefixCls}-affix-wrapper`,t,r):{},this.cdr.markForCheck(),this.affixStatusCls=(0,Fa.Zu)(`${this.prefixCls}-affix-wrapper`,this.isAddOn?"":t,!this.isAddOn&&r),this.groupStatusCls=(0,Fa.Zu)(`${this.prefixCls}-group-wrapper`,this.isAddOn?t:"",!!this.isAddOn&&r);const l={...this.affixStatusCls,...this.groupStatusCls};Object.keys(l).forEach(d=>{l[d]?this.renderer.addClass(this.elementRef.nativeElement,d):this.renderer.removeClass(this.elementRef.nativeElement,d)})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(E_),h.Y36(h.SBq),h.Y36(h.Qsj),h.Y36(h.sBO),h.Y36($h.Is,8),h.Y36(Or,8),h.Y36(yi,8))},n.\u0275cmp=h.Xpm({type:n,selectors:[["nz-input-group"]],contentQueries:function(t,r,s){if(1&t&&h.Suo(s,W9,4),2&t){let l;h.iGM(l=h.CRH())&&(r.listOfNzInputDirective=l)}},hostVars:40,hostBindings:function(t,r){2&t&&h.ekj("ant-input-group-compact",r.nzCompact)("ant-input-search-enter-button",r.nzSearch)("ant-input-search",r.nzSearch)("ant-input-search-rtl","rtl"===r.dir)("ant-input-search-sm",r.nzSearch&&r.isSmall)("ant-input-search-large",r.nzSearch&&r.isLarge)("ant-input-group-wrapper",r.isAddOn)("ant-input-group-wrapper-rtl","rtl"===r.dir)("ant-input-group-wrapper-lg",r.isAddOn&&r.isLarge)("ant-input-group-wrapper-sm",r.isAddOn&&r.isSmall)("ant-input-affix-wrapper",r.isAffix&&!r.isAddOn)("ant-input-affix-wrapper-rtl","rtl"===r.dir)("ant-input-affix-wrapper-focused",r.isAffix&&r.focused)("ant-input-affix-wrapper-disabled",r.isAffix&&r.disabled)("ant-input-affix-wrapper-lg",r.isAffix&&!r.isAddOn&&r.isLarge)("ant-input-affix-wrapper-sm",r.isAffix&&!r.isAddOn&&r.isSmall)("ant-input-group",!r.isAffix&&!r.isAddOn)("ant-input-group-rtl","rtl"===r.dir)("ant-input-group-lg",!r.isAffix&&!r.isAddOn&&r.isLarge)("ant-input-group-sm",!r.isAffix&&!r.isAddOn&&r.isSmall)},inputs:{nzAddOnBeforeIcon:"nzAddOnBeforeIcon",nzAddOnAfterIcon:"nzAddOnAfterIcon",nzPrefixIcon:"nzPrefixIcon",nzSuffixIcon:"nzSuffixIcon",nzAddOnBefore:"nzAddOnBefore",nzAddOnAfter:"nzAddOnAfter",nzPrefix:"nzPrefix",nzStatus:"nzStatus",nzSuffix:"nzSuffix",nzSize:"nzSize",nzSearch:"nzSearch",nzCompact:"nzCompact"},exportAs:["nzInputGroup"],features:[h._Bn([yi]),h.TTD],ngContentSelectors:G9,decls:7,vars:2,consts:[["class","ant-input-wrapper ant-input-group",4,"ngIf","ngIfElse"],["noAddOnTemplate",""],["affixTemplate",""],["contentTemplate",""],[1,"ant-input-wrapper","ant-input-group"],["nz-input-group-slot","","type","addon",3,"icon","template",4,"ngIf"],["class","ant-input-affix-wrapper",3,"ant-input-affix-wrapper-disabled","ant-input-affix-wrapper-sm","ant-input-affix-wrapper-lg","ant-input-affix-wrapper-focused","ngClass",4,"ngIf","ngIfElse"],["nz-input-group-slot","","type","addon",3,"icon","template"],[1,"ant-input-affix-wrapper",3,"ngClass"],[3,"ngTemplateOutlet"],[3,"ngIf","ngIfElse"],["nz-input-group-slot","","type","prefix",3,"icon","template",4,"ngIf"],["nz-input-group-slot","","type","suffix",3,"icon","template",4,"ngIf"],["nz-input-group-slot","","type","prefix",3,"icon","template"],["nz-input-group-slot","","type","suffix",3,"icon","template"],[3,"status",4,"ngIf"],[3,"status"],["nz-input-group-slot","","type","suffix",4,"ngIf"],["nz-input-group-slot","","type","suffix"]],template:function(t,r){if(1&t&&(h.F$t(),h.YNc(0,k_,4,4,"span",0),h.YNc(1,N_,1,2,"ng-template",null,1,h.W1O),h.YNc(3,H_,3,3,"ng-template",null,2,h.W1O),h.YNc(5,Y_,2,1,"ng-template",null,3,h.W1O)),2&t){const s=h.MAs(2);h.Q6J("ngIf",r.isAddOn)("ngIfElse",s)}},dependencies:[oe.mk,oe.O5,oe.tP,A0,U_],encapsulation:2,changeDetection:0}),(0,Wh.gn)([(0,Fa.yF)()],n.prototype,"nzSearch",void 0),(0,Wh.gn)([(0,Fa.yF)()],n.prototype,"nzCompact",void 0),n})(),$_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[$h.vT,oe.ez,Ad.PV,Na.ud,Gh.T,qf]}),n})();const G_=[{path:"",loadChildren:()=>T.e(328).then(T.bind(T,2328)).then(n=>n.HomeModule)},{path:"dashboard",loadChildren:()=>T.e(637).then(T.bind(T,5637)).then(n=>n.DashboardModule)},{path:"game",component:(()=>{class n{constructor(t,r){this.fb=t,this.gameService=r,this.gameForm=this.fb.group({name:["",Ve.required],valueType:["",Ve.required]})}saveGame(){this.gameService.create(this.gameForm.value)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(na),h.Y36(k9))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-game"]],decls:13,vars:3,consts:[["nz-form","",3,"nzLayout","formGroup","ngSubmit"],["nzErrorTip","Please input your username!"],["nzPrefixIcon","user"],["formControlName","name","nz-input","","placeholder","Username"],["nzErrorTip","Please input your Password!"],["nzPrefixIcon","lock"],["formControlName","valueType","nz-input","","type","text","placeholder","Password"],["nz-button","","nzType","primary",3,"disabled"]],template:function(t,r){1&t&&(h.TgZ(0,"form",0),h.NdJ("ngSubmit",function(){return r.saveGame()}),h.TgZ(1,"nz-form-item")(2,"nz-form-control",1)(3,"nz-input-group",2),h._UZ(4,"input",3),h.qZA()()(),h.TgZ(5,"nz-form-item")(6,"nz-form-control",4)(7,"nz-input-group",5),h._UZ(8,"input",6),h.qZA()()(),h.TgZ(9,"nz-form-item")(10,"nz-form-control")(11,"button",7),h._uU(12,"Log in"),h.qZA()()()()),2&t&&(h.Q6J("nzLayout","inline")("formGroup",r.gameForm),h.xp6(11),h.Q6J("disabled",r.gameForm.invalid))},dependencies:[gs,Le,me,ot,zs,Hi,Wf.t3,Wf.SK,B9,V9,Jy,xv.ix,t_.w,n_.dQ,W9,j_]}),n})()}];let W_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[F.Bz.forRoot(G_),F.Bz]}),n})();var K_=T(8247);let q_=(()=>{class n{constructor(t){this.auth=t,this.userState$=t.authState}login(){this.auth.signInWithPopup(new K_.Q).then(t=>{console.log(t),console.log("You have been successfully logged in!")}).catch(t=>{console.log(t)})}logout(){this.auth.signOut().then(()=>{console.log("You have been successfully logged out!")})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(jh))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Z_=(()=>{class n{constructor(t){this.authService=t,this.title="planning-poker"}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(q_))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,"container"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0),h._UZ(1,"router-outlet"),h.qZA())},dependencies:[F.lC],styles:[".container[_ngcontent-%COMP%]{min-height:calc(100vh - 125px)}"]}),n})();var Q_=T(2537);const K9_firebaseConfig={apiKey:"AIzaSyC2UvR3xQ5sfP7FUqDvObrM2wcQ5xF3W_0",authDomain:"planning-poker-a0f5e.firebaseapp.com",projectId:"planning-poker-a0f5e",storageBucket:"planning-poker-a0f5e.appspot.com",messagingSenderId:"531377685696",appId:"1:531377685696:web:fe7bbfa90a4c09d7d91925",measurementId:"G-XW55T8VC1Z"};var X_=T(529);let J_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[oe.ez,oo,e_,Ad.PV,xv.sL,$_]}),n})();function q9(n){return new h.vHH(3e3,!1)}function Ow(){return typeof window<"u"&&typeof window.document<"u"}function zv(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function kd(n){switch(n.length){case 0:return new o;case 1:return n[0];default:return new a(n)}}function Z9(n,e,t,r,s=new Map,l=new Map){const d=[],g=[];let E=-1,P=null;if(r.forEach(U=>{const se=U.get("offset"),Re=se==E,Xe=Re&&P||new Map;U.forEach((tt,Et)=>{let Ut=Et,xn=tt;if("offset"!==Et)switch(Ut=e.normalizePropertyName(Ut,d),xn){case"!":xn=s.get(Et);break;case Au:xn=l.get(Et);break;default:xn=e.normalizeStyleValue(Et,Ut,xn,d)}Xe.set(Ut,xn)}),Re||g.push(Xe),P=Xe,E=se}),d.length)throw function Cw(n){return new h.vHH(3502,!1)}();return g}function Av(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&kv(t,"start",n)));break;case"done":n.onDone(()=>r(t&&kv(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&kv(t,"destroy",n)))}}function kv(n,e,t){const l=Pv(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),d=n._data;return null!=d&&(l._data=d),l}function Pv(n,e,t,r,s="",l=0,d){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:s,totalTime:l,disabled:!!d}}function Wc(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function Q9(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let Ov=(n,e)=>!1,X9=(n,e,t)=>[],J9=null;function Nv(n){const e=n.parentNode||n.host;return e===J9?null:e}(zv()||typeof Element<"u")&&(Ow()?(J9=(()=>document.documentElement)(),Ov=(n,e)=>{for(;e;){if(e===n)return!0;e=Nv(e)}return!1}):Ov=(n,e)=>n.contains(e),X9=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Kh=null,ey=!1;const ty=Ov,ny=X9;let ry=(()=>{class n{validateStyleProperty(t){return function Fw(n){Kh||(Kh=function Rw(){return typeof document<"u"?document.body:null}()||{},ey=!!Kh.style&&"WebkitAppearance"in Kh.style);let e=!0;return Kh.style&&!function Nw(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Kh.style,!e&&ey&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Kh.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return ty(t,r)}getParentElement(t){return Nv(t)}query(t,r,s){return ny(t,r,s)}computeStyle(t,r,s){return s||""}animate(t,r,s,l,d,g=[],E){return new o(s,l)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Fv=(()=>{class n{}return n.NOOP=new ry,n})();const Rv="ng-enter",Q5="ng-leave",X5="ng-trigger",J5=".ng-trigger",oy="ng-animating",Lv=".ng-animating";function D4(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Vv(parseFloat(e[1]),e[2])}function Vv(n,e){return"s"===e?1e3*n:n}function eg(n,e,t){return n.hasOwnProperty("duration")?n:function Hw(n,e,t){let s,l=0,d="";if("string"==typeof n){const g=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===g)return e.push(q9()),{duration:0,delay:0,easing:""};s=Vv(parseFloat(g[1]),g[2]);const E=g[3];null!=E&&(l=Vv(parseFloat(E),g[4]));const P=g[5];P&&(d=P)}else s=n;if(!t){let g=!1,E=e.length;s<0&&(e.push(function ew(){return new h.vHH(3100,!1)}()),g=!0),l<0&&(e.push(function tw(){return new h.vHH(3101,!1)}()),g=!0),g&&e.splice(E,0,q9())}return{duration:s,delay:l,easing:d}}(n,e,t)}function tp(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function sy(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Pd(n,e=new Map,t){if(t)for(let[r,s]of t)e.set(r,s);for(let[r,s]of n)e.set(r,s);return e}function cy(n,e,t){return t?e+":"+t+";":""}function ly(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=cy(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=cy(0,jw(t),n.style[t]));n.setAttribute("style",e)}function S1(n,e,t){n.style&&(e.forEach((r,s)=>{const l=Bv(s);t&&!t.has(s)&&t.set(s,n.style[l]),n.style[l]=r}),zv()&&ly(n))}function qh(n,e){n.style&&(e.forEach((t,r)=>{const s=Bv(r);n.style[s]=""}),zv()&&ly(n))}function np(n){return Array.isArray(n)?1==n.length?n[0]:Mv(n):n}const Hv=new RegExp("{{\\s*(.+?)\\s*}}","g");function uy(n){let e=[];if("string"==typeof n){let t;for(;t=Hv.exec(n);)e.push(t[1]);Hv.lastIndex=0}return e}function rp(n,e,t){const r=n.toString(),s=r.replace(Hv,(l,d)=>{let g=e[d];return null==g&&(t.push(function rw(n){return new h.vHH(3003,!1)}()),g=""),g.toString()});return s==r?n:s}function tg(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Uw=/-+([a-z0-9])/g;function Bv(n){return n.replace(Uw,(...e)=>e[1].toUpperCase())}function jw(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Kc(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function iw(n){return new h.vHH(3004,!1)}()}}function dy(n,e){return window.getComputedStyle(n)[e]}function Zw(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function Qw(n,e,t){if(":"==n[0]){const E=function Xw(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function yw(n){return new h.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof E)return void e.push(E);n=E}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function vw(n){return new h.vHH(3015,!1)}()),e;const s=r[1],l=r[2],d=r[3];e.push(hy(s,d));"<"==l[0]&&!("*"==s&&"*"==d)&&e.push(hy(d,s))}(r,t,e)):t.push(n),t}const og=new Set(["true","1"]),sg=new Set(["false","0"]);function hy(n,e){const t=og.has(n)||sg.has(n),r=og.has(e)||sg.has(e);return(s,l)=>{let d="*"==n||n==s,g="*"==e||e==l;return!d&&t&&"boolean"==typeof s&&(d=s?og.has(n):sg.has(n)),!g&&r&&"boolean"==typeof l&&(g=l?og.has(e):sg.has(e)),d&&g}}const Jw=new RegExp("s*:selfs*,?","g");function Yv(n,e,t,r){return new eb(n).build(e,t,r)}class eb{constructor(e){this._driver=e}build(e,t,r){const s=new rb(t);return this._resetContextStyleTimingState(s),Kc(this,np(e),s)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,s=t.depCount=0;const l=[],d=[];return"@"==e.name.charAt(0)&&t.errors.push(function sw(){return new h.vHH(3006,!1)}()),e.definitions.forEach(g=>{if(this._resetContextStyleTimingState(t),0==g.type){const E=g,P=E.name;P.toString().split(/\s*,\s*/).forEach(U=>{E.name=U,l.push(this.visitState(E,t))}),E.name=P}else if(1==g.type){const E=this.visitTransition(g,t);r+=E.queryCount,s+=E.depCount,d.push(E)}else t.errors.push(function aw(){return new h.vHH(3007,!1)}())}),{type:7,name:e.name,states:l,transitions:d,queryCount:r,depCount:s,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),s=e.options&&e.options.params||null;if(r.containsDynamicStyles){const l=new Set,d=s||{};r.styles.forEach(g=>{g instanceof Map&&g.forEach(E=>{uy(E).forEach(P=>{d.hasOwnProperty(P)||l.add(P)})})}),l.size&&(tg(l.values()),t.errors.push(function cw(n,e){return new h.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:s?{params:s}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Kc(this,np(e.animation),t);return{type:1,matchers:Zw(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Zh(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Kc(this,r,t)),options:Zh(e.options)}}visitGroup(e,t){const r=t.currentTime;let s=0;const l=e.steps.map(d=>{t.currentTime=r;const g=Kc(this,d,t);return s=Math.max(s,t.currentTime),g});return t.currentTime=s,{type:3,steps:l,options:Zh(e.options)}}visitAnimate(e,t){const r=function ob(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Uv(eg(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=Uv(0,0,"");return l.dynamic=!0,l.strValue=t,l}const s=eg(t,e);return Uv(s.duration,s.delay,s.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let s,l=e.styles?e.styles:fr({});if(5==l.type)s=this.visitKeyframes(l,t);else{let d=e.styles,g=!1;if(!d){g=!0;const P={};r.easing&&(P.easing=r.easing),d=fr(P)}t.currentTime+=r.duration+r.delay;const E=this.visitStyle(d,t);E.isEmptyStep=g,s=E}return t.currentAnimateTimings=null,{type:4,timings:r,style:s,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],s=Array.isArray(e.styles)?e.styles:[e.styles];for(let g of s)"string"==typeof g?g===Au?r.push(g):t.errors.push(new h.vHH(3002,!1)):r.push(sy(g));let l=!1,d=null;return r.forEach(g=>{if(g instanceof Map&&(g.has("easing")&&(d=g.get("easing"),g.delete("easing")),!l))for(let E of g.values())if(E.toString().indexOf("{{")>=0){l=!0;break}}),{type:6,styles:r,easing:d,offset:e.offset,containsDynamicStyles:l,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let s=t.currentTime,l=t.currentTime;r&&l>0&&(l-=r.duration+r.delay),e.styles.forEach(d=>{"string"!=typeof d&&d.forEach((g,E)=>{const P=t.collectedStyles.get(t.currentQuerySelector),U=P.get(E);let se=!0;U&&(l!=s&&l>=U.startTime&&s<=U.endTime&&(t.errors.push(function uw(n,e,t,r,s){return new h.vHH(3010,!1)}()),se=!1),l=U.startTime),se&&P.set(E,{startTime:l,endTime:s}),t.options&&function Yw(n,e,t){const r=e.params||{},s=uy(n);s.length&&s.forEach(l=>{r.hasOwnProperty(l)||t.push(function nw(n){return new h.vHH(3001,!1)}())})}(g,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function dw(){return new h.vHH(3011,!1)}()),r;let l=0;const d=[];let g=!1,E=!1,P=0;const U=e.steps.map(xn=>{const nr=this._makeStyleAst(xn,t);let Gn=null!=nr.offset?nr.offset:function ib(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(nr.styles),Rn=0;return null!=Gn&&(l++,Rn=nr.offset=Gn),E=E||Rn<0||Rn>1,g=g||Rn<P,P=Rn,d.push(Rn),nr});E&&t.errors.push(function hw(){return new h.vHH(3012,!1)}()),g&&t.errors.push(function fw(){return new h.vHH(3200,!1)}());const se=e.steps.length;let Re=0;l>0&&l<se?t.errors.push(function pw(){return new h.vHH(3202,!1)}()):0==l&&(Re=1/(se-1));const Xe=se-1,tt=t.currentTime,Et=t.currentAnimateTimings,Ut=Et.duration;return U.forEach((xn,nr)=>{const Gn=Re>0?nr==Xe?1:Re*nr:d[nr],Rn=Gn*Ut;t.currentTime=tt+Et.delay+Rn,Et.duration=Rn,this._validateStyleAst(xn,t),xn.offset=Gn,r.styles.push(xn)}),r}visitReference(e,t){return{type:8,animation:Kc(this,np(e.animation),t),options:Zh(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Zh(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Zh(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,s=e.options||{};t.queryCount++,t.currentQuery=e;const[l,d]=function tb(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Jw,"")),n=n.replace(/@\*/g,J5).replace(/@\w+/g,t=>J5+"-"+t.slice(1)).replace(/:animating/g,Lv),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+l:l,Wc(t.collectedStyles,t.currentQuerySelector,new Map);const g=Kc(this,np(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:l,limit:s.limit||0,optional:!!s.optional,includeSelf:d,animation:g,originalSelector:e.selector,options:Zh(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function mw(){return new h.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:eg(e.timings,t.errors,!0);return{type:12,animation:Kc(this,np(e.animation),t),timings:r,options:null}}}class rb{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Zh(n){return n?(n=tp(n)).params&&(n.params=function nb(n){return n?tp(n):null}(n.params)):n={},n}function Uv(n,e,t){return{duration:n,delay:e,easing:t}}function jv(n,e,t,r,s,l,d=null,g=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:s,delay:l,totalTime:s+l,easing:d,subTimeline:g}}class ag{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const cb=new RegExp(":enter","g"),ub=new RegExp(":leave","g");function $v(n,e,t,r,s,l=new Map,d=new Map,g,E,P=[]){return(new db).buildKeyframes(n,e,t,r,s,l,d,g,E,P)}class db{buildKeyframes(e,t,r,s,l,d,g,E,P,U=[]){P=P||new ag;const se=new Gv(e,t,P,s,l,U,[]);se.options=E;const Re=E.delay?D4(E.delay):0;se.currentTimeline.delayNextStep(Re),se.currentTimeline.setStyles([d],null,se.errors,E),Kc(this,r,se);const Xe=se.timelines.filter(tt=>tt.containsAnimation());if(Xe.length&&g.size){let tt;for(let Et=Xe.length-1;Et>=0;Et--){const Ut=Xe[Et];if(Ut.element===t){tt=Ut;break}}tt&&!tt.allowOnlyTimelineStyles()&&tt.setStyles([g],null,se.errors,E)}return Xe.length?Xe.map(tt=>tt.buildKeyframes()):[jv(t,[],[],[],0,Re,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const s=t.createSubContext(e.options),l=t.currentTimeline.currentTime,d=this._visitSubInstructions(r,s,s.options);l!=d&&t.transformIntoNewTimeline(d)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const s of e){const l=s?.delay;if(l){const d="number"==typeof l?l:D4(rp(l,s?.params??{},t.errors));r.delayNextStep(d)}}}_visitSubInstructions(e,t,r){let l=t.currentTimeline.currentTime;const d=null!=r.duration?D4(r.duration):null,g=null!=r.delay?D4(r.delay):null;return 0!==d&&e.forEach(E=>{const P=t.appendInstructionToTimeline(E,d,g);l=Math.max(l,P.duration+P.delay)}),l}visitReference(e,t){t.updateOptions(e.options,!0),Kc(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let s=t;const l=e.options;if(l&&(l.params||l.delay)&&(s=t.createSubContext(l),s.transformIntoNewTimeline(),null!=l.delay)){6==s.previousNode.type&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=cg);const d=D4(l.delay);s.delayNextStep(d)}e.steps.length&&(e.steps.forEach(d=>Kc(this,d,s)),s.currentTimeline.applyStylesToKeyframe(),s.subContextCount>r&&s.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let s=t.currentTimeline.currentTime;const l=e.options&&e.options.delay?D4(e.options.delay):0;e.steps.forEach(d=>{const g=t.createSubContext(e.options);l&&g.delayNextStep(l),Kc(this,d,g),s=Math.max(s,g.currentTimeline.currentTime),r.push(g.currentTimeline)}),r.forEach(d=>t.currentTimeline.mergeTimelineCollectedStyles(d)),t.transformIntoNewTimeline(s),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return eg(t.params?rp(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),s=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),s.snapshotCurrentStyles());const l=e.style;5==l.type?this.visitKeyframes(l,t):(t.incrementTime(r.duration),this.visitStyle(l,t),s.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,s=t.currentAnimateTimings;!s&&r.hasCurrentStyleProperties()&&r.forwardFrame();const l=s&&s.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(l):r.setStyles(e.styles,l,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,s=t.currentTimeline.duration,l=r.duration,g=t.createSubContext().currentTimeline;g.easing=r.easing,e.styles.forEach(E=>{g.forwardTime((E.offset||0)*l),g.setStyles(E.styles,E.easing,t.errors,t.options),g.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(g),t.transformIntoNewTimeline(s+l),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,s=e.options||{},l=s.delay?D4(s.delay):0;l&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=cg);let d=r;const g=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!s.optional,t.errors);t.currentQueryTotal=g.length;let E=null;g.forEach((P,U)=>{t.currentQueryIndex=U;const se=t.createSubContext(e.options,P);l&&se.delayNextStep(l),P===t.element&&(E=se.currentTimeline),Kc(this,e.animation,se),se.currentTimeline.applyStylesToKeyframe(),d=Math.max(d,se.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(d),E&&(t.currentTimeline.mergeTimelineCollectedStyles(E),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,s=t.currentTimeline,l=e.timings,d=Math.abs(l.duration),g=d*(t.currentQueryTotal-1);let E=d*t.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":E=g-E;break;case"full":E=r.currentStaggerTime}const U=t.currentTimeline;E&&U.delayNextStep(E);const se=U.currentTime;Kc(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=s.currentTime-se+(s.startTime-r.currentTimeline.startTime)}}const cg={};class Gv{constructor(e,t,r,s,l,d,g,E){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=s,this._leaveClassName=l,this.errors=d,this.timelines=g,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=cg,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=E||new lg(this._driver,t,0),g.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let s=this.options;null!=r.duration&&(s.duration=D4(r.duration)),null!=r.delay&&(s.delay=D4(r.delay));const l=r.params;if(l){let d=s.params;d||(d=this.options.params={}),Object.keys(l).forEach(g=>{(!t||!d.hasOwnProperty(g))&&(d[g]=rp(l[g],d,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(s=>{r[s]=t[s]})}}return e}createSubContext(e=null,t,r){const s=t||this.element,l=new Gv(this._driver,s,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(s,r||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(e),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(e){return this.previousNode=cg,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const s={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},l=new hb(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,s,e.stretchStartingKeyframe);return this.timelines.push(l),s}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,s,l,d){let g=[];if(s&&g.push(this.element),e.length>0){e=(e=e.replace(cb,"."+this._enterClassName)).replace(ub,"."+this._leaveClassName);let P=this._driver.query(this.element,e,1!=r);0!==r&&(P=r<0?P.slice(P.length+r,P.length):P.slice(0,r)),g.push(...P)}return!l&&0==g.length&&d.push(function gw(n){return new h.vHH(3014,!1)}()),g}}class lg{constructor(e,t,r,s){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=s,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new lg(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Au),this._currentKeyframe.set(t,Au);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,s){t&&this._previousKeyframe.set("easing",t);const l=s&&s.params||{},d=function fb(n,e){const t=new Map;let r;return n.forEach(s=>{if("*"===s){r=r||e.keys();for(let l of r)t.set(l,Au)}else Pd(s,t)}),t}(e,this._globalTimelineStyles);for(let[g,E]of d){const P=rp(E,l,r);this._pendingStyles.set(g,P),this._localTimelineStyles.has(g)||this._backFill.set(g,this._globalTimelineStyles.get(g)??Au),this._updateStyle(g,P)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const s=this._styleSummary.get(r);(!s||t.time>s.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let s=[];this._keyframes.forEach((g,E)=>{const P=Pd(g,new Map,this._backFill);P.forEach((U,se)=>{"!"===U?e.add(se):U===Au&&t.add(se)}),r||P.set("offset",E/this.duration),s.push(P)});const l=e.size?tg(e.values()):[],d=t.size?tg(t.values()):[];if(r){const g=s[0],E=new Map(g);g.set("offset",0),E.set("offset",1),s=[g,E]}return jv(this.element,s,l,d,this.duration,this.startTime,this.easing,!1)}}class hb extends lg{constructor(e,t,r,s,l,d,g=!1){super(e,t,d.delay),this.keyframes=r,this.preStyleProps=s,this.postStyleProps=l,this._stretchStartingKeyframe=g,this.timings={duration:d.duration,delay:d.delay,easing:d.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:s}=this.timings;if(this._stretchStartingKeyframe&&t){const l=[],d=r+t,g=t/d,E=Pd(e[0]);E.set("offset",0),l.push(E);const P=Pd(e[0]);P.set("offset",my(g)),l.push(P);const U=e.length-1;for(let se=1;se<=U;se++){let Re=Pd(e[se]);const Xe=Re.get("offset");Re.set("offset",my((t+Xe*r)/d)),l.push(Re)}r=d,t=0,s="",e=l}return jv(this.element,e,this.preStyleProps,this.postStyleProps,r,t,s,!0)}}function my(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class Wv{}const pb=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class mb extends Wv{normalizePropertyName(e,t){return Bv(e)}normalizeStyleValue(e,t,r,s){let l="";const d=r.toString().trim();if(pb.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)l="px";else{const g=r.match(/^[+-]?[\d\.]+([a-z]*)$/);g&&0==g[1].length&&s.push(function ow(n,e){return new h.vHH(3005,!1)}())}return d+l}}function gy(n,e,t,r,s,l,d,g,E,P,U,se,Re){return{type:0,element:n,triggerName:e,isRemovalTransition:s,fromState:t,fromStyles:l,toState:r,toStyles:d,timelines:g,queriedElements:E,preStyleProps:P,postStyleProps:U,totalTime:se,errors:Re}}const Kv={};class vy{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,s){return function gb(n,e,t,r,s){return n.some(l=>l(e,t,r,s))}(this.ast.matchers,e,t,r,s)}buildStyles(e,t,r){let s=this._stateStyles.get("*");return void 0!==e&&(s=this._stateStyles.get(e?.toString())||s),s?s.buildStyles(t,r):new Map}build(e,t,r,s,l,d,g,E,P,U){const se=[],Re=this.ast.options&&this.ast.options.params||Kv,tt=this.buildStyles(r,g&&g.params||Kv,se),Et=E&&E.params||Kv,Ut=this.buildStyles(s,Et,se),xn=new Set,nr=new Map,Gn=new Map,Rn="void"===s,rr={params:vb(Et,Re),delay:this.ast.options?.delay},er=U?[]:$v(e,t,this.ast.animation,l,d,tt,Ut,rr,P,se);let Lr=0;if(er.forEach(T4=>{Lr=Math.max(T4.duration+T4.delay,Lr)}),se.length)return gy(t,this._triggerName,r,s,Rn,tt,Ut,[],[],nr,Gn,Lr,se);er.forEach(T4=>{const x4=T4.element,ky=Wc(nr,x4,new Set);T4.preStyleProps.forEach(Qh=>ky.add(Qh));const op=Wc(Gn,x4,new Set);T4.postStyleProps.forEach(Qh=>op.add(Qh)),x4!==t&&xn.add(x4)});const Ra=tg(xn.values());return gy(t,this._triggerName,r,s,Rn,tt,Ut,er,Ra,nr,Gn,Lr)}}function vb(n,e){const t=tp(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class yb{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,s=tp(this.defaultParams);return Object.keys(e).forEach(l=>{const d=e[l];null!==d&&(s[l]=d)}),this.styles.styles.forEach(l=>{"string"!=typeof l&&l.forEach((d,g)=>{d&&(d=rp(d,s,t));const E=this.normalizer.normalizePropertyName(g,t);d=this.normalizer.normalizeStyleValue(g,E,d,t),r.set(E,d)})}),r}}class wb{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(s=>{this.states.set(s.name,new yb(s.style,s.options&&s.options.params||{},r))}),yy(this.states,"true","1"),yy(this.states,"false","0"),t.transitions.forEach(s=>{this.transitionFactories.push(new vy(e,s,this.states))}),this.fallbackTransition=function bb(n,e,t){return new vy(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(d,g)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,s){return this.transitionFactories.find(d=>d.match(e,t,r,s))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function yy(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const Cb=new ag;class Sb{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],l=Yv(this._driver,t,r,[]);if(r.length)throw function Sw(n){return new h.vHH(3503,!1)}();this._animations.set(e,l)}_buildPlayer(e,t,r){const s=e.element,l=Z9(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(s,l,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const s=[],l=this._animations.get(e);let d;const g=new Map;if(l?(d=$v(this._driver,t,l,Rv,Q5,new Map,new Map,r,Cb,s),d.forEach(U=>{const se=Wc(g,U.element,new Map);U.postStyleProps.forEach(Re=>se.set(Re,null))})):(s.push(function Ew(){return new h.vHH(3300,!1)}()),d=[]),s.length)throw function Mw(n){return new h.vHH(3504,!1)}();g.forEach((U,se)=>{U.forEach((Re,Xe)=>{U.set(Xe,this._driver.computeStyle(se,Xe,Au))})});const P=kd(d.map(U=>{const se=g.get(U.element);return this._buildPlayer(U,new Map,se)}));return this._playersById.set(e,P),P.onDestroy(()=>this.destroy(e)),this.players.push(P),P}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function Dw(n){return new h.vHH(3301,!1)}();return t}listen(e,t,r,s){const l=Pv(t,"","","");return Av(this._getPlayer(e),r,l,s),()=>{}}command(e,t,r,s){if("register"==r)return void this.register(e,s[0]);if("create"==r)return void this.create(e,t,s[0]||{});const l=this._getPlayer(e);switch(r){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(s[0]));break;case"destroy":this.destroy(e)}}}const _y="ng-animate-queued",qv="ng-animate-disabled",xb=[],wy={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ib={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Hl="__ng_removed";class Zv{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function Pb(n){return n??null}(r?e.value:e),r){const l=tp(e);delete l.value,this.options=l}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(s=>{null==r[s]&&(r[s]=t[s])})}}}const ip="void",Qv=new Zv(ip);class zb{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Bl(t,this._hostClassName)}listen(e,t,r,s){if(!this._triggers.has(t))throw function Tw(n,e){return new h.vHH(3302,!1)}();if(null==r||0==r.length)throw function xw(n){return new h.vHH(3303,!1)}();if(!function Ob(n){return"start"==n||"done"==n}(r))throw function Iw(n,e){return new h.vHH(3400,!1)}();const l=Wc(this._elementListeners,e,[]),d={name:t,phase:r,callback:s};l.push(d);const g=Wc(this._engine.statesByElement,e,new Map);return g.has(t)||(Bl(e,X5),Bl(e,X5+"-"+t),g.set(t,Qv)),()=>{this._engine.afterFlush(()=>{const E=l.indexOf(d);E>=0&&l.splice(E,1),this._triggers.has(t)||g.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function zw(n){return new h.vHH(3401,!1)}();return t}trigger(e,t,r,s=!0){const l=this._getTrigger(t),d=new Xv(this.id,t,e);let g=this._engine.statesByElement.get(e);g||(Bl(e,X5),Bl(e,X5+"-"+t),this._engine.statesByElement.set(e,g=new Map));let E=g.get(t);const P=new Zv(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&E&&P.absorbOptions(E.options),g.set(t,P),E||(E=Qv),P.value!==ip&&E.value===P.value){if(!function Rb(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let s=0;s<t.length;s++){const l=t[s];if(!e.hasOwnProperty(l)||n[l]!==e[l])return!1}return!0}(E.params,P.params)){const Et=[],Ut=l.matchStyles(E.value,E.params,Et),xn=l.matchStyles(P.value,P.params,Et);Et.length?this._engine.reportError(Et):this._engine.afterFlush(()=>{qh(e,Ut),S1(e,xn)})}return}const Re=Wc(this._engine.playersByElement,e,[]);Re.forEach(Et=>{Et.namespaceId==this.id&&Et.triggerName==t&&Et.queued&&Et.destroy()});let Xe=l.matchTransition(E.value,P.value,e,P.params),tt=!1;if(!Xe){if(!s)return;Xe=l.fallbackTransition,tt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:Xe,fromState:E,toState:P,player:d,isFallbackTransition:tt}),tt||(Bl(e,_y),d.onStart(()=>{O0(e,_y)})),d.onDone(()=>{let Et=this.players.indexOf(d);Et>=0&&this.players.splice(Et,1);const Ut=this._engine.playersByElement.get(e);if(Ut){let xn=Ut.indexOf(d);xn>=0&&Ut.splice(xn,1)}}),this.players.push(d),Re.push(d),d}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(s=>s.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,J5,!0);r.forEach(s=>{if(s[Hl])return;const l=this._engine.fetchNamespacesByElement(s);l.size?l.forEach(d=>d.triggerLeaveAnimation(s,t,!1,!0)):this.clearElementCache(s)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(s=>this.clearElementCache(s)))}triggerLeaveAnimation(e,t,r,s){const l=this._engine.statesByElement.get(e),d=new Map;if(l){const g=[];if(l.forEach((E,P)=>{if(d.set(P,E.value),this._triggers.has(P)){const U=this.trigger(e,P,ip,s);U&&g.push(U)}}),g.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,d),r&&kd(g).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const s=new Set;t.forEach(l=>{const d=l.name;if(s.has(d))return;s.add(d);const E=this._triggers.get(d).fallbackTransition,P=r.get(d)||Qv,U=new Zv(ip),se=new Xv(this.id,d,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:d,transition:E,fromState:P,toState:U,player:se,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let s=!1;if(r.totalAnimations){const l=r.players.length?r.playersByQueriedElement.get(e):[];if(l&&l.length)s=!0;else{let d=e;for(;d=d.parentNode;)if(r.statesByElement.get(d)){s=!0;break}}}if(this.prepareLeaveAnimationListeners(e),s)r.markElementAsRemoved(this.id,e,!1,t);else{const l=e[Hl];(!l||l===wy)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Bl(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const s=r.player;if(s.destroyed)return;const l=r.element,d=this._elementListeners.get(l);d&&d.forEach(g=>{if(g.name==r.triggerName){const E=Pv(l,r.triggerName,r.fromState.value,r.toState.value);E._data=e,Av(r.player,g.phase,E,g.callback)}}),s.markedForDestroy?this._engine.afterFlush(()=>{s.destroy()}):t.push(r)}),this._queue=[],t.sort((r,s)=>{const l=r.transition.ast.depCount,d=s.transition.ast.depCount;return 0==l||0==d?l-d:this._engine.driver.containsElement(r.element,s.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class Ab{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,l)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new zb(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,s=this.namespacesByHostElement;if(r.length-1>=0){let d=!1,g=this.driver.getParentElement(t);for(;g;){const E=s.get(g);if(E){const P=r.indexOf(E);r.splice(P+1,0,e),d=!0;break}g=this.driver.getParentElement(g)}d||r.unshift(e)}else r.push(e);return s.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let s=this._namespaceLookup[e];s&&s.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const s=this._namespaceList.indexOf(r);s>=0&&this._namespaceList.splice(s,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let s of r.values())if(s.namespaceId){const l=this._fetchNamespace(s.namespaceId);l&&t.add(l)}return t}trigger(e,t,r,s){if(ug(t)){const l=this._fetchNamespace(e);if(l)return l.trigger(t,r,s),!0}return!1}insertNode(e,t,r,s){if(!ug(t))return;const l=t[Hl];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const d=this.collectedLeaveElements.indexOf(t);d>=0&&this.collectedLeaveElements.splice(d,1)}if(e){const d=this._fetchNamespace(e);d&&d.insertNode(t,r)}s&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Bl(e,qv)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),O0(e,qv))}removeNode(e,t,r,s){if(ug(t)){const l=e?this._fetchNamespace(e):null;if(l?l.removeNode(t,s):this.markElementAsRemoved(e,t,!1,s),r){const d=this.namespacesByHostElement.get(t);d&&d.id!==e&&d.removeNode(t,s)}}else this._onRemovalComplete(t,s)}markElementAsRemoved(e,t,r,s,l){this.collectedLeaveElements.push(t),t[Hl]={namespaceId:e,setForRemoval:s,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:l}}listen(e,t,r,s,l){return ug(t)?this._fetchNamespace(e).listen(t,r,s,l):()=>{}}_buildInstruction(e,t,r,s,l){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,s,e.fromState.options,e.toState.options,t,l)}destroyInnerAnimations(e){let t=this.driver.query(e,J5,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Lv,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return kd(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Hl];if(t&&t.setForRemoval){if(e[Hl]=wy,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(qv)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,s)=>this._balanceNamespaceList(r,s)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Bl(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let s=0;s<r.length;s++)r[s]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?kd(t).onDone(()=>{r.forEach(s=>s())}):r.forEach(s=>s())}}reportError(e){throw function Aw(n){return new h.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new ag,s=[],l=new Map,d=[],g=new Map,E=new Map,P=new Map,U=new Set;this.disabledNodes.forEach(An=>{U.add(An);const qn=this.driver.query(An,".ng-animate-queued",!0);for(let or=0;or<qn.length;or++)U.add(qn[or])});const se=this.bodyNode,Re=Array.from(this.statesByElement.keys()),Xe=Sy(Re,this.collectedEnterElements),tt=new Map;let Et=0;Xe.forEach((An,qn)=>{const or=Rv+Et++;tt.set(qn,or),An.forEach(Gr=>Bl(Gr,or))});const Ut=[],xn=new Set,nr=new Set;for(let An=0;An<this.collectedLeaveElements.length;An++){const qn=this.collectedLeaveElements[An],or=qn[Hl];or&&or.setForRemoval&&(Ut.push(qn),xn.add(qn),or.hasAnimation?this.driver.query(qn,".ng-star-inserted",!0).forEach(Gr=>xn.add(Gr)):nr.add(qn))}const Gn=new Map,Rn=Sy(Re,Array.from(xn));Rn.forEach((An,qn)=>{const or=Q5+Et++;Gn.set(qn,or),An.forEach(Gr=>Bl(Gr,or))}),e.push(()=>{Xe.forEach((An,qn)=>{const or=tt.get(qn);An.forEach(Gr=>O0(Gr,or))}),Rn.forEach((An,qn)=>{const or=Gn.get(qn);An.forEach(Gr=>O0(Gr,or))}),Ut.forEach(An=>{this.processLeaveNode(An)})});const rr=[],er=[];for(let An=this._namespaceList.length-1;An>=0;An--)this._namespaceList[An].drainQueuedTransitions(t).forEach(or=>{const Gr=or.player,Is=or.element;if(rr.push(Gr),this.collectedEnterElements.length){const ma=Is[Hl];if(ma&&ma.setForMove){if(ma.previousTriggersValues&&ma.previousTriggersValues.has(or.triggerName)){const Xh=ma.previousTriggersValues.get(or.triggerName),Yl=this.statesByElement.get(or.element);if(Yl&&Yl.has(or.triggerName)){const fg=Yl.get(or.triggerName);fg.value=Xh,Yl.set(or.triggerName,fg)}}return void Gr.destroy()}}const E1=!se||!this.driver.containsElement(se,Is),qc=Gn.get(Is),Od=tt.get(Is),ho=this._buildInstruction(or,r,Od,qc,E1);if(ho.errors&&ho.errors.length)return void er.push(ho);if(E1)return Gr.onStart(()=>qh(Is,ho.fromStyles)),Gr.onDestroy(()=>S1(Is,ho.toStyles)),void s.push(Gr);if(or.isFallbackTransition)return Gr.onStart(()=>qh(Is,ho.fromStyles)),Gr.onDestroy(()=>S1(Is,ho.toStyles)),void s.push(Gr);const Ny=[];ho.timelines.forEach(ma=>{ma.stretchStartingKeyframe=!0,this.disabledNodes.has(ma.element)||Ny.push(ma)}),ho.timelines=Ny,r.append(Is,ho.timelines),d.push({instruction:ho,player:Gr,element:Is}),ho.queriedElements.forEach(ma=>Wc(g,ma,[]).push(Gr)),ho.preStyleProps.forEach((ma,Xh)=>{if(ma.size){let Yl=E.get(Xh);Yl||E.set(Xh,Yl=new Set),ma.forEach((fg,t9)=>Yl.add(t9))}}),ho.postStyleProps.forEach((ma,Xh)=>{let Yl=P.get(Xh);Yl||P.set(Xh,Yl=new Set),ma.forEach((fg,t9)=>Yl.add(t9))})});if(er.length){const An=[];er.forEach(qn=>{An.push(function kw(n,e){return new h.vHH(3505,!1)}())}),rr.forEach(qn=>qn.destroy()),this.reportError(An)}const Lr=new Map,Ra=new Map;d.forEach(An=>{const qn=An.element;r.has(qn)&&(Ra.set(qn,qn),this._beforeAnimationBuild(An.player.namespaceId,An.instruction,Lr))}),s.forEach(An=>{const qn=An.element;this._getPreviousPlayers(qn,!1,An.namespaceId,An.triggerName,null).forEach(Gr=>{Wc(Lr,qn,[]).push(Gr),Gr.destroy()})});const T4=Ut.filter(An=>My(An,E,P)),x4=new Map;Cy(x4,this.driver,nr,P,Au).forEach(An=>{My(An,E,P)&&T4.push(An)});const op=new Map;Xe.forEach((An,qn)=>{Cy(op,this.driver,new Set(An),E,"!")}),T4.forEach(An=>{const qn=x4.get(An),or=op.get(An);x4.set(An,new Map([...Array.from(qn?.entries()??[]),...Array.from(or?.entries()??[])]))});const Qh=[],Py=[],Oy={};d.forEach(An=>{const{element:qn,player:or,instruction:Gr}=An;if(r.has(qn)){if(U.has(qn))return or.onDestroy(()=>S1(qn,Gr.toStyles)),or.disabled=!0,or.overrideTotalTime(Gr.totalTime),void s.push(or);let Is=Oy;if(Ra.size>1){let qc=qn;const Od=[];for(;qc=qc.parentNode;){const ho=Ra.get(qc);if(ho){Is=ho;break}Od.push(qc)}Od.forEach(ho=>Ra.set(ho,Is))}const E1=this._buildAnimation(or.namespaceId,Gr,Lr,l,op,x4);if(or.setRealPlayer(E1),Is===Oy)Qh.push(or);else{const qc=this.playersByElement.get(Is);qc&&qc.length&&(or.parentPlayer=kd(qc)),s.push(or)}}else qh(qn,Gr.fromStyles),or.onDestroy(()=>S1(qn,Gr.toStyles)),Py.push(or),U.has(qn)&&s.push(or)}),Py.forEach(An=>{const qn=l.get(An.element);if(qn&&qn.length){const or=kd(qn);An.setRealPlayer(or)}}),s.forEach(An=>{An.parentPlayer?An.syncPlayerEvents(An.parentPlayer):An.destroy()});for(let An=0;An<Ut.length;An++){const qn=Ut[An],or=qn[Hl];if(O0(qn,Q5),or&&or.hasAnimation)continue;let Gr=[];if(g.size){let E1=g.get(qn);E1&&E1.length&&Gr.push(...E1);let qc=this.driver.query(qn,Lv,!0);for(let Od=0;Od<qc.length;Od++){let ho=g.get(qc[Od]);ho&&ho.length&&Gr.push(...ho)}}const Is=Gr.filter(E1=>!E1.destroyed);Is.length?Nb(this,qn,Is):this.processLeaveNode(qn)}return Ut.length=0,Qh.forEach(An=>{this.players.push(An),An.onDone(()=>{An.destroy();const qn=this.players.indexOf(An);this.players.splice(qn,1)}),An.play()}),Qh}elementContainsData(e,t){let r=!1;const s=t[Hl];return s&&s.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,s,l){let d=[];if(t){const g=this.playersByQueriedElement.get(e);g&&(d=g)}else{const g=this.playersByElement.get(e);if(g){const E=!l||l==ip;g.forEach(P=>{P.queued||!E&&P.triggerName!=s||d.push(P)})}}return(r||s)&&(d=d.filter(g=>!(r&&r!=g.namespaceId||s&&s!=g.triggerName))),d}_beforeAnimationBuild(e,t,r){const l=t.element,d=t.isRemovalTransition?void 0:e,g=t.isRemovalTransition?void 0:t.triggerName;for(const E of t.timelines){const P=E.element,U=P!==l,se=Wc(r,P,[]);this._getPreviousPlayers(P,U,d,g,t.toState).forEach(Xe=>{const tt=Xe.getRealPlayer();tt.beforeDestroy&&tt.beforeDestroy(),Xe.destroy(),se.push(Xe)})}qh(l,t.fromStyles)}_buildAnimation(e,t,r,s,l,d){const g=t.triggerName,E=t.element,P=[],U=new Set,se=new Set,Re=t.timelines.map(tt=>{const Et=tt.element;U.add(Et);const Ut=Et[Hl];if(Ut&&Ut.removedBeforeQueried)return new o(tt.duration,tt.delay);const xn=Et!==E,nr=function Fb(n){const e=[];return Ey(n,e),e}((r.get(Et)||xb).map(Lr=>Lr.getRealPlayer())).filter(Lr=>!!Lr.element&&Lr.element===Et),Gn=l.get(Et),Rn=d.get(Et),rr=Z9(0,this._normalizer,0,tt.keyframes,Gn,Rn),er=this._buildPlayer(tt,rr,nr);if(tt.subTimeline&&s&&se.add(Et),xn){const Lr=new Xv(e,g,Et);Lr.setRealPlayer(er),P.push(Lr)}return er});P.forEach(tt=>{Wc(this.playersByQueriedElement,tt.element,[]).push(tt),tt.onDone(()=>function kb(n,e,t){let r=n.get(e);if(r){if(r.length){const s=r.indexOf(t);r.splice(s,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,tt.element,tt))}),U.forEach(tt=>Bl(tt,oy));const Xe=kd(Re);return Xe.onDestroy(()=>{U.forEach(tt=>O0(tt,oy)),S1(E,t.toStyles)}),se.forEach(tt=>{Wc(s,tt,[]).push(Xe)}),Xe}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new o(e.duration,e.delay)}}class Xv{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new o,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(s=>Av(e,r,void 0,s))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Wc(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function ug(n){return n&&1===n.nodeType}function by(n,e){const t=n.style.display;return n.style.display=e??"none",t}function Cy(n,e,t,r,s){const l=[];t.forEach(E=>l.push(by(E)));const d=[];r.forEach((E,P)=>{const U=new Map;E.forEach(se=>{const Re=e.computeStyle(P,se,s);U.set(se,Re),(!Re||0==Re.length)&&(P[Hl]=Ib,d.push(P))}),n.set(P,U)});let g=0;return t.forEach(E=>by(E,l[g++])),d}function Sy(n,e){const t=new Map;if(n.forEach(g=>t.set(g,[])),0==e.length)return t;const s=new Set(e),l=new Map;function d(g){if(!g)return 1;let E=l.get(g);if(E)return E;const P=g.parentNode;return E=t.has(P)?P:s.has(P)?1:d(P),l.set(g,E),E}return e.forEach(g=>{const E=d(g);1!==E&&t.get(E).push(g)}),t}function Bl(n,e){n.classList?.add(e)}function O0(n,e){n.classList?.remove(e)}function Nb(n,e,t){kd(t).onDone(()=>n.processLeaveNode(e))}function Ey(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof a?Ey(r.players,e):e.push(r)}}function My(n,e,t){const r=t.get(n);if(!r)return!1;let s=e.get(n);return s?r.forEach(l=>s.add(l)):e.set(n,r),t.delete(n),!0}class dg{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(s,l)=>{},this._transitionEngine=new Ab(e,t,r),this._timelineEngine=new Sb(e,t,r),this._transitionEngine.onRemovalComplete=(s,l)=>this.onRemovalComplete(s,l)}registerTrigger(e,t,r,s,l){const d=e+"-"+s;let g=this._triggerCache[d];if(!g){const E=[],U=Yv(this._driver,l,E,[]);if(E.length)throw function bw(n,e){return new h.vHH(3404,!1)}();g=function _b(n,e,t){return new wb(n,e,t)}(s,U,this._normalizer),this._triggerCache[d]=g}this._transitionEngine.registerTrigger(t,s,g)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,s){this._transitionEngine.insertNode(e,t,r,s)}onRemove(e,t,r,s){this._transitionEngine.removeNode(e,t,s||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,s){if("@"==r.charAt(0)){const[l,d]=Q9(r);this._timelineEngine.command(l,t,d,s)}else this._transitionEngine.trigger(e,t,r,s)}listen(e,t,r,s,l){if("@"==r.charAt(0)){const[d,g]=Q9(r);return this._timelineEngine.listen(d,t,g,l)}return this._transitionEngine.listen(e,t,r,s,l)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Vb=(()=>{class n{constructor(t,r,s){this._element=t,this._startStyles=r,this._endStyles=s,this._state=0;let l=n.initialStylesByElement.get(t);l||n.initialStylesByElement.set(t,l=new Map),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&S1(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(S1(this._element,this._initialStyles),this._endStyles&&(S1(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(qh(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(qh(this._element,this._endStyles),this._endStyles=null),S1(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Jv(n){let e=null;return n.forEach((t,r)=>{(function Hb(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class Dy{constructor(e,t,r,s){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=s,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,s)=>{"offset"!==s&&e.set(s,this._finished?r:dy(this.element,s))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Bb{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return ty(e,t)}getParentElement(e){return Nv(e)}query(e,t,r){return ny(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,s,l,d=[]){const E={duration:r,delay:s,fill:0==s?"both":"forwards"};l&&(E.easing=l);const P=new Map,U=d.filter(Xe=>Xe instanceof Dy);(function $w(n,e){return 0===n||0===e})(r,s)&&U.forEach(Xe=>{Xe.currentSnapshot.forEach((tt,Et)=>P.set(Et,tt))});let se=function Bw(n){return n.length?n[0]instanceof Map?n:n.map(e=>sy(e)):[]}(t).map(Xe=>Pd(Xe));se=function Gw(n,e,t){if(t.size&&e.length){let r=e[0],s=[];if(t.forEach((l,d)=>{r.has(d)||s.push(d),r.set(d,l)}),s.length)for(let l=1;l<e.length;l++){let d=e[l];s.forEach(g=>d.set(g,dy(n,g)))}}return e}(e,se,P);const Re=function Lb(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=Jv(e[0]),e.length>1&&(r=Jv(e[e.length-1]))):e instanceof Map&&(t=Jv(e)),t||r?new Vb(n,t,r):null}(e,se);return new Dy(e,se,E,Re)}}let Yb=(()=>{class n extends Sv{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:h.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const s=Array.isArray(t)?Mv(t):t;return Ty(this._renderer,null,r,"register",[s]),new Ub(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.FYo),h.LFG(oe.K0))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class Ub extends class Ev{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new jb(this._id,e,t||{},this._renderer)}}class jb{constructor(e,t,r,s){this.id=e,this.element=t,this._renderer=s,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Ty(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Ty(n,e,t,r,s){return n.setProperty(e,`@@${t}:${r}`,s)}const xy="@.disabled";let $b=(()=>{class n{constructor(t,r,s){this.delegate=t,this.engine=r,this._zone=s,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(l,d)=>{const g=d?.parentNode(l);g&&d.removeChild(g,l)}}createRenderer(t,r){const l=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let U=this._rendererCache.get(l);return U||(U=new Iy("",l,this.engine),this._rendererCache.set(l,U)),U}const d=r.id,g=r.id+"-"+this._currentId;this._currentId++,this.engine.register(g,t);const E=U=>{Array.isArray(U)?U.forEach(E):this.engine.registerTrigger(d,g,t,U.name,U)};return r.data.animation.forEach(E),new Gb(this,g,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,s){t>=0&&t<this._microtaskId?this._zone.run(()=>r(s)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[d,g]=l;d(g)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,s]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.FYo),h.LFG(dg),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class Iy{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?s=>t.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,s=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,s)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,s){this.delegate.setAttribute(e,t,r,s)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,s){this.delegate.setStyle(e,t,r,s)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==xy?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Gb extends Iy{constructor(e,t,r,s){super(t,r,s),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==xy?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const s=function Wb(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let l=t.slice(1),d="";return"@"!=l.charAt(0)&&([l,d]=function Kb(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(l)),this.engine.listen(this.namespaceId,s,l,d,g=>{this.factory.scheduleListenerCallback(g._data||-1,r,g)})}return this.delegate.listen(e,t,r)}}let qb=(()=>{class n extends dg{constructor(t,r,s,l){super(t.body,r,s)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(oe.K0),h.LFG(Fv),h.LFG(Wv),h.LFG(h.z2F))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const zy=[{provide:Sv,useClass:Yb},{provide:Wv,useFactory:function Zb(){return new mb}},{provide:dg,useClass:qb},{provide:h.FYo,useFactory:function Qb(n,e,t){return new $b(n,e,t)},deps:[v.se,dg,h.R0b]}],e9=[{provide:Fv,useFactory:()=>new Bb},{provide:h.QbO,useValue:"BrowserAnimations"},...zy],Ay=[{provide:Fv,useClass:ry},{provide:h.QbO,useValue:"NoopAnimations"},...zy];let Xb=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?Ay:e9}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:e9,imports:[v.b2]}),n})(),Jb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n,bootstrap:[Z_]}),n.\u0275inj=h.cJS({imports:[v.b2,Q_.m,W_,Ci.hO.initializeApp(K9_firebaseConfig),fv,xv.sL,X_.JF,J_,Xb]}),n})();(0,h.G48)(),v.q6().bootstrapModule(Jb).catch(n=>console.error(n))},5867:(Pt,ke,T)=>{T.d(ke,{C6:()=>v.getApps,Mq:()=>v.getApp});var v=T(9681);(0,v.registerVersion)("firebase","9.13.0","app")},127:(Pt,ke,T)=>{T.d(ke,{Z:()=>v.Z});var v=T(3942);v.Z.registerVersion("firebase","9.13.0","app-compat")},5881:(Pt,ke,T)=>{T.r(ke);var v=T(5861),h=T(3942),F=T(8247),oe=T(2090),ee=(T(9681),T(1877),T(4859));function V(){return window}function K(){return(K=(0,v.Z)(function*(fe,G,ce){var We;const{BuildInfo:Dt}=V();(0,F.ap)(G.sessionId,"AuthEvent did not contain a session ID");const tn=yield ze(G.sessionId),nn={};return(0,F.aq)()?nn.ibi=Dt.packageName:(0,F.ar)()?nn.apn=Dt.packageName:(0,F.as)(fe,"operation-not-supported-in-this-environment"),Dt.displayName&&(nn.appDisplayName=Dt.displayName),nn.sessionId=tn,(0,F.at)(fe,ce,G.type,void 0,null!==(We=G.eventId)&&void 0!==We?We:void 0,nn)})).apply(this,arguments)}function _e(){return(_e=(0,v.Z)(function*(fe){const{BuildInfo:G}=V(),ce={};(0,F.aq)()?ce.iosBundleId=G.packageName:(0,F.ar)()?ce.androidPackageName=G.packageName:(0,F.as)(fe,"operation-not-supported-in-this-environment"),yield(0,F.au)(fe,ce)})).apply(this,arguments)}function Ue(){return(Ue=(0,v.Z)(function*(fe,G,ce){const{cordova:We}=V();let Dt=()=>{};try{yield new Promise((tn,nn)=>{let de=null;function ae(){var Je;tn();const Wt=null===(Je=We.plugins.browsertab)||void 0===Je?void 0:Je.close;"function"==typeof Wt&&Wt(),"function"==typeof ce?.close&&ce.close()}function re(){de||(de=window.setTimeout(()=>{nn((0,F.aw)(fe,"redirect-cancelled-by-user"))},2e3))}function xe(){"visible"===document?.visibilityState&&re()}G.addPassiveListener(ae),document.addEventListener("resume",re,!1),(0,F.ar)()&&document.addEventListener("visibilitychange",xe,!1),Dt=()=>{G.removePassiveListener(ae),document.removeEventListener("resume",re,!1),document.removeEventListener("visibilitychange",xe,!1),de&&window.clearTimeout(de)}})}finally{Dt()}})).apply(this,arguments)}function ze(fe){return ft.apply(this,arguments)}function ft(){return(ft=(0,v.Z)(function*(fe){const G=at(fe),ce=yield crypto.subtle.digest("SHA-256",G);return Array.from(new Uint8Array(ce)).map(Dt=>Dt.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function at(fe){if((0,F.ap)(/[0-9a-zA-Z]+/.test(fe),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(fe);const G=new ArrayBuffer(fe.length),ce=new Uint8Array(G);for(let We=0;We<fe.length;We++)ce[We]=fe.charCodeAt(We);return ce}class Se extends F.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(G=>{this.resolveInialized=G})}addPassiveListener(G){this.passiveListeners.add(G)}removePassiveListener(G){this.passiveListeners.delete(G)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(G){return this.resolveInialized(),this.passiveListeners.forEach(ce=>ce(G)),super.onEvent(G)}initialized(){var G=this;return(0,v.Z)(function*(){yield G.initPromise})()}}function Me(fe){return je.apply(this,arguments)}function je(){return(je=(0,v.Z)(function*(fe){const G=yield Pe()._get(Ve(fe));return G&&(yield Pe()._remove(Ve(fe))),G})).apply(this,arguments)}function Te(){const fe=[],G="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let ce=0;ce<20;ce++){const We=Math.floor(Math.random()*G.length);fe.push(G.charAt(We))}return fe.join("")}function Pe(){return(0,F.az)(F.b)}function Ve(fe){return(0,F.aA)("authEvent",fe.config.apiKey,fe.name)}function pt(fe){if(!fe?.includes("?"))return{};const[G,...ce]=fe.split("?");return(0,oe.zd)(ce.join("?"))}function $e(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,F.aw)("no-auth-event")}}function gn(){var fe;return(null===(fe=self?.location)||void 0===fe?void 0:fe.protocol)||null}function Qn(fe=(0,oe.z$)()){return!("file:"!==gn()&&"ionic:"!==gn()&&"capacitor:"!==gn()||!fe.toLowerCase().match(/iphone|ipad|ipod|android/))}function Nr(){try{const fe=self.localStorage,G=F.aI();if(fe)return fe.setItem(G,"1"),fe.removeItem(G),!function mr(fe=(0,oe.z$)()){return function kn(){return(0,oe.w1)()&&11===document?.documentMode}()||function vn(fe=(0,oe.z$)()){return/Edge\/\d+/.test(fe)}(fe)}()||(0,oe.hl)()}catch{return yn()&&(0,oe.hl)()}return!1}function yn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function sr(){return(function en(){return"http:"===gn()||"https:"===gn()}()||(0,oe.ru)()||Qn())&&!function pr(){return(0,oe.b$)()||(0,oe.UG)()}()&&Nr()&&!yn()}function Vr(){return Qn()&&typeof document<"u"}function jt(){return(jt=(0,v.Z)(function*(){return!!Vr()&&new Promise(fe=>{const G=setTimeout(()=>{fe(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(G),fe(!0)})})})).apply(this,arguments)}const tr={LOCAL:"local",NONE:"none",SESSION:"session"},Lt=F.ax,Yt="persistence";function Xt(fe){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,v.Z)(function*(fe){yield fe._initializationPromise;const G=me(),ce=F.aA(Yt,fe.config.apiKey,fe.name);G&&G.setItem(ce,fe._getPersistence())})).apply(this,arguments)}function me(){var fe;try{return(null===(fe=function br(){return typeof window<"u"?window:null}())||void 0===fe?void 0:fe.sessionStorage)||null}catch{return null}}const ot=F.ax;class rt{constructor(){this.browserResolver=F.az(F.k),this.cordovaResolver=F.az(class wt{constructor(){this._redirectPersistence=F.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=F.aB,this._overrideRedirectResult=F.aC}_initialize(G){var ce=this;return(0,v.Z)(function*(){const We=G._key();let Dt=ce.eventManagers.get(We);return Dt||(Dt=new Se(G),ce.eventManagers.set(We,Dt),ce.attachCallbackListeners(G,Dt)),Dt})()}_openPopup(G){(0,F.as)(G,"operation-not-supported-in-this-environment")}_openRedirect(G,ce,We,Dt){var tn=this;return(0,v.Z)(function*(){!function be(fe){var G,ce,We,Dt,tn,nn,de,ae,re,xe;const Je=V();(0,F.ax)("function"==typeof(null===(G=Je?.universalLinks)||void 0===G?void 0:G.subscribe),fe,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,F.ax)(typeof(null===(ce=Je?.BuildInfo)||void 0===ce?void 0:ce.packageName)<"u",fe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,F.ax)("function"==typeof(null===(tn=null===(Dt=null===(We=Je?.cordova)||void 0===We?void 0:We.plugins)||void 0===Dt?void 0:Dt.browsertab)||void 0===tn?void 0:tn.openUrl),fe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,F.ax)("function"==typeof(null===(ae=null===(de=null===(nn=Je?.cordova)||void 0===nn?void 0:nn.plugins)||void 0===de?void 0:de.browsertab)||void 0===ae?void 0:ae.isAvailable),fe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,F.ax)("function"==typeof(null===(xe=null===(re=Je?.cordova)||void 0===re?void 0:re.InAppBrowser)||void 0===xe?void 0:xe.open),fe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(G);const nn=yield tn._initialize(G);yield nn.initialized(),nn.resetRedirect(),(0,F.aD)(),yield tn._originValidation(G);const de=function Le(fe,G,ce=null){return{type:G,eventId:ce,urlResponse:null,sessionId:Te(),postBody:null,tenantId:fe.tenantId,error:(0,F.aw)(fe,"no-auth-event")}}(G,We,Dt);yield function ht(fe,G){return Pe()._set(Ve(fe),G)}(G,de);const ae=yield function Y(fe,G,ce){return K.apply(this,arguments)}(G,de,ce),re=yield function Ie(fe){const{cordova:G}=V();return new Promise(ce=>{G.plugins.browsertab.isAvailable(We=>{let Dt=null;We?G.plugins.browsertab.openUrl(fe):Dt=G.InAppBrowser.open(fe,(0,F.av)()?"_blank":"_system","location=yes"),ce(Dt)})})}(ae);return function ie(fe,G,ce){return Ue.apply(this,arguments)}(G,nn,re)})()}_isIframeWebStorageSupported(G,ce){throw new Error("Method not implemented.")}_originValidation(G){const ce=G._key();return this.originValidationPromises[ce]||(this.originValidationPromises[ce]=function J(fe){return _e.apply(this,arguments)}(G)),this.originValidationPromises[ce]}attachCallbackListeners(G,ce){const{universalLinks:We,handleOpenURL:Dt,BuildInfo:tn}=V(),nn=setTimeout((0,v.Z)(function*(){yield Me(G),ce.onEvent($e())}),500),de=function(){var xe=(0,v.Z)(function*(Je){clearTimeout(nn);const Wt=yield Me(G);let Sn=null;Wt&&Je?.url&&(Sn=function He(fe,G){var ce,We;const Dt=function Ke(fe){const G=pt(fe),ce=G.link?decodeURIComponent(G.link):void 0,We=pt(ce).link,Dt=G.deep_link_id?decodeURIComponent(G.deep_link_id):void 0;return pt(Dt).link||Dt||We||ce||fe}(G);if(Dt.includes("/__/auth/callback")){const tn=pt(Dt),nn=tn.firebaseError?function Fe(fe){try{return JSON.parse(fe)}catch{return null}}(decodeURIComponent(tn.firebaseError)):null,de=null===(We=null===(ce=nn?.code)||void 0===ce?void 0:ce.split("auth/"))||void 0===We?void 0:We[1],ae=de?(0,F.aw)(de):null;return ae?{type:fe.type,eventId:fe.eventId,tenantId:fe.tenantId,error:ae,urlResponse:null,sessionId:null,postBody:null}:{type:fe.type,eventId:fe.eventId,tenantId:fe.tenantId,sessionId:fe.sessionId,urlResponse:Dt,postBody:null}}return null}(Wt,Je.url)),ce.onEvent(Sn||$e())});return function(Wt){return xe.apply(this,arguments)}}();typeof We<"u"&&"function"==typeof We.subscribe&&We.subscribe(null,de);const ae=Dt,re=`${tn.packageName.toLowerCase()}://`;V().handleOpenURL=function(){var xe=(0,v.Z)(function*(Je){if(Je.toLowerCase().startsWith(re)&&de({url:Je}),"function"==typeof ae)try{ae(Je)}catch(Wt){console.error(Wt)}});return function(Je){return xe.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=F.a,this._completeRedirectFn=F.aB,this._overrideRedirectResult=F.aC}_initialize(G){var ce=this;return(0,v.Z)(function*(){return yield ce.selectUnderlyingResolver(),ce.assertedUnderlyingResolver._initialize(G)})()}_openPopup(G,ce,We,Dt){var tn=this;return(0,v.Z)(function*(){return yield tn.selectUnderlyingResolver(),tn.assertedUnderlyingResolver._openPopup(G,ce,We,Dt)})()}_openRedirect(G,ce,We,Dt){var tn=this;return(0,v.Z)(function*(){return yield tn.selectUnderlyingResolver(),tn.assertedUnderlyingResolver._openRedirect(G,ce,We,Dt)})()}_isIframeWebStorageSupported(G,ce){this.assertedUnderlyingResolver._isIframeWebStorageSupported(G,ce)}_originValidation(G){return this.assertedUnderlyingResolver._originValidation(G)}get _shouldInitProactively(){return Vr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ot(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var G=this;return(0,v.Z)(function*(){if(G.underlyingResolver)return;const ce=yield function gr(){return jt.apply(this,arguments)}();G.underlyingResolver=ce?G.cordovaResolver:G.browserResolver})()}}function an(fe){return fe.unwrap()}function jn(fe){return Oe(fe)}function Oe(fe){const{_tokenResponse:G}=fe instanceof oe.ZR?fe.customData:fe;if(!G)return null;if(!(fe instanceof oe.ZR)&&"temporaryProof"in G&&"phoneNumber"in G)return F.P.credentialFromResult(fe);const ce=G.providerId;if(!ce||ce===F.o.PASSWORD)return null;let We;switch(ce){case F.o.GOOGLE:We=F.Q;break;case F.o.FACEBOOK:We=F.N;break;case F.o.GITHUB:We=F.T;break;case F.o.TWITTER:We=F.W;break;default:const{oauthIdToken:Dt,oauthAccessToken:tn,oauthTokenSecret:nn,pendingToken:de,nonce:ae}=G;return tn||nn||Dt||de?de?ce.startsWith("saml.")?F.aL._create(ce,de):F.J._fromParams({providerId:ce,signInMethod:ce,pendingToken:de,idToken:Dt,accessToken:tn}):new F.U(ce).credential({idToken:Dt,accessToken:tn,rawNonce:ae}):null}return fe instanceof oe.ZR?We.credentialFromError(fe):We.credentialFromResult(fe)}function et(fe,G){return G.catch(ce=>{throw ce instanceof oe.ZR&&function $t(fe,G){var ce,We;const Dt=null===(ce=G.customData)||void 0===ce?void 0:ce._tokenResponse;if("auth/multi-factor-auth-required"===(null===(We=G)||void 0===We?void 0:We.code))G.resolver=new Qt(fe,F.an(fe,G));else if(Dt){const tn=Oe(G),nn=G;tn&&(nn.credential=tn,nn.tenantId=Dt.tenantId||void 0,nn.email=Dt.email||void 0,nn.phoneNumber=Dt.phoneNumber||void 0)}}(fe,ce),ce}).then(ce=>{const Dt=ce.user;return{operationType:ce.operationType,credential:jn(ce),additionalUserInfo:F.al(ce),user:Mt.getOrCreate(Dt)}})}function Nt(fe,G){return St.apply(this,arguments)}function St(){return(St=(0,v.Z)(function*(fe,G){const ce=yield G;return{verificationId:ce.verificationId,confirm:We=>et(fe,ce.confirm(We))}})).apply(this,arguments)}class Qt{constructor(G,ce){this.resolver=ce,this.auth=function bn(fe){return fe.wrapped()}(G)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(G){return et(an(this.auth),this.resolver.resolveSignIn(G))}}class Mt{constructor(G){this._delegate=G,this.multiFactor=F.ao(G)}static getOrCreate(G){return Mt.USER_MAP.has(G)||Mt.USER_MAP.set(G,new Mt(G)),Mt.USER_MAP.get(G)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(G){return this._delegate.getIdTokenResult(G)}getIdToken(G){return this._delegate.getIdToken(G)}linkAndRetrieveDataWithCredential(G){return this.linkWithCredential(G)}linkWithCredential(G){var ce=this;return(0,v.Z)(function*(){return et(ce.auth,F.Z(ce._delegate,G))})()}linkWithPhoneNumber(G,ce){var We=this;return(0,v.Z)(function*(){return Nt(We.auth,F.l(We._delegate,G,ce))})()}linkWithPopup(G){var ce=this;return(0,v.Z)(function*(){return et(ce.auth,F.d(ce._delegate,G,rt))})()}linkWithRedirect(G){var ce=this;return(0,v.Z)(function*(){return yield Xt(F.aE(ce.auth)),F.g(ce._delegate,G,rt)})()}reauthenticateAndRetrieveDataWithCredential(G){return this.reauthenticateWithCredential(G)}reauthenticateWithCredential(G){var ce=this;return(0,v.Z)(function*(){return et(ce.auth,F._(ce._delegate,G))})()}reauthenticateWithPhoneNumber(G,ce){return Nt(this.auth,F.r(this._delegate,G,ce))}reauthenticateWithPopup(G){return et(this.auth,F.e(this._delegate,G,rt))}reauthenticateWithRedirect(G){var ce=this;return(0,v.Z)(function*(){return yield Xt(F.aE(ce.auth)),F.h(ce._delegate,G,rt)})()}sendEmailVerification(G){return F.ab(this._delegate,G)}unlink(G){var ce=this;return(0,v.Z)(function*(){return yield F.ak(ce._delegate,G),ce})()}updateEmail(G){return F.ag(this._delegate,G)}updatePassword(G){return F.ah(this._delegate,G)}updatePhoneNumber(G){return F.u(this._delegate,G)}updateProfile(G){return F.af(this._delegate,G)}verifyBeforeUpdateEmail(G,ce){return F.ac(this._delegate,G,ce)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Mt.USER_MAP=new WeakMap;const At=F.ax;let vt=(()=>{class fe{constructor(ce,We){if(this.app=ce,We.isInitialized())return this._delegate=We.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Dt}=ce.options;At(Dt,"invalid-api-key",{appName:ce.name}),At(Dt,"invalid-api-key",{appName:ce.name});const tn=typeof window<"u"?rt:void 0;this._delegate=We.initialize({options:{persistence:_n(Dt,ce.name),popupRedirectResolver:tn}}),this._delegate._updateErrorMap(F.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Mt.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(ce){this._delegate.languageCode=ce}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(ce){this._delegate.tenantId=ce}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(ce,We){F.G(this._delegate,ce,We)}applyActionCode(ce){return F.a2(this._delegate,ce)}checkActionCode(ce){return F.a3(this._delegate,ce)}confirmPasswordReset(ce,We){return F.a1(this._delegate,ce,We)}createUserWithEmailAndPassword(ce,We){var Dt=this;return(0,v.Z)(function*(){return et(Dt._delegate,F.a5(Dt._delegate,ce,We))})()}fetchProvidersForEmail(ce){return this.fetchSignInMethodsForEmail(ce)}fetchSignInMethodsForEmail(ce){return F.aa(this._delegate,ce)}isSignInWithEmailLink(ce){return F.a8(this._delegate,ce)}getRedirectResult(){var ce=this;return(0,v.Z)(function*(){At(sr(),ce._delegate,"operation-not-supported-in-this-environment");const We=yield F.j(ce._delegate,rt);return We?et(ce._delegate,Promise.resolve(We)):{credential:null,user:null}})()}addFrameworkForLogging(ce){!function bt(fe,G){(0,F.aE)(fe)._logFramework(G)}(this._delegate,ce)}onAuthStateChanged(ce,We,Dt){const{next:tn,error:nn,complete:de}=Ot(ce,We,Dt);return this._delegate.onAuthStateChanged(tn,nn,de)}onIdTokenChanged(ce,We,Dt){const{next:tn,error:nn,complete:de}=Ot(ce,We,Dt);return this._delegate.onIdTokenChanged(tn,nn,de)}sendSignInLinkToEmail(ce,We){return F.a7(this._delegate,ce,We)}sendPasswordResetEmail(ce,We){return F.a0(this._delegate,ce,We||void 0)}setPersistence(ce){var We=this;return(0,v.Z)(function*(){let Dt;switch(function mt(fe,G){Lt(Object.values(tr).includes(G),fe,"invalid-persistence-type"),(0,oe.b$)()?Lt(G!==tr.SESSION,fe,"unsupported-persistence-type"):(0,oe.UG)()?Lt(G===tr.NONE,fe,"unsupported-persistence-type"):yn()?Lt(G===tr.NONE||G===tr.LOCAL&&(0,oe.hl)(),fe,"unsupported-persistence-type"):Lt(G===tr.NONE||Nr(),fe,"unsupported-persistence-type")}(We._delegate,ce),ce){case tr.SESSION:Dt=F.a;break;case tr.LOCAL:Dt=(yield F.az(F.i)._isAvailable())?F.i:F.b;break;case tr.NONE:Dt=F.L;break;default:return F.as("argument-error",{appName:We._delegate.name})}return We._delegate.setPersistence(Dt)})()}signInAndRetrieveDataWithCredential(ce){return this.signInWithCredential(ce)}signInAnonymously(){return et(this._delegate,F.X(this._delegate))}signInWithCredential(ce){return et(this._delegate,F.Y(this._delegate,ce))}signInWithCustomToken(ce){return et(this._delegate,F.$(this._delegate,ce))}signInWithEmailAndPassword(ce,We){return et(this._delegate,F.a6(this._delegate,ce,We))}signInWithEmailLink(ce,We){return et(this._delegate,F.a9(this._delegate,ce,We))}signInWithPhoneNumber(ce,We){return Nt(this._delegate,F.s(this._delegate,ce,We))}signInWithPopup(ce){var We=this;return(0,v.Z)(function*(){return At(sr(),We._delegate,"operation-not-supported-in-this-environment"),et(We._delegate,F.c(We._delegate,ce,rt))})()}signInWithRedirect(ce){var We=this;return(0,v.Z)(function*(){return At(sr(),We._delegate,"operation-not-supported-in-this-environment"),yield Xt(We._delegate),F.f(We._delegate,ce,rt)})()}updateCurrentUser(ce){return this._delegate.updateCurrentUser(ce)}verifyPasswordResetCode(ce){return F.a4(this._delegate,ce)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return fe.Persistence=tr,fe})();function Ot(fe,G,ce){let We=fe;"function"!=typeof fe&&({next:We,error:G,complete:ce}=fe);const Dt=We;return{next:nn=>Dt(nn&&Mt.getOrCreate(nn)),error:G,complete:ce}}function _n(fe,G){const ce=function ye(fe,G){const ce=me();if(!ce)return[];const We=F.aA(Yt,fe,G);switch(ce.getItem(We)){case tr.NONE:return[F.L];case tr.LOCAL:return[F.i,F.a];case tr.SESSION:return[F.a];default:return[]}}(fe,G);if(typeof self<"u"&&!ce.includes(F.i)&&ce.push(F.i),typeof window<"u")for(const We of[F.b,F.a])ce.includes(We)||ce.push(We);return ce.includes(F.L)||ce.push(F.L),ce}class pn{constructor(){this.providerId="phone",this._delegate=new F.P(an(h.Z.auth()))}static credential(G,ce){return F.P.credential(G,ce)}verifyPhoneNumber(G,ce){return this._delegate.verifyPhoneNumber(G,ce)}unwrap(){return this._delegate}}pn.PHONE_SIGN_IN_METHOD=F.P.PHONE_SIGN_IN_METHOD,pn.PROVIDER_ID=F.P.PROVIDER_ID;const Pn=F.ax;class Ee{constructor(G,ce,We=h.Z.app()){var Dt;Pn(null===(Dt=We.options)||void 0===Dt?void 0:Dt.apiKey,"invalid-api-key",{appName:We.name}),this._delegate=new F.R(G,ce,We.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Ae(fe){fe.INTERNAL.registerComponent(new ee.wA("auth-compat",G=>{const ce=G.getProvider("app-compat").getImmediate(),We=G.getProvider("auth");return new vt(ce,We)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:F.A.EMAIL_SIGNIN,PASSWORD_RESET:F.A.PASSWORD_RESET,RECOVER_EMAIL:F.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:F.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:F.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:F.A.VERIFY_EMAIL}},EmailAuthProvider:F.M,FacebookAuthProvider:F.N,GithubAuthProvider:F.T,GoogleAuthProvider:F.Q,OAuthProvider:F.U,SAMLAuthProvider:F.V,PhoneAuthProvider:pn,PhoneMultiFactorGenerator:F.m,RecaptchaVerifier:Ee,TwitterAuthProvider:F.W,Auth:vt,AuthCredential:F.H,Error:oe.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),fe.registerVersion("@firebase/auth-compat","0.2.24")}(h.Z)},1135:(Pt,ke,T)=>{T.d(ke,{X:()=>h});var v=T(7579);class h extends v.x{constructor(oe){super(),this._value=oe}get value(){return this.getValue()}_subscribe(oe){const ne=super._subscribe(oe);return!ne.closed&&oe.next(this._value),ne}getValue(){const{hasError:oe,thrownError:ne,_value:he}=this;if(oe)throw ne;return this._throwIfClosed(),he}next(oe){super.next(this._value=oe)}}},9751:(Pt,ke,T)=>{T.d(ke,{y:()=>V});var v=T(930),h=T(727),F=T(8822),oe=T(9635),ne=T(2416),he=T(576),ee=T(2806);let V=(()=>{class J{constructor(Ie){Ie&&(this._subscribe=Ie)}lift(Ie){const ie=new J;return ie.source=this,ie.operator=Ie,ie}subscribe(Ie,ie,Ue){const be=function K(J){return J&&J instanceof v.Lv||function Y(J){return J&&(0,he.m)(J.next)&&(0,he.m)(J.error)&&(0,he.m)(J.complete)}(J)&&(0,h.Nn)(J)}(Ie)?Ie:new v.Hp(Ie,ie,Ue);return(0,ee.x)(()=>{const{operator:ze,source:ft}=this;be.add(ze?ze.call(be,ft):ft?this._subscribe(be):this._trySubscribe(be))}),be}_trySubscribe(Ie){try{return this._subscribe(Ie)}catch(ie){Ie.error(ie)}}forEach(Ie,ie){return new(ie=q(ie))((Ue,be)=>{const ze=new v.Hp({next:ft=>{try{Ie(ft)}catch(at){be(at),ze.unsubscribe()}},error:be,complete:Ue});this.subscribe(ze)})}_subscribe(Ie){var ie;return null===(ie=this.source)||void 0===ie?void 0:ie.subscribe(Ie)}[F.L](){return this}pipe(...Ie){return(0,oe.U)(Ie)(this)}toPromise(Ie){return new(Ie=q(Ie))((ie,Ue)=>{let be;this.subscribe(ze=>be=ze,ze=>Ue(ze),()=>ie(be))})}}return J.create=_e=>new J(_e),J})();function q(J){var _e;return null!==(_e=J??ne.v.Promise)&&void 0!==_e?_e:Promise}},4707:(Pt,ke,T)=>{T.d(ke,{t:()=>F});var v=T(7579),h=T(6063);class F extends v.x{constructor(ne=1/0,he=1/0,ee=h.l){super(),this._bufferSize=ne,this._windowTime=he,this._timestampProvider=ee,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=he===1/0,this._bufferSize=Math.max(1,ne),this._windowTime=Math.max(1,he)}next(ne){const{isStopped:he,_buffer:ee,_infiniteTimeWindow:V,_timestampProvider:q,_windowTime:Y}=this;he||(ee.push(ne),!V&&ee.push(q.now()+Y)),this._trimBuffer(),super.next(ne)}_subscribe(ne){this._throwIfClosed(),this._trimBuffer();const he=this._innerSubscribe(ne),{_infiniteTimeWindow:ee,_buffer:V}=this,q=V.slice();for(let Y=0;Y<q.length&&!ne.closed;Y+=ee?1:2)ne.next(q[Y]);return this._checkFinalizedStatuses(ne),he}_trimBuffer(){const{_bufferSize:ne,_timestampProvider:he,_buffer:ee,_infiniteTimeWindow:V}=this,q=(V?1:2)*ne;if(ne<1/0&&q<ee.length&&ee.splice(0,ee.length-q),!V){const Y=he.now();let K=0;for(let J=1;J<ee.length&&ee[J]<=Y;J+=2)K=J;K&&ee.splice(0,K+1)}}}},7579:(Pt,ke,T)=>{T.d(ke,{x:()=>ee});var v=T(9751),h=T(727);const oe=(0,T(3888).d)(q=>function(){q(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ne=T(8737),he=T(2806);let ee=(()=>{class q extends v.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(K){const J=new V(this,this);return J.operator=K,J}_throwIfClosed(){if(this.closed)throw new oe}next(K){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const J of this.currentObservers)J.next(K)}})}error(K){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=K;const{observers:J}=this;for(;J.length;)J.shift().error(K)}})}complete(){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:K}=this;for(;K.length;)K.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var K;return(null===(K=this.observers)||void 0===K?void 0:K.length)>0}_trySubscribe(K){return this._throwIfClosed(),super._trySubscribe(K)}_subscribe(K){return this._throwIfClosed(),this._checkFinalizedStatuses(K),this._innerSubscribe(K)}_innerSubscribe(K){const{hasError:J,isStopped:_e,observers:Ie}=this;return J||_e?h.Lc:(this.currentObservers=null,Ie.push(K),new h.w0(()=>{this.currentObservers=null,(0,ne.P)(Ie,K)}))}_checkFinalizedStatuses(K){const{hasError:J,thrownError:_e,isStopped:Ie}=this;J?K.error(_e):Ie&&K.complete()}asObservable(){const K=new v.y;return K.source=this,K}}return q.create=(Y,K)=>new V(Y,K),q})();class V extends ee{constructor(Y,K){super(),this.destination=Y,this.source=K}next(Y){var K,J;null===(J=null===(K=this.destination)||void 0===K?void 0:K.next)||void 0===J||J.call(K,Y)}error(Y){var K,J;null===(J=null===(K=this.destination)||void 0===K?void 0:K.error)||void 0===J||J.call(K,Y)}complete(){var Y,K;null===(K=null===(Y=this.destination)||void 0===Y?void 0:Y.complete)||void 0===K||K.call(Y)}_subscribe(Y){var K,J;return null!==(J=null===(K=this.source)||void 0===K?void 0:K.subscribe(Y))&&void 0!==J?J:h.Lc}}},930:(Pt,ke,T)=>{T.d(ke,{Hp:()=>Ue,Lv:()=>J});var v=T(576),h=T(727),F=T(2416),oe=T(7849),ne=T(5032);const he=q("C",void 0,void 0);function q(ct,Se,Le){return{kind:ct,value:Se,error:Le}}var Y=T(3410),K=T(2806);class J extends h.w0{constructor(Se){super(),this.isStopped=!1,Se?(this.destination=Se,(0,h.Nn)(Se)&&Se.add(this)):this.destination=at}static create(Se,Le,ht){return new Ue(Se,Le,ht)}next(Se){this.isStopped?ft(function V(ct){return q("N",ct,void 0)}(Se),this):this._next(Se)}error(Se){this.isStopped?ft(function ee(ct){return q("E",void 0,ct)}(Se),this):(this.isStopped=!0,this._error(Se))}complete(){this.isStopped?ft(he,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Se){this.destination.next(Se)}_error(Se){try{this.destination.error(Se)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const _e=Function.prototype.bind;function Ie(ct,Se){return _e.call(ct,Se)}class ie{constructor(Se){this.partialObserver=Se}next(Se){const{partialObserver:Le}=this;if(Le.next)try{Le.next(Se)}catch(ht){be(ht)}}error(Se){const{partialObserver:Le}=this;if(Le.error)try{Le.error(Se)}catch(ht){be(ht)}else be(Se)}complete(){const{partialObserver:Se}=this;if(Se.complete)try{Se.complete()}catch(Le){be(Le)}}}class Ue extends J{constructor(Se,Le,ht){let Me;if(super(),(0,v.m)(Se)||!Se)Me={next:Se??void 0,error:Le??void 0,complete:ht??void 0};else{let je;this&&F.v.useDeprecatedNextContext?(je=Object.create(Se),je.unsubscribe=()=>this.unsubscribe(),Me={next:Se.next&&Ie(Se.next,je),error:Se.error&&Ie(Se.error,je),complete:Se.complete&&Ie(Se.complete,je)}):Me=Se}this.destination=new ie(Me)}}function be(ct){F.v.useDeprecatedSynchronousErrorHandling?(0,K.O)(ct):(0,oe.h)(ct)}function ft(ct,Se){const{onStoppedNotification:Le}=F.v;Le&&Y.z.setTimeout(()=>Le(ct,Se))}const at={closed:!0,next:ne.Z,error:function ze(ct){throw ct},complete:ne.Z}},727:(Pt,ke,T)=>{T.d(ke,{Lc:()=>he,w0:()=>ne,Nn:()=>ee});var v=T(576);const F=(0,T(3888).d)(q=>function(K){q(this),this.message=K?`${K.length} errors occurred during unsubscription:\n${K.map((J,_e)=>`${_e+1}) ${J.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=K});var oe=T(8737);class ne{constructor(Y){this.initialTeardown=Y,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Y;if(!this.closed){this.closed=!0;const{_parentage:K}=this;if(K)if(this._parentage=null,Array.isArray(K))for(const Ie of K)Ie.remove(this);else K.remove(this);const{initialTeardown:J}=this;if((0,v.m)(J))try{J()}catch(Ie){Y=Ie instanceof F?Ie.errors:[Ie]}const{_finalizers:_e}=this;if(_e){this._finalizers=null;for(const Ie of _e)try{V(Ie)}catch(ie){Y=Y??[],ie instanceof F?Y=[...Y,...ie.errors]:Y.push(ie)}}if(Y)throw new F(Y)}}add(Y){var K;if(Y&&Y!==this)if(this.closed)V(Y);else{if(Y instanceof ne){if(Y.closed||Y._hasParent(this))return;Y._addParent(this)}(this._finalizers=null!==(K=this._finalizers)&&void 0!==K?K:[]).push(Y)}}_hasParent(Y){const{_parentage:K}=this;return K===Y||Array.isArray(K)&&K.includes(Y)}_addParent(Y){const{_parentage:K}=this;this._parentage=Array.isArray(K)?(K.push(Y),K):K?[K,Y]:Y}_removeParent(Y){const{_parentage:K}=this;K===Y?this._parentage=null:Array.isArray(K)&&(0,oe.P)(K,Y)}remove(Y){const{_finalizers:K}=this;K&&(0,oe.P)(K,Y),Y instanceof ne&&Y._removeParent(this)}}ne.EMPTY=(()=>{const q=new ne;return q.closed=!0,q})();const he=ne.EMPTY;function ee(q){return q instanceof ne||q&&"closed"in q&&(0,v.m)(q.remove)&&(0,v.m)(q.add)&&(0,v.m)(q.unsubscribe)}function V(q){(0,v.m)(q)?q():q.unsubscribe()}},2416:(Pt,ke,T)=>{T.d(ke,{v:()=>v});const v={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(Pt,ke,T)=>{T.d(ke,{z:()=>ne});var v=T(8189),F=T(3269),oe=T(8996);function ne(...he){return function h(){return(0,v.J)(1)}()((0,oe.D)(he,(0,F.yG)(he)))}},515:(Pt,ke,T)=>{T.d(ke,{E:()=>h});const h=new(T(9751).y)(ne=>ne.complete())},8996:(Pt,ke,T)=>{T.d(ke,{D:()=>Se});var v=T(8421),h=T(5363),F=T(9468),he=T(9751),V=T(2202),q=T(576),Y=T(9672);function J(Le,ht){if(!Le)throw new Error("Iterable cannot be null");return new he.y(Me=>{(0,Y.f)(Me,ht,()=>{const je=Le[Symbol.asyncIterator]();(0,Y.f)(Me,ht,()=>{je.next().then(He=>{He.done?Me.complete():Me.next(He.value)})},0,!0)})})}var _e=T(3670),Ie=T(8239),ie=T(1144),Ue=T(6495),be=T(2206),ze=T(4532),ft=T(3260);function Se(Le,ht){return ht?function ct(Le,ht){if(null!=Le){if((0,_e.c)(Le))return function oe(Le,ht){return(0,v.Xf)(Le).pipe((0,F.R)(ht),(0,h.Q)(ht))}(Le,ht);if((0,ie.z)(Le))return function ee(Le,ht){return new he.y(Me=>{let je=0;return ht.schedule(function(){je===Le.length?Me.complete():(Me.next(Le[je++]),Me.closed||this.schedule())})})}(Le,ht);if((0,Ie.t)(Le))return function ne(Le,ht){return(0,v.Xf)(Le).pipe((0,F.R)(ht),(0,h.Q)(ht))}(Le,ht);if((0,be.D)(Le))return J(Le,ht);if((0,Ue.T)(Le))return function K(Le,ht){return new he.y(Me=>{let je;return(0,Y.f)(Me,ht,()=>{je=Le[V.h](),(0,Y.f)(Me,ht,()=>{let He,Te;try{({value:He,done:Te}=je.next())}catch(Pe){return void Me.error(Pe)}Te?Me.complete():Me.next(He)},0,!0)}),()=>(0,q.m)(je?.return)&&je.return()})}(Le,ht);if((0,ft.L)(Le))return function at(Le,ht){return J((0,ft.Q)(Le),ht)}(Le,ht)}throw(0,ze.z)(Le)}(Le,ht):(0,v.Xf)(Le)}},4968:(Pt,ke,T)=>{T.d(ke,{R:()=>Y});var v=T(8421),h=T(9751),F=T(5577),oe=T(1144),ne=T(576),he=T(3268);const ee=["addListener","removeListener"],V=["addEventListener","removeEventListener"],q=["on","off"];function Y(ie,Ue,be,ze){if((0,ne.m)(be)&&(ze=be,be=void 0),ze)return Y(ie,Ue,be).pipe((0,he.Z)(ze));const[ft,at]=function Ie(ie){return(0,ne.m)(ie.addEventListener)&&(0,ne.m)(ie.removeEventListener)}(ie)?V.map(ct=>Se=>ie[ct](Ue,Se,be)):function J(ie){return(0,ne.m)(ie.addListener)&&(0,ne.m)(ie.removeListener)}(ie)?ee.map(K(ie,Ue)):function _e(ie){return(0,ne.m)(ie.on)&&(0,ne.m)(ie.off)}(ie)?q.map(K(ie,Ue)):[];if(!ft&&(0,oe.z)(ie))return(0,F.z)(ct=>Y(ct,Ue,be))((0,v.Xf)(ie));if(!ft)throw new TypeError("Invalid event target");return new h.y(ct=>{const Se=(...Le)=>ct.next(1<Le.length?Le:Le[0]);return ft(Se),()=>at(Se)})}function K(ie,Ue){return be=>ze=>ie[be](Ue,ze)}},8421:(Pt,ke,T)=>{T.d(ke,{Xf:()=>_e});var v=T(655),h=T(1144),F=T(8239),oe=T(9751),ne=T(3670),he=T(2206),ee=T(4532),V=T(6495),q=T(3260),Y=T(576),K=T(7849),J=T(8822);function _e(ct){if(ct instanceof oe.y)return ct;if(null!=ct){if((0,ne.c)(ct))return function Ie(ct){return new oe.y(Se=>{const Le=ct[J.L]();if((0,Y.m)(Le.subscribe))return Le.subscribe(Se);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ct);if((0,h.z)(ct))return function ie(ct){return new oe.y(Se=>{for(let Le=0;Le<ct.length&&!Se.closed;Le++)Se.next(ct[Le]);Se.complete()})}(ct);if((0,F.t)(ct))return function Ue(ct){return new oe.y(Se=>{ct.then(Le=>{Se.closed||(Se.next(Le),Se.complete())},Le=>Se.error(Le)).then(null,K.h)})}(ct);if((0,he.D)(ct))return ze(ct);if((0,V.T)(ct))return function be(ct){return new oe.y(Se=>{for(const Le of ct)if(Se.next(Le),Se.closed)return;Se.complete()})}(ct);if((0,q.L)(ct))return function ft(ct){return ze((0,q.Q)(ct))}(ct)}throw(0,ee.z)(ct)}function ze(ct){return new oe.y(Se=>{(function at(ct,Se){var Le,ht,Me,je;return(0,v.mG)(this,void 0,void 0,function*(){try{for(Le=(0,v.KL)(ct);!(ht=yield Le.next()).done;)if(Se.next(ht.value),Se.closed)return}catch(He){Me={error:He}}finally{try{ht&&!ht.done&&(je=Le.return)&&(yield je.call(Le))}finally{if(Me)throw Me.error}}Se.complete()})})(ct,Se).catch(Le=>Se.error(Le))})}},6451:(Pt,ke,T)=>{T.d(ke,{T:()=>he});var v=T(8189),h=T(8421),F=T(515),oe=T(3269),ne=T(8996);function he(...ee){const V=(0,oe.yG)(ee),q=(0,oe._6)(ee,1/0),Y=ee;return Y.length?1===Y.length?(0,h.Xf)(Y[0]):(0,v.J)(q)((0,ne.D)(Y,V)):F.E}},9646:(Pt,ke,T)=>{T.d(ke,{of:()=>F});var v=T(3269),h=T(8996);function F(...oe){const ne=(0,v.yG)(oe);return(0,h.D)(oe,ne)}},5403:(Pt,ke,T)=>{T.d(ke,{x:()=>h});var v=T(930);function h(oe,ne,he,ee,V){return new F(oe,ne,he,ee,V)}class F extends v.Lv{constructor(ne,he,ee,V,q,Y){super(ne),this.onFinalize=q,this.shouldUnsubscribe=Y,this._next=he?function(K){try{he(K)}catch(J){ne.error(J)}}:super._next,this._error=V?function(K){try{V(K)}catch(J){ne.error(J)}finally{this.unsubscribe()}}:super._error,this._complete=ee?function(){try{ee()}catch(K){ne.error(K)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ne;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:he}=this;super.unsubscribe(),!he&&(null===(ne=this.onFinalize)||void 0===ne||ne.call(this))}}}},9225:(Pt,ke,T)=>{T.d(ke,{e:()=>Y});var v=T(4986),h=T(4482),F=T(8421),oe=T(5403),he=T(9751),ee=T(3532);function Y(K,J=v.z){return function ne(K){return(0,h.e)((J,_e)=>{let Ie=!1,ie=null,Ue=null,be=!1;const ze=()=>{if(Ue?.unsubscribe(),Ue=null,Ie){Ie=!1;const at=ie;ie=null,_e.next(at)}be&&_e.complete()},ft=()=>{Ue=null,be&&_e.complete()};J.subscribe((0,oe.x)(_e,at=>{Ie=!0,ie=at,Ue||(0,F.Xf)(K(at)).subscribe(Ue=(0,oe.x)(_e,ze,ft))},()=>{be=!0,(!Ie||!Ue||Ue.closed)&&_e.complete()}))})}(()=>function q(K=0,J,_e=v.P){let Ie=-1;return null!=J&&((0,ee.K)(J)?_e=J:Ie=J),new he.y(ie=>{let Ue=function V(K){return K instanceof Date&&!isNaN(K)}(K)?+K-_e.now():K;Ue<0&&(Ue=0);let be=0;return _e.schedule(function(){ie.closed||(ie.next(be++),0<=Ie?this.schedule(void 0,Ie):ie.complete())},Ue)})}(K,J))}},262:(Pt,ke,T)=>{T.d(ke,{K:()=>oe});var v=T(8421),h=T(5403),F=T(4482);function oe(ne){return(0,F.e)((he,ee)=>{let Y,V=null,q=!1;V=he.subscribe((0,h.x)(ee,void 0,void 0,K=>{Y=(0,v.Xf)(ne(K,oe(ne)(he))),V?(V.unsubscribe(),V=null,Y.subscribe(ee)):q=!0})),q&&(V.unsubscribe(),V=null,Y.subscribe(ee))})}},4351:(Pt,ke,T)=>{T.d(ke,{b:()=>F});var v=T(5577),h=T(576);function F(oe,ne){return(0,h.m)(ne)?(0,v.z)(oe,ne,1):(0,v.z)(oe,1)}},6590:(Pt,ke,T)=>{T.d(ke,{d:()=>F});var v=T(4482),h=T(5403);function F(oe){return(0,v.e)((ne,he)=>{let ee=!1;ne.subscribe((0,h.x)(he,V=>{ee=!0,he.next(V)},()=>{ee||he.next(oe),he.complete()}))})}},1884:(Pt,ke,T)=>{T.d(ke,{x:()=>oe});var v=T(4671),h=T(4482),F=T(5403);function oe(he,ee=v.y){return he=he??ne,(0,h.e)((V,q)=>{let Y,K=!0;V.subscribe((0,F.x)(q,J=>{const _e=ee(J);(K||!he(Y,_e))&&(K=!1,Y=_e,q.next(J))}))})}function ne(he,ee){return he===ee}},9300:(Pt,ke,T)=>{T.d(ke,{h:()=>F});var v=T(4482),h=T(5403);function F(oe,ne){return(0,v.e)((he,ee)=>{let V=0;he.subscribe((0,h.x)(ee,q=>oe.call(ne,q,V++)&&ee.next(q)))})}},8746:(Pt,ke,T)=>{T.d(ke,{x:()=>h});var v=T(4482);function h(F){return(0,v.e)((oe,ne)=>{try{oe.subscribe(ne)}finally{ne.add(F)}})}},590:(Pt,ke,T)=>{T.d(ke,{P:()=>ee});var v=T(6805),h=T(9300),F=T(5698),oe=T(6590),ne=T(8068),he=T(4671);function ee(V,q){const Y=arguments.length>=2;return K=>K.pipe(V?(0,h.h)((J,_e)=>V(J,_e,K)):he.y,(0,F.q)(1),Y?(0,oe.d)(q):(0,ne.T)(()=>new v.K))}},4004:(Pt,ke,T)=>{T.d(ke,{U:()=>F});var v=T(4482),h=T(5403);function F(oe,ne){return(0,v.e)((he,ee)=>{let V=0;he.subscribe((0,h.x)(ee,q=>{ee.next(oe.call(ne,q,V++))}))})}},9718:(Pt,ke,T)=>{T.d(ke,{h:()=>h});var v=T(4004);function h(F){return(0,v.U)(()=>F)}},8189:(Pt,ke,T)=>{T.d(ke,{J:()=>F});var v=T(5577),h=T(4671);function F(oe=1/0){return(0,v.z)(h.y,oe)}},5577:(Pt,ke,T)=>{T.d(ke,{z:()=>V});var v=T(4004),h=T(8421),F=T(4482),oe=T(9672),ne=T(5403),ee=T(576);function V(q,Y,K=1/0){return(0,ee.m)(Y)?V((J,_e)=>(0,v.U)((Ie,ie)=>Y(J,Ie,_e,ie))((0,h.Xf)(q(J,_e))),K):("number"==typeof Y&&(K=Y),(0,F.e)((J,_e)=>function he(q,Y,K,J,_e,Ie,ie,Ue){const be=[];let ze=0,ft=0,at=!1;const ct=()=>{at&&!be.length&&!ze&&Y.complete()},Se=ht=>ze<J?Le(ht):be.push(ht),Le=ht=>{Ie&&Y.next(ht),ze++;let Me=!1;(0,h.Xf)(K(ht,ft++)).subscribe((0,ne.x)(Y,je=>{_e?.(je),Ie?Se(je):Y.next(je)},()=>{Me=!0},void 0,()=>{if(Me)try{for(ze--;be.length&&ze<J;){const je=be.shift();ie?(0,oe.f)(Y,ie,()=>Le(je)):Le(je)}ct()}catch(je){Y.error(je)}}))};return q.subscribe((0,ne.x)(Y,Se,()=>{at=!0,ct()})),()=>{Ue?.()}}(J,_e,q,K)))}},5363:(Pt,ke,T)=>{T.d(ke,{Q:()=>oe});var v=T(9672),h=T(4482),F=T(5403);function oe(ne,he=0){return(0,h.e)((ee,V)=>{ee.subscribe((0,F.x)(V,q=>(0,v.f)(V,ne,()=>V.next(q),he),()=>(0,v.f)(V,ne,()=>V.complete(),he),q=>(0,v.f)(V,ne,()=>V.error(q),he)))})}},5026:(Pt,ke,T)=>{T.d(ke,{R:()=>oe});var v=T(4482),h=T(5403);function F(ne,he,ee,V,q){return(Y,K)=>{let J=ee,_e=he,Ie=0;Y.subscribe((0,h.x)(K,ie=>{const Ue=Ie++;_e=J?ne(_e,ie,Ue):(J=!0,ie),V&&K.next(_e)},q&&(()=>{J&&K.next(_e),K.complete()})))}}function oe(ne,he){return(0,v.e)(F(ne,he,arguments.length>=2,!0))}},3099:(Pt,ke,T)=>{T.d(ke,{B:()=>ne});var v=T(8421),h=T(7579),F=T(930),oe=T(4482);function ne(ee={}){const{connector:V=(()=>new h.x),resetOnError:q=!0,resetOnComplete:Y=!0,resetOnRefCountZero:K=!0}=ee;return J=>{let _e,Ie,ie,Ue=0,be=!1,ze=!1;const ft=()=>{Ie?.unsubscribe(),Ie=void 0},at=()=>{ft(),_e=ie=void 0,be=ze=!1},ct=()=>{const Se=_e;at(),Se?.unsubscribe()};return(0,oe.e)((Se,Le)=>{Ue++,!ze&&!be&&ft();const ht=ie=ie??V();Le.add(()=>{Ue--,0===Ue&&!ze&&!be&&(Ie=he(ct,K))}),ht.subscribe(Le),!_e&&Ue>0&&(_e=new F.Hp({next:Me=>ht.next(Me),error:Me=>{ze=!0,ft(),Ie=he(at,q,Me),ht.error(Me)},complete:()=>{be=!0,ft(),Ie=he(at,Y),ht.complete()}}),(0,v.Xf)(Se).subscribe(_e))})(J)}}function he(ee,V,...q){if(!0===V)return void ee();if(!1===V)return;const Y=new F.Hp({next:()=>{Y.unsubscribe(),ee()}});return V(...q).subscribe(Y)}},8675:(Pt,ke,T)=>{T.d(ke,{O:()=>oe});var v=T(7272),h=T(3269),F=T(4482);function oe(...ne){const he=(0,h.yG)(ne);return(0,F.e)((ee,V)=>{(he?(0,v.z)(ne,ee,he):(0,v.z)(ne,ee)).subscribe(V)})}},9468:(Pt,ke,T)=>{T.d(ke,{R:()=>h});var v=T(4482);function h(F,oe=0){return(0,v.e)((ne,he)=>{he.add(F.schedule(()=>ne.subscribe(he),oe))})}},3900:(Pt,ke,T)=>{T.d(ke,{w:()=>oe});var v=T(8421),h=T(4482),F=T(5403);function oe(ne,he){return(0,h.e)((ee,V)=>{let q=null,Y=0,K=!1;const J=()=>K&&!q&&V.complete();ee.subscribe((0,F.x)(V,_e=>{q?.unsubscribe();let Ie=0;const ie=Y++;(0,v.Xf)(ne(_e,ie)).subscribe(q=(0,F.x)(V,Ue=>V.next(he?he(_e,Ue,ie,Ie++):Ue),()=>{q=null,J()}))},()=>{K=!0,J()}))})}},5698:(Pt,ke,T)=>{T.d(ke,{q:()=>oe});var v=T(515),h=T(4482),F=T(5403);function oe(ne){return ne<=0?()=>v.E:(0,h.e)((he,ee)=>{let V=0;he.subscribe((0,F.x)(ee,q=>{++V<=ne&&(ee.next(q),ne<=V&&ee.complete())}))})}},2722:(Pt,ke,T)=>{T.d(ke,{R:()=>ne});var v=T(4482),h=T(5403),F=T(8421),oe=T(5032);function ne(he){return(0,v.e)((ee,V)=>{(0,F.Xf)(he).subscribe((0,h.x)(V,()=>V.complete(),oe.Z)),!V.closed&&ee.subscribe(V)})}},8505:(Pt,ke,T)=>{T.d(ke,{b:()=>ne});var v=T(576),h=T(4482),F=T(5403),oe=T(4671);function ne(he,ee,V){const q=(0,v.m)(he)||ee||V?{next:he,error:ee,complete:V}:he;return q?(0,h.e)((Y,K)=>{var J;null===(J=q.subscribe)||void 0===J||J.call(q);let _e=!0;Y.subscribe((0,F.x)(K,Ie=>{var ie;null===(ie=q.next)||void 0===ie||ie.call(q,Ie),K.next(Ie)},()=>{var Ie;_e=!1,null===(Ie=q.complete)||void 0===Ie||Ie.call(q),K.complete()},Ie=>{var ie;_e=!1,null===(ie=q.error)||void 0===ie||ie.call(q,Ie),K.error(Ie)},()=>{var Ie,ie;_e&&(null===(Ie=q.unsubscribe)||void 0===Ie||Ie.call(q)),null===(ie=q.finalize)||void 0===ie||ie.call(q)}))}):oe.y}},8068:(Pt,ke,T)=>{T.d(ke,{T:()=>oe});var v=T(6805),h=T(4482),F=T(5403);function oe(he=ne){return(0,h.e)((ee,V)=>{let q=!1;ee.subscribe((0,F.x)(V,Y=>{q=!0,V.next(Y)},()=>q?V.complete():V.error(he())))})}function ne(){return new v.K}},4408:(Pt,ke,T)=>{T.d(ke,{o:()=>ne});var v=T(727);class h extends v.w0{constructor(ee,V){super()}schedule(ee,V=0){return this}}const F={setInterval(he,ee,...V){const{delegate:q}=F;return q?.setInterval?q.setInterval(he,ee,...V):setInterval(he,ee,...V)},clearInterval(he){const{delegate:ee}=F;return(ee?.clearInterval||clearInterval)(he)},delegate:void 0};var oe=T(8737);class ne extends h{constructor(ee,V){super(ee,V),this.scheduler=ee,this.work=V,this.pending=!1}schedule(ee,V=0){var q;if(this.closed)return this;this.state=ee;const Y=this.id,K=this.scheduler;return null!=Y&&(this.id=this.recycleAsyncId(K,Y,V)),this.pending=!0,this.delay=V,this.id=null!==(q=this.id)&&void 0!==q?q:this.requestAsyncId(K,this.id,V),this}requestAsyncId(ee,V,q=0){return F.setInterval(ee.flush.bind(ee,this),q)}recycleAsyncId(ee,V,q=0){if(null!=q&&this.delay===q&&!1===this.pending)return V;null!=V&&F.clearInterval(V)}execute(ee,V){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const q=this._execute(ee,V);if(q)return q;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ee,V){let Y,q=!1;try{this.work(ee)}catch(K){q=!0,Y=K||new Error("Scheduled action threw falsy error")}if(q)return this.unsubscribe(),Y}unsubscribe(){if(!this.closed){const{id:ee,scheduler:V}=this,{actions:q}=V;this.work=this.state=this.scheduler=null,this.pending=!1,(0,oe.P)(q,this),null!=ee&&(this.id=this.recycleAsyncId(V,ee,null)),this.delay=null,super.unsubscribe()}}}},7565:(Pt,ke,T)=>{T.d(ke,{v:()=>F});var v=T(6063);class h{constructor(ne,he=h.now){this.schedulerActionCtor=ne,this.now=he}schedule(ne,he=0,ee){return new this.schedulerActionCtor(this,ne).schedule(ee,he)}}h.now=v.l.now;class F extends h{constructor(ne,he=h.now){super(ne,he),this.actions=[],this._active=!1}flush(ne){const{actions:he}=this;if(this._active)return void he.push(ne);let ee;this._active=!0;do{if(ee=ne.execute(ne.state,ne.delay))break}while(ne=he.shift());if(this._active=!1,ee){for(;ne=he.shift();)ne.unsubscribe();throw ee}}}},4986:(Pt,ke,T)=>{T.d(ke,{P:()=>oe,z:()=>F});var v=T(4408);const F=new(T(7565).v)(v.o),oe=F},6063:(Pt,ke,T)=>{T.d(ke,{l:()=>v});const v={now:()=>(v.delegate||Date).now(),delegate:void 0}},3410:(Pt,ke,T)=>{T.d(ke,{z:()=>v});const v={setTimeout(h,F,...oe){const{delegate:ne}=v;return ne?.setTimeout?ne.setTimeout(h,F,...oe):setTimeout(h,F,...oe)},clearTimeout(h){const{delegate:F}=v;return(F?.clearTimeout||clearTimeout)(h)},delegate:void 0}},2202:(Pt,ke,T)=>{T.d(ke,{h:()=>h});const h=function v(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Pt,ke,T)=>{T.d(ke,{L:()=>v});const v="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Pt,ke,T)=>{T.d(ke,{K:()=>h});const h=(0,T(3888).d)(F=>function(){F(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(Pt,ke,T)=>{T.d(ke,{_6:()=>he,jO:()=>oe,yG:()=>ne});var v=T(576),h=T(3532);function F(ee){return ee[ee.length-1]}function oe(ee){return(0,v.m)(F(ee))?ee.pop():void 0}function ne(ee){return(0,h.K)(F(ee))?ee.pop():void 0}function he(ee,V){return"number"==typeof F(ee)?ee.pop():V}},4742:(Pt,ke,T)=>{T.d(ke,{D:()=>ne});const{isArray:v}=Array,{getPrototypeOf:h,prototype:F,keys:oe}=Object;function ne(ee){if(1===ee.length){const V=ee[0];if(v(V))return{args:V,keys:null};if(function he(ee){return ee&&"object"==typeof ee&&h(ee)===F}(V)){const q=oe(V);return{args:q.map(Y=>V[Y]),keys:q}}}return{args:ee,keys:null}}},8737:(Pt,ke,T)=>{function v(h,F){if(h){const oe=h.indexOf(F);0<=oe&&h.splice(oe,1)}}T.d(ke,{P:()=>v})},3888:(Pt,ke,T)=>{function v(h){const oe=h(ne=>{Error.call(ne),ne.stack=(new Error).stack});return oe.prototype=Object.create(Error.prototype),oe.prototype.constructor=oe,oe}T.d(ke,{d:()=>v})},1810:(Pt,ke,T)=>{function v(h,F){return h.reduce((oe,ne,he)=>(oe[ne]=F[he],oe),{})}T.d(ke,{n:()=>v})},2806:(Pt,ke,T)=>{T.d(ke,{O:()=>oe,x:()=>F});var v=T(2416);let h=null;function F(ne){if(v.v.useDeprecatedSynchronousErrorHandling){const he=!h;if(he&&(h={errorThrown:!1,error:null}),ne(),he){const{errorThrown:ee,error:V}=h;if(h=null,ee)throw V}}else ne()}function oe(ne){v.v.useDeprecatedSynchronousErrorHandling&&h&&(h.errorThrown=!0,h.error=ne)}},9672:(Pt,ke,T)=>{function v(h,F,oe,ne=0,he=!1){const ee=F.schedule(function(){oe(),he?h.add(this.schedule(null,ne)):this.unsubscribe()},ne);if(h.add(ee),!he)return ee}T.d(ke,{f:()=>v})},4671:(Pt,ke,T)=>{function v(h){return h}T.d(ke,{y:()=>v})},1144:(Pt,ke,T)=>{T.d(ke,{z:()=>v});const v=h=>h&&"number"==typeof h.length&&"function"!=typeof h},2206:(Pt,ke,T)=>{T.d(ke,{D:()=>h});var v=T(576);function h(F){return Symbol.asyncIterator&&(0,v.m)(F?.[Symbol.asyncIterator])}},576:(Pt,ke,T)=>{function v(h){return"function"==typeof h}T.d(ke,{m:()=>v})},3670:(Pt,ke,T)=>{T.d(ke,{c:()=>F});var v=T(8822),h=T(576);function F(oe){return(0,h.m)(oe[v.L])}},6495:(Pt,ke,T)=>{T.d(ke,{T:()=>F});var v=T(2202),h=T(576);function F(oe){return(0,h.m)(oe?.[v.h])}},8239:(Pt,ke,T)=>{T.d(ke,{t:()=>h});var v=T(576);function h(F){return(0,v.m)(F?.then)}},3260:(Pt,ke,T)=>{T.d(ke,{L:()=>oe,Q:()=>F});var v=T(655),h=T(576);function F(ne){return(0,v.FC)(this,arguments,function*(){const ee=ne.getReader();try{for(;;){const{value:V,done:q}=yield(0,v.qq)(ee.read());if(q)return yield(0,v.qq)(void 0);yield yield(0,v.qq)(V)}}finally{ee.releaseLock()}})}function oe(ne){return(0,h.m)(ne?.getReader)}},3532:(Pt,ke,T)=>{T.d(ke,{K:()=>h});var v=T(576);function h(F){return F&&(0,v.m)(F.schedule)}},4482:(Pt,ke,T)=>{T.d(ke,{A:()=>h,e:()=>F});var v=T(576);function h(oe){return(0,v.m)(oe?.lift)}function F(oe){return ne=>{if(h(ne))return ne.lift(function(he){try{return oe(he,this)}catch(ee){this.error(ee)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Pt,ke,T)=>{T.d(ke,{Z:()=>oe});var v=T(4004);const{isArray:h}=Array;function oe(ne){return(0,v.U)(he=>function F(ne,he){return h(he)?ne(...he):ne(he)}(ne,he))}},5032:(Pt,ke,T)=>{function v(){}T.d(ke,{Z:()=>v})},9635:(Pt,ke,T)=>{T.d(ke,{U:()=>F,z:()=>h});var v=T(4671);function h(...oe){return F(oe)}function F(oe){return 0===oe.length?v.y:1===oe.length?oe[0]:function(he){return oe.reduce((ee,V)=>V(ee),he)}}},7849:(Pt,ke,T)=>{T.d(ke,{h:()=>F});var v=T(2416),h=T(3410);function F(oe){h.z.setTimeout(()=>{const{onUnhandledError:ne}=v.v;if(!ne)throw oe;ne(oe)})}},4532:(Pt,ke,T)=>{function v(h){return new TypeError(`You provided ${null!==h&&"object"==typeof h?"an invalid object":`'${h}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}T.d(ke,{z:()=>v})},655:(Pt,ke,T)=>{function oe(Te,Pe){var Ve={};for(var Fe in Te)Object.prototype.hasOwnProperty.call(Te,Fe)&&Pe.indexOf(Fe)<0&&(Ve[Fe]=Te[Fe]);if(null!=Te&&"function"==typeof Object.getOwnPropertySymbols){var Ke=0;for(Fe=Object.getOwnPropertySymbols(Te);Ke<Fe.length;Ke++)Pe.indexOf(Fe[Ke])<0&&Object.prototype.propertyIsEnumerable.call(Te,Fe[Ke])&&(Ve[Fe[Ke]]=Te[Fe[Ke]])}return Ve}function ne(Te,Pe,Ve,Fe){var it,Ke=arguments.length,pt=Ke<3?Pe:null===Fe?Fe=Object.getOwnPropertyDescriptor(Pe,Ve):Fe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)pt=Reflect.decorate(Te,Pe,Ve,Fe);else for(var wt=Te.length-1;wt>=0;wt--)(it=Te[wt])&&(pt=(Ke<3?it(pt):Ke>3?it(Pe,Ve,pt):it(Pe,Ve))||pt);return Ke>3&&pt&&Object.defineProperty(Pe,Ve,pt),pt}function V(Te,Pe,Ve,Fe){return new(Ve||(Ve=Promise))(function(pt,it){function wt(bt){try{$e(Fe.next(bt))}catch(Ct){it(Ct)}}function Bt(bt){try{$e(Fe.throw(bt))}catch(Ct){it(Ct)}}function $e(bt){bt.done?pt(bt.value):function Ke(pt){return pt instanceof Ve?pt:new Ve(function(it){it(pt)})}(bt.value).then(wt,Bt)}$e((Fe=Fe.apply(Te,Pe||[])).next())})}function be(Te){return this instanceof be?(this.v=Te,this):new be(Te)}function ze(Te,Pe,Ve){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ke,Fe=Ve.apply(Te,Pe||[]),pt=[];return Ke={},it("next"),it("throw"),it("return"),Ke[Symbol.asyncIterator]=function(){return this},Ke;function it(Tt){Fe[Tt]&&(Ke[Tt]=function(sn){return new Promise(function(gn,en){pt.push([Tt,sn,gn,en])>1||wt(Tt,sn)})})}function wt(Tt,sn){try{!function Bt(Tt){Tt.value instanceof be?Promise.resolve(Tt.value.v).then($e,bt):Ct(pt[0][2],Tt)}(Fe[Tt](sn))}catch(gn){Ct(pt[0][3],gn)}}function $e(Tt){wt("next",Tt)}function bt(Tt){wt("throw",Tt)}function Ct(Tt,sn){Tt(sn),pt.shift(),pt.length&&wt(pt[0][0],pt[0][1])}}function at(Te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ve,Pe=Te[Symbol.asyncIterator];return Pe?Pe.call(Te):(Te=function J(Te){var Pe="function"==typeof Symbol&&Symbol.iterator,Ve=Pe&&Te[Pe],Fe=0;if(Ve)return Ve.call(Te);if(Te&&"number"==typeof Te.length)return{next:function(){return Te&&Fe>=Te.length&&(Te=void 0),{value:Te&&Te[Fe++],done:!Te}}};throw new TypeError(Pe?"Object is not iterable.":"Symbol.iterator is not defined.")}(Te),Ve={},Fe("next"),Fe("throw"),Fe("return"),Ve[Symbol.asyncIterator]=function(){return this},Ve);function Fe(pt){Ve[pt]=Te[pt]&&function(it){return new Promise(function(wt,Bt){!function Ke(pt,it,wt,Bt){Promise.resolve(Bt).then(function($e){pt({value:$e,done:wt})},it)}(wt,Bt,(it=Te[pt](it)).done,it.value)})}}}T.d(ke,{FC:()=>ze,KL:()=>at,_T:()=>oe,gn:()=>ne,mG:()=>V,qq:()=>be})},445:(Pt,ke,T)=>{T.d(ke,{Is:()=>ee,vT:()=>q});var v=T(4650),h=T(6895);const F=new v.OlP("cdk-dir-doc",{providedIn:"root",factory:function oe(){return(0,v.f3M)(h.K0)}}),ne=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let ee=(()=>{class Y{constructor(J){if(this.value="ltr",this.change=new v.vpe,J){const Ie=J.documentElement?J.documentElement.dir:null;this.value=function he(Y){const K=Y?.toLowerCase()||"";return"auto"===K&&typeof navigator<"u"&&navigator?.language?ne.test(navigator.language)?"rtl":"ltr":"rtl"===K?"rtl":"ltr"}((J.body?J.body.dir:null)||Ie||"ltr")}}ngOnDestroy(){this.change.complete()}}return Y.\u0275fac=function(J){return new(J||Y)(v.LFG(F,8))},Y.\u0275prov=v.Yz7({token:Y,factory:Y.\u0275fac,providedIn:"root"}),Y})(),q=(()=>{class Y{}return Y.\u0275fac=function(J){return new(J||Y)},Y.\u0275mod=v.oAB({type:Y}),Y.\u0275inj=v.cJS({}),Y})()},1281:(Pt,ke,T)=>{T.d(ke,{Eq:()=>ne,HM:()=>he,Ig:()=>h,fI:()=>ee});var v=T(4650);function h(q){return null!=q&&"false"!=`${q}`}function ne(q){return Array.isArray(q)?q:[q]}function he(q){return null==q?"":"string"==typeof q?q:`${q}px`}function ee(q){return q instanceof v.SBq?q.nativeElement:q}},2289:(Pt,ke,T)=>{T.d(ke,{vx:()=>he,xu:()=>F});var v=T(4650),h=T(3353);let F=(()=>{class J{}return J.\u0275fac=function(Ie){return new(Ie||J)},J.\u0275mod=v.oAB({type:J}),J.\u0275inj=v.cJS({}),J})();const oe=new Set;let ne,he=(()=>{class J{constructor(Ie){this._platform=Ie,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):V}matchMedia(Ie){return(this._platform.WEBKIT||this._platform.BLINK)&&function ee(J){if(!oe.has(J))try{ne||(ne=document.createElement("style"),ne.setAttribute("type","text/css"),document.head.appendChild(ne)),ne.sheet&&(ne.sheet.insertRule(`@media ${J} {body{ }}`,0),oe.add(J))}catch(_e){console.error(_e)}}(Ie),this._matchMedia(Ie)}}return J.\u0275fac=function(Ie){return new(Ie||J)(v.LFG(h.t4))},J.\u0275prov=v.Yz7({token:J,factory:J.\u0275fac,providedIn:"root"}),J})();function V(J){return{matches:"all"===J||""===J,media:J,addListener:()=>{},removeListener:()=>{}}}},7518:(Pt,ke,T)=>{T.d(ke,{tR:()=>We,U8:()=>po});var v=T(1281),h=T(4650),F=T(7579),oe=T(9646),ne=T(9751),he=T(4968),ee=T(4408),V=T(727);const q={schedule(Be){let R=requestAnimationFrame,B=cancelAnimationFrame;const{delegate:le}=q;le&&(R=le.requestAnimationFrame,B=le.cancelAnimationFrame);const De=R(qe=>{B=void 0,Be(qe)});return new V.w0(()=>B?.(De))},requestAnimationFrame(...Be){const{delegate:R}=q;return(R?.requestAnimationFrame||requestAnimationFrame)(...Be)},cancelAnimationFrame(...Be){const{delegate:R}=q;return(R?.cancelAnimationFrame||cancelAnimationFrame)(...Be)},delegate:void 0};var K=T(7565);new class J extends K.v{flush(R){this._active=!0;const B=this._scheduled;this._scheduled=void 0;const{actions:le}=this;let De;R=R||le.shift();do{if(De=R.execute(R.state,R.delay))break}while((R=le[0])&&R.id===B&&le.shift());if(this._active=!1,De){for(;(R=le[0])&&R.id===B&&le.shift();)R.unsubscribe();throw De}}}(class Y extends ee.o{constructor(R,B){super(R,B),this.scheduler=R,this.work=B}requestAsyncId(R,B,le=0){return null!==le&&le>0?super.requestAsyncId(R,B,le):(R.actions.push(this),R._scheduled||(R._scheduled=q.requestAnimationFrame(()=>R.flush(void 0))))}recycleAsyncId(R,B,le=0){var De;if(null!=le?le>0:this.delay>0)return super.recycleAsyncId(R,B,le);const{actions:qe}=R;null!=B&&(null===(De=qe[qe.length-1])||void 0===De?void 0:De.id)!==B&&(q.cancelAnimationFrame(B),R._scheduled=void 0)}});let Ue,ie=1;const be={};function ze(Be){return Be in be&&(delete be[Be],!0)}const ft={setImmediate(Be){const R=ie++;return be[R]=!0,Ue||(Ue=Promise.resolve()),Ue.then(()=>ze(R)&&Be()),R},clearImmediate(Be){ze(Be)}},{setImmediate:ct,clearImmediate:Se}=ft,Le={setImmediate(...Be){const{delegate:R}=Le;return(R?.setImmediate||ct)(...Be)},clearImmediate(Be){const{delegate:R}=Le;return(R?.clearImmediate||Se)(Be)},delegate:void 0};new class Me extends K.v{flush(R){this._active=!0;const B=this._scheduled;this._scheduled=void 0;const{actions:le}=this;let De;R=R||le.shift();do{if(De=R.execute(R.state,R.delay))break}while((R=le[0])&&R.id===B&&le.shift());if(this._active=!1,De){for(;(R=le[0])&&R.id===B&&le.shift();)R.unsubscribe();throw De}}}(class ht extends ee.o{constructor(R,B){super(R,B),this.scheduler=R,this.work=B}requestAsyncId(R,B,le=0){return null!==le&&le>0?super.requestAsyncId(R,B,le):(R.actions.push(this),R._scheduled||(R._scheduled=Le.setImmediate(R.flush.bind(R,void 0))))}recycleAsyncId(R,B,le=0){var De;if(null!=le?le>0:this.delay>0)return super.recycleAsyncId(R,B,le);const{actions:qe}=R;null!=B&&(null===(De=qe[qe.length-1])||void 0===De?void 0:De.id)!==B&&(Le.clearImmediate(B),R._scheduled=void 0)}});var Te=T(9225),Pe=T(9300),Ve=T(3353),Fe=T(6895),Ke=T(445);let Tt=(()=>{class Be{constructor(B,le,De){this._ngZone=B,this._platform=le,this._scrolled=new F.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=De}register(B){this.scrollContainers.has(B)||this.scrollContainers.set(B,B.elementScrolled().subscribe(()=>this._scrolled.next(B)))}deregister(B){const le=this.scrollContainers.get(B);le&&(le.unsubscribe(),this.scrollContainers.delete(B))}scrolled(B=20){return this._platform.isBrowser?new ne.y(le=>{this._globalSubscription||this._addGlobalListener();const De=B>0?this._scrolled.pipe((0,Te.e)(B)).subscribe(le):this._scrolled.subscribe(le);return this._scrolledCount++,()=>{De.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,oe.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((B,le)=>this.deregister(le)),this._scrolled.complete()}ancestorScrolled(B,le){const De=this.getAncestorScrollContainers(B);return this.scrolled(le).pipe((0,Pe.h)(qe=>!qe||De.indexOf(qe)>-1))}getAncestorScrollContainers(B){const le=[];return this.scrollContainers.forEach((De,qe)=>{this._scrollableContainsElement(qe,B)&&le.push(qe)}),le}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(B,le){let De=(0,v.fI)(le),qe=B.getElementRef().nativeElement;do{if(De==qe)return!0}while(De=De.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const B=this._getWindow();return(0,he.R)(B.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return Be.\u0275fac=function(B){return new(B||Be)(h.LFG(h.R0b),h.LFG(Ve.t4),h.LFG(Fe.K0,8))},Be.\u0275prov=h.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"}),Be})(),en=(()=>{class Be{constructor(B,le,De){this._platform=B,this._change=new F.x,this._changeListener=qe=>{this._change.next(qe)},this._document=De,le.runOutsideAngular(()=>{if(B.isBrowser){const qe=this._getWindow();qe.addEventListener("resize",this._changeListener),qe.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const B=this._getWindow();B.removeEventListener("resize",this._changeListener),B.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const B={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),B}getViewportRect(){const B=this.getViewportScrollPosition(),{width:le,height:De}=this.getViewportSize();return{top:B.top,left:B.left,bottom:B.top+De,right:B.left+le,height:De,width:le}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const B=this._document,le=this._getWindow(),De=B.documentElement,qe=De.getBoundingClientRect();return{top:-qe.top||B.body.scrollTop||le.scrollY||De.scrollTop||0,left:-qe.left||B.body.scrollLeft||le.scrollX||De.scrollLeft||0}}change(B=20){return B>0?this._change.pipe((0,Te.e)(B)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const B=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:B.innerWidth,height:B.innerHeight}:{width:0,height:0}}}return Be.\u0275fac=function(B){return new(B||Be)(h.LFG(Ve.t4),h.LFG(h.R0b),h.LFG(Fe.K0,8))},Be.\u0275prov=h.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"}),Be})(),gr=(()=>{class Be{}return Be.\u0275fac=function(B){return new(B||Be)},Be.\u0275mod=h.oAB({type:Be}),Be.\u0275inj=h.cJS({}),Be})(),jt=(()=>{class Be{}return Be.\u0275fac=function(B){return new(B||Be)},Be.\u0275mod=h.oAB({type:Be}),Be.\u0275inj=h.cJS({imports:[Ke.vT,gr,Ke.vT,gr]}),Be})();class Ye{attach(R){return this._attachedHost=R,R.attach(this)}detach(){let R=this._attachedHost;null!=R&&(this._attachedHost=null,R.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(R){this._attachedHost=R}}class ye extends Ye{constructor(R,B,le,De){super(),this.component=R,this.viewContainerRef=B,this.injector=le,this.componentFactoryResolver=De}}class me extends Ye{constructor(R,B,le,De){super(),this.templateRef=R,this.viewContainerRef=B,this.context=le,this.injector=De}get origin(){return this.templateRef.elementRef}attach(R,B=this.context){return this.context=B,super.attach(R)}detach(){return this.context=void 0,super.detach()}}class ot extends Ye{constructor(R){super(),this.element=R instanceof h.SBq?R.nativeElement:R}}class bn extends class rt{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(R){return R instanceof ye?(this._attachedPortal=R,this.attachComponentPortal(R)):R instanceof me?(this._attachedPortal=R,this.attachTemplatePortal(R)):this.attachDomPortal&&R instanceof ot?(this._attachedPortal=R,this.attachDomPortal(R)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(R){this._disposeFn=R}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(R,B,le,De,qe){super(),this.outletElement=R,this._componentFactoryResolver=B,this._appRef=le,this._defaultInjector=De,this.attachDomPortal=Ft=>{const dn=Ft.element,Cn=this._document.createComment("dom-portal");dn.parentNode.insertBefore(Cn,dn),this.outletElement.appendChild(dn),this._attachedPortal=Ft,super.setDisposeFn(()=>{Cn.parentNode&&Cn.parentNode.replaceChild(dn,Cn)})},this._document=qe}attachComponentPortal(R){const le=(R.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(R.component);let De;return R.viewContainerRef?(De=R.viewContainerRef.createComponent(le,R.viewContainerRef.length,R.injector||R.viewContainerRef.injector),this.setDisposeFn(()=>De.destroy())):(De=le.create(R.injector||this._defaultInjector||h.zs3.NULL),this._appRef.attachView(De.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(De.hostView),De.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(De)),this._attachedPortal=R,De}attachTemplatePortal(R){let B=R.viewContainerRef,le=B.createEmbeddedView(R.templateRef,R.context,{injector:R.injector});return le.rootNodes.forEach(De=>this.outletElement.appendChild(De)),le.detectChanges(),this.setDisposeFn(()=>{let De=B.indexOf(le);-1!==De&&B.remove(De)}),this._attachedPortal=R,le}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(R){return R.hostView.rootNodes[0]}}let St=(()=>{class Be{}return Be.\u0275fac=function(B){return new(B||Be)},Be.\u0275mod=h.oAB({type:Be}),Be.\u0275inj=h.cJS({}),Be})();var Mt=T(6451),At=T(5698),vt=T(2722);const Ot=(0,Ve.Mq)();class _n{constructor(R,B){this._viewportRuler=R,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=B}attach(){}enable(){if(this._canBeEnabled()){const R=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=R.style.left||"",this._previousHTMLStyles.top=R.style.top||"",R.style.left=(0,v.HM)(-this._previousScrollPosition.left),R.style.top=(0,v.HM)(-this._previousScrollPosition.top),R.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const R=this._document.documentElement,le=R.style,De=this._document.body.style,qe=le.scrollBehavior||"",Ft=De.scrollBehavior||"";this._isEnabled=!1,le.left=this._previousHTMLStyles.left,le.top=this._previousHTMLStyles.top,R.classList.remove("cdk-global-scrollblock"),Ot&&(le.scrollBehavior=De.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Ot&&(le.scrollBehavior=qe,De.scrollBehavior=Ft)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const B=this._document.body,le=this._viewportRuler.getViewportSize();return B.scrollHeight>le.height||B.scrollWidth>le.width}}class Pn{constructor(R,B,le,De){this._scrollDispatcher=R,this._ngZone=B,this._viewportRuler=le,this._config=De,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(R){this._overlayRef=R}enable(){if(this._scrollSubscription)return;const R=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=R.subscribe(()=>{const B=this._viewportRuler.getViewportScrollPosition().top;Math.abs(B-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=R.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Ee{enable(){}disable(){}attach(){}}function ve(Be,R){return R.some(B=>Be.bottom<B.top||Be.top>B.bottom||Be.right<B.left||Be.left>B.right)}function Ae(Be,R){return R.some(B=>Be.top<B.top||Be.bottom>B.bottom||Be.left<B.left||Be.right>B.right)}class fe{constructor(R,B,le,De){this._scrollDispatcher=R,this._viewportRuler=B,this._ngZone=le,this._config=De,this._scrollSubscription=null}attach(R){this._overlayRef=R}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const B=this._overlayRef.overlayElement.getBoundingClientRect(),{width:le,height:De}=this._viewportRuler.getViewportSize();ve(B,[{width:le,height:De,bottom:De,right:le,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let G=(()=>{class Be{constructor(B,le,De,qe){this._scrollDispatcher=B,this._viewportRuler=le,this._ngZone=De,this.noop=()=>new Ee,this.close=Ft=>new Pn(this._scrollDispatcher,this._ngZone,this._viewportRuler,Ft),this.block=()=>new _n(this._viewportRuler,this._document),this.reposition=Ft=>new fe(this._scrollDispatcher,this._viewportRuler,this._ngZone,Ft),this._document=qe}}return Be.\u0275fac=function(B){return new(B||Be)(h.LFG(Tt),h.LFG(en),h.LFG(h.R0b),h.LFG(Fe.K0))},Be.\u0275prov=h.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"}),Be})();class ce{constructor(R){if(this.scrollStrategy=new Ee,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,R){const B=Object.keys(R);for(const le of B)void 0!==R[le]&&(this[le]=R[le])}}}class We{constructor(R,B,le,De,qe){this.offsetX=le,this.offsetY=De,this.panelClass=qe,this.originX=R.originX,this.originY=R.originY,this.overlayX=B.overlayX,this.overlayY=B.overlayY}}class tn{constructor(R,B){this.connectionPair=R,this.scrollableViewProperties=B}}let ae=(()=>{class Be{constructor(B){this._attachedOverlays=[],this._document=B}ngOnDestroy(){this.detach()}add(B){this.remove(B),this._attachedOverlays.push(B)}remove(B){const le=this._attachedOverlays.indexOf(B);le>-1&&this._attachedOverlays.splice(le,1),0===this._attachedOverlays.length&&this.detach()}}return Be.\u0275fac=function(B){return new(B||Be)(h.LFG(Fe.K0))},Be.\u0275prov=h.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"}),Be})(),re=(()=>{class Be extends ae{constructor(B,le){super(B),this._ngZone=le,this._keydownListener=De=>{const qe=this._attachedOverlays;for(let Ft=qe.length-1;Ft>-1;Ft--)if(qe[Ft]._keydownEvents.observers.length>0){const dn=qe[Ft]._keydownEvents;this._ngZone?this._ngZone.run(()=>dn.next(De)):dn.next(De);break}}}add(B){super.add(B),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return Be.\u0275fac=function(B){return new(B||Be)(h.LFG(Fe.K0),h.LFG(h.R0b,8))},Be.\u0275prov=h.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"}),Be})(),xe=(()=>{class Be extends ae{constructor(B,le,De){super(B),this._platform=le,this._ngZone=De,this._cursorStyleIsSet=!1,this._pointerDownListener=qe=>{this._pointerDownEventTarget=(0,Ve.sA)(qe)},this._clickListener=qe=>{const Ft=(0,Ve.sA)(qe),dn="click"===qe.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:Ft;this._pointerDownEventTarget=null;const Cn=this._attachedOverlays.slice();for(let mn=Cn.length-1;mn>-1;mn--){const Nn=Cn[mn];if(Nn._outsidePointerEvents.observers.length<1||!Nn.hasAttached())continue;if(Nn.overlayElement.contains(Ft)||Nn.overlayElement.contains(dn))break;const ur=Nn._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>ur.next(qe)):ur.next(qe)}}}add(B){if(super.add(B),!this._isAttached){const le=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(le)):this._addEventListeners(le),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=le.style.cursor,le.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const B=this._document.body;B.removeEventListener("pointerdown",this._pointerDownListener,!0),B.removeEventListener("click",this._clickListener,!0),B.removeEventListener("auxclick",this._clickListener,!0),B.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(B.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(B){B.addEventListener("pointerdown",this._pointerDownListener,!0),B.addEventListener("click",this._clickListener,!0),B.addEventListener("auxclick",this._clickListener,!0),B.addEventListener("contextmenu",this._clickListener,!0)}}return Be.\u0275fac=function(B){return new(B||Be)(h.LFG(Fe.K0),h.LFG(Ve.t4),h.LFG(h.R0b,8))},Be.\u0275prov=h.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"}),Be})(),Je=(()=>{class Be{constructor(B,le){this._platform=le,this._document=B}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const B="cdk-overlay-container";if(this._platform.isBrowser||(0,Ve.Oy)()){const De=this._document.querySelectorAll(`.${B}[platform="server"], .${B}[platform="test"]`);for(let qe=0;qe<De.length;qe++)De[qe].remove()}const le=this._document.createElement("div");le.classList.add(B),(0,Ve.Oy)()?le.setAttribute("platform","test"):this._platform.isBrowser||le.setAttribute("platform","server"),this._document.body.appendChild(le),this._containerElement=le}}return Be.\u0275fac=function(B){return new(B||Be)(h.LFG(Fe.K0),h.LFG(Ve.t4))},Be.\u0275prov=h.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"}),Be})();class Wt{constructor(R,B,le,De,qe,Ft,dn,Cn,mn,Nn=!1){this._portalOutlet=R,this._host=B,this._pane=le,this._config=De,this._ngZone=qe,this._keyboardDispatcher=Ft,this._document=dn,this._location=Cn,this._outsideClickDispatcher=mn,this._animationsDisabled=Nn,this._backdropElement=null,this._backdropClick=new F.x,this._attachments=new F.x,this._detachments=new F.x,this._locationChanges=V.w0.EMPTY,this._backdropClickHandler=ur=>this._backdropClick.next(ur),this._backdropTransitionendHandler=ur=>{this._disposeBackdrop(ur.target)},this._keydownEvents=new F.x,this._outsidePointerEvents=new F.x,De.scrollStrategy&&(this._scrollStrategy=De.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=De.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(R){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const B=this._portalOutlet.attach(R);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,At.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof B?.onDestroy&&B.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),B}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const R=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),R}dispose(){const R=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,R&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(R){R!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=R,this.hasAttached()&&(R.attach(this),this.updatePosition()))}updateSize(R){this._config={...this._config,...R},this._updateElementSize()}setDirection(R){this._config={...this._config,direction:R},this._updateElementDirection()}addPanelClass(R){this._pane&&this._toggleClasses(this._pane,R,!0)}removePanelClass(R){this._pane&&this._toggleClasses(this._pane,R,!1)}getDirection(){const R=this._config.direction;return R?"string"==typeof R?R:R.value:"ltr"}updateScrollStrategy(R){R!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=R,this.hasAttached()&&(R.attach(this),R.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const R=this._pane.style;R.width=(0,v.HM)(this._config.width),R.height=(0,v.HM)(this._config.height),R.minWidth=(0,v.HM)(this._config.minWidth),R.minHeight=(0,v.HM)(this._config.minHeight),R.maxWidth=(0,v.HM)(this._config.maxWidth),R.maxHeight=(0,v.HM)(this._config.maxHeight)}_togglePointerEvents(R){this._pane.style.pointerEvents=R?"":"none"}_attachBackdrop(){const R="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(R)})}):this._backdropElement.classList.add(R)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const R=this._backdropElement;if(R){if(this._animationsDisabled)return void this._disposeBackdrop(R);R.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{R.addEventListener("transitionend",this._backdropTransitionendHandler)}),R.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(R)},500))}}_toggleClasses(R,B,le){const De=(0,v.Eq)(B||[]).filter(qe=>!!qe);De.length&&(le?R.classList.add(...De):R.classList.remove(...De))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const R=this._ngZone.onStable.pipe((0,vt.R)((0,Mt.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),R.unsubscribe())})})}_disposeScrollStrategy(){const R=this._scrollStrategy;R&&(R.disable(),R.detach&&R.detach())}_disposeBackdrop(R){R&&(R.removeEventListener("click",this._backdropClickHandler),R.removeEventListener("transitionend",this._backdropTransitionendHandler),R.remove(),this._backdropElement===R&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const Sn="cdk-overlay-connected-position-bounding-box",Ln=/([A-Za-z%]+)$/;class Sr{constructor(R,B,le,De,qe){this._viewportRuler=B,this._document=le,this._platform=De,this._overlayContainer=qe,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new F.x,this._resizeSubscription=V.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(R)}get positions(){return this._preferredPositions}attach(R){this._validatePositions(),R.hostElement.classList.add(Sn),this._overlayRef=R,this._boundingBox=R.hostElement,this._pane=R.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const R=this._originRect,B=this._overlayRect,le=this._viewportRect,De=this._containerRect,qe=[];let Ft;for(let dn of this._preferredPositions){let Cn=this._getOriginPoint(R,De,dn),mn=this._getOverlayPoint(Cn,B,dn),Nn=this._getOverlayFit(mn,B,le,dn);if(Nn.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(dn,Cn);this._canFitWithFlexibleDimensions(Nn,mn,le)?qe.push({position:dn,origin:Cn,overlayRect:B,boundingBoxRect:this._calculateBoundingBoxRect(Cn,dn)}):(!Ft||Ft.overlayFit.visibleArea<Nn.visibleArea)&&(Ft={overlayFit:Nn,overlayPoint:mn,originPoint:Cn,position:dn,overlayRect:B})}if(qe.length){let dn=null,Cn=-1;for(const mn of qe){const Nn=mn.boundingBoxRect.width*mn.boundingBoxRect.height*(mn.position.weight||1);Nn>Cn&&(Cn=Nn,dn=mn)}return this._isPushed=!1,void this._applyPosition(dn.position,dn.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(Ft.position,Ft.originPoint);this._applyPosition(Ft.position,Ft.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Dr(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Sn),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const R=this._lastPosition;if(R){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const B=this._getOriginPoint(this._originRect,this._containerRect,R);this._applyPosition(R,B)}else this.apply()}withScrollableContainers(R){return this._scrollables=R,this}withPositions(R){return this._preferredPositions=R,-1===R.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(R){return this._viewportMargin=R,this}withFlexibleDimensions(R=!0){return this._hasFlexibleDimensions=R,this}withGrowAfterOpen(R=!0){return this._growAfterOpen=R,this}withPush(R=!0){return this._canPush=R,this}withLockedPosition(R=!0){return this._positionLocked=R,this}setOrigin(R){return this._origin=R,this}withDefaultOffsetX(R){return this._offsetX=R,this}withDefaultOffsetY(R){return this._offsetY=R,this}withTransformOriginOn(R){return this._transformOriginSelector=R,this}_getOriginPoint(R,B,le){let De,qe;if("center"==le.originX)De=R.left+R.width/2;else{const Ft=this._isRtl()?R.right:R.left,dn=this._isRtl()?R.left:R.right;De="start"==le.originX?Ft:dn}return B.left<0&&(De-=B.left),qe="center"==le.originY?R.top+R.height/2:"top"==le.originY?R.top:R.bottom,B.top<0&&(qe-=B.top),{x:De,y:qe}}_getOverlayPoint(R,B,le){let De,qe;return De="center"==le.overlayX?-B.width/2:"start"===le.overlayX?this._isRtl()?-B.width:0:this._isRtl()?0:-B.width,qe="center"==le.overlayY?-B.height/2:"top"==le.overlayY?0:-B.height,{x:R.x+De,y:R.y+qe}}_getOverlayFit(R,B,le,De){const qe=ji(B);let{x:Ft,y:dn}=R,Cn=this._getOffset(De,"x"),mn=this._getOffset(De,"y");Cn&&(Ft+=Cn),mn&&(dn+=mn);let li=0-dn,Wr=dn+qe.height-le.height,Jr=this._subtractOverflows(qe.width,0-Ft,Ft+qe.width-le.width),jr=this._subtractOverflows(qe.height,li,Wr),mc=Jr*jr;return{visibleArea:mc,isCompletelyWithinViewport:qe.width*qe.height===mc,fitsInViewportVertically:jr===qe.height,fitsInViewportHorizontally:Jr==qe.width}}_canFitWithFlexibleDimensions(R,B,le){if(this._hasFlexibleDimensions){const De=le.bottom-B.y,qe=le.right-B.x,Ft=cn(this._overlayRef.getConfig().minHeight),dn=cn(this._overlayRef.getConfig().minWidth),mn=R.fitsInViewportHorizontally||null!=dn&&dn<=qe;return(R.fitsInViewportVertically||null!=Ft&&Ft<=De)&&mn}return!1}_pushOverlayOnScreen(R,B,le){if(this._previousPushAmount&&this._positionLocked)return{x:R.x+this._previousPushAmount.x,y:R.y+this._previousPushAmount.y};const De=ji(B),qe=this._viewportRect,Ft=Math.max(R.x+De.width-qe.width,0),dn=Math.max(R.y+De.height-qe.height,0),Cn=Math.max(qe.top-le.top-R.y,0),mn=Math.max(qe.left-le.left-R.x,0);let Nn=0,ur=0;return Nn=De.width<=qe.width?mn||-Ft:R.x<this._viewportMargin?qe.left-le.left-R.x:0,ur=De.height<=qe.height?Cn||-dn:R.y<this._viewportMargin?qe.top-le.top-R.y:0,this._previousPushAmount={x:Nn,y:ur},{x:R.x+Nn,y:R.y+ur}}_applyPosition(R,B){if(this._setTransformOrigin(R),this._setOverlayElementStyles(B,R),this._setBoundingBoxStyles(B,R),R.panelClass&&this._addPanelClasses(R.panelClass),this._lastPosition=R,this._positionChanges.observers.length){const le=this._getScrollVisibility(),De=new tn(R,le);this._positionChanges.next(De)}this._isInitialRender=!1}_setTransformOrigin(R){if(!this._transformOriginSelector)return;const B=this._boundingBox.querySelectorAll(this._transformOriginSelector);let le,De=R.overlayY;le="center"===R.overlayX?"center":this._isRtl()?"start"===R.overlayX?"right":"left":"start"===R.overlayX?"left":"right";for(let qe=0;qe<B.length;qe++)B[qe].style.transformOrigin=`${le} ${De}`}_calculateBoundingBoxRect(R,B){const le=this._viewportRect,De=this._isRtl();let qe,Ft,dn,Nn,ur,li;if("top"===B.overlayY)Ft=R.y,qe=le.height-Ft+this._viewportMargin;else if("bottom"===B.overlayY)dn=le.height-R.y+2*this._viewportMargin,qe=le.height-dn+this._viewportMargin;else{const Wr=Math.min(le.bottom-R.y+le.top,R.y),Jr=this._lastBoundingBoxSize.height;qe=2*Wr,Ft=R.y-Wr,qe>Jr&&!this._isInitialRender&&!this._growAfterOpen&&(Ft=R.y-Jr/2)}if("end"===B.overlayX&&!De||"start"===B.overlayX&&De)li=le.width-R.x+this._viewportMargin,Nn=R.x-this._viewportMargin;else if("start"===B.overlayX&&!De||"end"===B.overlayX&&De)ur=R.x,Nn=le.right-R.x;else{const Wr=Math.min(le.right-R.x+le.left,R.x),Jr=this._lastBoundingBoxSize.width;Nn=2*Wr,ur=R.x-Wr,Nn>Jr&&!this._isInitialRender&&!this._growAfterOpen&&(ur=R.x-Jr/2)}return{top:Ft,left:ur,bottom:dn,right:li,width:Nn,height:qe}}_setBoundingBoxStyles(R,B){const le=this._calculateBoundingBoxRect(R,B);!this._isInitialRender&&!this._growAfterOpen&&(le.height=Math.min(le.height,this._lastBoundingBoxSize.height),le.width=Math.min(le.width,this._lastBoundingBoxSize.width));const De={};if(this._hasExactPosition())De.top=De.left="0",De.bottom=De.right=De.maxHeight=De.maxWidth="",De.width=De.height="100%";else{const qe=this._overlayRef.getConfig().maxHeight,Ft=this._overlayRef.getConfig().maxWidth;De.height=(0,v.HM)(le.height),De.top=(0,v.HM)(le.top),De.bottom=(0,v.HM)(le.bottom),De.width=(0,v.HM)(le.width),De.left=(0,v.HM)(le.left),De.right=(0,v.HM)(le.right),De.alignItems="center"===B.overlayX?"center":"end"===B.overlayX?"flex-end":"flex-start",De.justifyContent="center"===B.overlayY?"center":"bottom"===B.overlayY?"flex-end":"flex-start",qe&&(De.maxHeight=(0,v.HM)(qe)),Ft&&(De.maxWidth=(0,v.HM)(Ft))}this._lastBoundingBoxSize=le,Dr(this._boundingBox.style,De)}_resetBoundingBoxStyles(){Dr(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Dr(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(R,B){const le={},De=this._hasExactPosition(),qe=this._hasFlexibleDimensions,Ft=this._overlayRef.getConfig();if(De){const Nn=this._viewportRuler.getViewportScrollPosition();Dr(le,this._getExactOverlayY(B,R,Nn)),Dr(le,this._getExactOverlayX(B,R,Nn))}else le.position="static";let dn="",Cn=this._getOffset(B,"x"),mn=this._getOffset(B,"y");Cn&&(dn+=`translateX(${Cn}px) `),mn&&(dn+=`translateY(${mn}px)`),le.transform=dn.trim(),Ft.maxHeight&&(De?le.maxHeight=(0,v.HM)(Ft.maxHeight):qe&&(le.maxHeight="")),Ft.maxWidth&&(De?le.maxWidth=(0,v.HM)(Ft.maxWidth):qe&&(le.maxWidth="")),Dr(this._pane.style,le)}_getExactOverlayY(R,B,le){let De={top:"",bottom:""},qe=this._getOverlayPoint(B,this._overlayRect,R);return this._isPushed&&(qe=this._pushOverlayOnScreen(qe,this._overlayRect,le)),"bottom"===R.overlayY?De.bottom=this._document.documentElement.clientHeight-(qe.y+this._overlayRect.height)+"px":De.top=(0,v.HM)(qe.y),De}_getExactOverlayX(R,B,le){let Ft,De={left:"",right:""},qe=this._getOverlayPoint(B,this._overlayRect,R);return this._isPushed&&(qe=this._pushOverlayOnScreen(qe,this._overlayRect,le)),Ft=this._isRtl()?"end"===R.overlayX?"left":"right":"end"===R.overlayX?"right":"left","right"===Ft?De.right=this._document.documentElement.clientWidth-(qe.x+this._overlayRect.width)+"px":De.left=(0,v.HM)(qe.x),De}_getScrollVisibility(){const R=this._getOriginRect(),B=this._pane.getBoundingClientRect(),le=this._scrollables.map(De=>De.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Ae(R,le),isOriginOutsideView:ve(R,le),isOverlayClipped:Ae(B,le),isOverlayOutsideView:ve(B,le)}}_subtractOverflows(R,...B){return B.reduce((le,De)=>le-Math.max(De,0),R)}_getNarrowedViewportRect(){const R=this._document.documentElement.clientWidth,B=this._document.documentElement.clientHeight,le=this._viewportRuler.getViewportScrollPosition();return{top:le.top+this._viewportMargin,left:le.left+this._viewportMargin,right:le.left+R-this._viewportMargin,bottom:le.top+B-this._viewportMargin,width:R-2*this._viewportMargin,height:B-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(R,B){return"x"===B?R.offsetX??this._offsetX:R.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(R){this._pane&&(0,v.Eq)(R).forEach(B=>{""!==B&&-1===this._appliedPanelClasses.indexOf(B)&&(this._appliedPanelClasses.push(B),this._pane.classList.add(B))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(R=>{this._pane.classList.remove(R)}),this._appliedPanelClasses=[])}_getOriginRect(){const R=this._origin;if(R instanceof h.SBq)return R.nativeElement.getBoundingClientRect();if(R instanceof Element)return R.getBoundingClientRect();const B=R.width||0,le=R.height||0;return{top:R.y,bottom:R.y+le,left:R.x,right:R.x+B,height:le,width:B}}}function Dr(Be,R){for(let B in R)R.hasOwnProperty(B)&&(Be[B]=R[B]);return Be}function cn(Be){if("number"!=typeof Be&&null!=Be){const[R,B]=Be.split(Ln);return B&&"px"!==B?null:parseFloat(R)}return Be||null}function ji(Be){return{top:Math.floor(Be.top),right:Math.floor(Be.right),bottom:Math.floor(Be.bottom),left:Math.floor(Be.left),width:Math.floor(Be.width),height:Math.floor(Be.height)}}const Fi="cdk-global-overlay-wrapper";class Ur{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(R){const B=R.getConfig();this._overlayRef=R,this._width&&!B.width&&R.updateSize({width:this._width}),this._height&&!B.height&&R.updateSize({height:this._height}),R.hostElement.classList.add(Fi),this._isDisposed=!1}top(R=""){return this._bottomOffset="",this._topOffset=R,this._alignItems="flex-start",this}left(R=""){return this._xOffset=R,this._xPosition="left",this}bottom(R=""){return this._topOffset="",this._bottomOffset=R,this._alignItems="flex-end",this}right(R=""){return this._xOffset=R,this._xPosition="right",this}start(R=""){return this._xOffset=R,this._xPosition="start",this}end(R=""){return this._xOffset=R,this._xPosition="end",this}width(R=""){return this._overlayRef?this._overlayRef.updateSize({width:R}):this._width=R,this}height(R=""){return this._overlayRef?this._overlayRef.updateSize({height:R}):this._height=R,this}centerHorizontally(R=""){return this.left(R),this._xPosition="center",this}centerVertically(R=""){return this.top(R),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const R=this._overlayRef.overlayElement.style,B=this._overlayRef.hostElement.style,le=this._overlayRef.getConfig(),{width:De,height:qe,maxWidth:Ft,maxHeight:dn}=le,Cn=!("100%"!==De&&"100vw"!==De||Ft&&"100%"!==Ft&&"100vw"!==Ft),mn=!("100%"!==qe&&"100vh"!==qe||dn&&"100%"!==dn&&"100vh"!==dn),Nn=this._xPosition,ur=this._xOffset,li="rtl"===this._overlayRef.getConfig().direction;let Wr="",Jr="",jr="";Cn?jr="flex-start":"center"===Nn?(jr="center",li?Jr=ur:Wr=ur):li?"left"===Nn||"end"===Nn?(jr="flex-end",Wr=ur):("right"===Nn||"start"===Nn)&&(jr="flex-start",Jr=ur):"left"===Nn||"start"===Nn?(jr="flex-start",Wr=ur):("right"===Nn||"end"===Nn)&&(jr="flex-end",Jr=ur),R.position=this._cssPosition,R.marginLeft=Cn?"0":Wr,R.marginTop=mn?"0":this._topOffset,R.marginBottom=this._bottomOffset,R.marginRight=Cn?"0":Jr,B.justifyContent=jr,B.alignItems=mn?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const R=this._overlayRef.overlayElement.style,B=this._overlayRef.hostElement,le=B.style;B.classList.remove(Fi),le.justifyContent=le.alignItems=R.marginTop=R.marginBottom=R.marginLeft=R.marginRight=R.position="",this._overlayRef=null,this._isDisposed=!0}}let Lo=(()=>{class Be{constructor(B,le,De,qe){this._viewportRuler=B,this._document=le,this._platform=De,this._overlayContainer=qe}global(){return new Ur}flexibleConnectedTo(B){return new Sr(B,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return Be.\u0275fac=function(B){return new(B||Be)(h.LFG(en),h.LFG(Fe.K0),h.LFG(Ve.t4),h.LFG(Je))},Be.\u0275prov=h.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"}),Be})(),_i=0,ni=(()=>{class Be{constructor(B,le,De,qe,Ft,dn,Cn,mn,Nn,ur,li,Wr){this.scrollStrategies=B,this._overlayContainer=le,this._componentFactoryResolver=De,this._positionBuilder=qe,this._keyboardDispatcher=Ft,this._injector=dn,this._ngZone=Cn,this._document=mn,this._directionality=Nn,this._location=ur,this._outsideClickDispatcher=li,this._animationsModuleType=Wr}create(B){const le=this._createHostElement(),De=this._createPaneElement(le),qe=this._createPortalOutlet(De),Ft=new ce(B);return Ft.direction=Ft.direction||this._directionality.value,new Wt(qe,le,De,Ft,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(B){const le=this._document.createElement("div");return le.id="cdk-overlay-"+_i++,le.classList.add("cdk-overlay-pane"),B.appendChild(le),le}_createHostElement(){const B=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(B),B}_createPortalOutlet(B){return this._appRef||(this._appRef=this._injector.get(h.z2F)),new bn(B,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return Be.\u0275fac=function(B){return new(B||Be)(h.LFG(G),h.LFG(Je),h.LFG(h._Vd),h.LFG(Lo),h.LFG(re),h.LFG(h.zs3),h.LFG(h.R0b),h.LFG(Fe.K0),h.LFG(Ke.Is),h.LFG(Fe.Ye),h.LFG(xe),h.LFG(h.QbO,8))},Be.\u0275prov=h.Yz7({token:Be,factory:Be.\u0275fac}),Be})();const fo={provide:new h.OlP("cdk-connected-overlay-scroll-strategy"),deps:[ni],useFactory:function Vo(Be){return()=>Be.scrollStrategies.reposition()}};let po=(()=>{class Be{}return Be.\u0275fac=function(B){return new(B||Be)},Be.\u0275mod=h.oAB({type:Be}),Be.\u0275inj=h.cJS({providers:[ni,fo],imports:[Ke.vT,St,jt,jt]}),Be})()},3353:(Pt,ke,T)=>{T.d(ke,{Mq:()=>Ie,Oy:()=>ct,i$:()=>K,kV:()=>ze,sA:()=>at,t4:()=>oe,ud:()=>ne});var v=T(4650),h=T(6895);let F;try{F=typeof Intl<"u"&&Intl.v8BreakIterator}catch{F=!1}let q,_e,Ue,oe=(()=>{class Se{constructor(ht){this._platformId=ht,this.isBrowser=this._platformId?(0,h.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!F)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return Se.\u0275fac=function(ht){return new(ht||Se)(v.LFG(v.Lbi))},Se.\u0275prov=v.Yz7({token:Se,factory:Se.\u0275fac,providedIn:"root"}),Se})(),ne=(()=>{class Se{}return Se.\u0275fac=function(ht){return new(ht||Se)},Se.\u0275mod=v.oAB({type:Se}),Se.\u0275inj=v.cJS({}),Se})();function K(Se){return function Y(){if(null==q&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>q=!0}))}finally{q=q||!1}return q}()?Se:!!Se.capture}function Ie(){if(null==_e){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return _e=!1,_e;if("scrollBehavior"in document.documentElement.style)_e=!0;else{const Se=Element.prototype.scrollTo;_e=!!Se&&!/\{\s*\[native code\]\s*\}/.test(Se.toString())}}return _e}function ze(Se){if(function be(){if(null==Ue){const Se=typeof document<"u"?document.head:null;Ue=!(!Se||!Se.createShadowRoot&&!Se.attachShadow)}return Ue}()){const Le=Se.getRootNode?Se.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&Le instanceof ShadowRoot)return Le}return null}function at(Se){return Se.composedPath?Se.composedPath()[0]:Se.target}function ct(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},6895:(Pt,ke,T)=>{T.d(ke,{Do:()=>at,EM:()=>Ha,HT:()=>ne,JF:()=>Yo,K0:()=>ee,Mx:()=>xo,NF:()=>io,O5:()=>B,PM:()=>ys,S$:()=>be,V_:()=>Y,Ye:()=>ct,b0:()=>ft,bD:()=>Vi,ez:()=>yc,mk:()=>Er,q:()=>F,sg:()=>Ho,tP:()=>Wr,w_:()=>he});var v=T(4650);let h=null;function F(){return h}function ne(D){h||(h=D)}class he{}const ee=new v.OlP("DocumentToken");let V=(()=>{class D{historyGo(I){throw new Error("Not implemented")}}return D.\u0275fac=function(I){return new(I||D)},D.\u0275prov=v.Yz7({token:D,factory:function(){return function q(){return(0,v.LFG)(K)}()},providedIn:"platform"}),D})();const Y=new v.OlP("Location Initialized");let K=(()=>{class D extends V{constructor(I){super(),this._doc=I,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return F().getBaseHref(this._doc)}onPopState(I){const Q=F().getGlobalEventTarget(this._doc,"window");return Q.addEventListener("popstate",I,!1),()=>Q.removeEventListener("popstate",I)}onHashChange(I){const Q=F().getGlobalEventTarget(this._doc,"window");return Q.addEventListener("hashchange",I,!1),()=>Q.removeEventListener("hashchange",I)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(I){this.location.pathname=I}pushState(I,Q,we){J()?this._history.pushState(I,Q,we):this.location.hash=we}replaceState(I,Q,we){J()?this._history.replaceState(I,Q,we):this.location.hash=we}forward(){this._history.forward()}back(){this._history.back()}historyGo(I=0){this._history.go(I)}getState(){return this._history.state}}return D.\u0275fac=function(I){return new(I||D)(v.LFG(ee))},D.\u0275prov=v.Yz7({token:D,factory:function(){return function _e(){return new K((0,v.LFG)(ee))}()},providedIn:"platform"}),D})();function J(){return!!window.history.pushState}function Ie(D,H){if(0==D.length)return H;if(0==H.length)return D;let I=0;return D.endsWith("/")&&I++,H.startsWith("/")&&I++,2==I?D+H.substring(1):1==I?D+H:D+"/"+H}function ie(D){const H=D.match(/#|\?|$/),I=H&&H.index||D.length;return D.slice(0,I-("/"===D[I-1]?1:0))+D.slice(I)}function Ue(D){return D&&"?"!==D[0]?"?"+D:D}let be=(()=>{class D{historyGo(I){throw new Error("Not implemented")}}return D.\u0275fac=function(I){return new(I||D)},D.\u0275prov=v.Yz7({token:D,factory:function(){return(0,v.f3M)(ft)},providedIn:"root"}),D})();const ze=new v.OlP("appBaseHref");let ft=(()=>{class D extends be{constructor(I,Q){super(),this._platformLocation=I,this._removeListenerFns=[],this._baseHref=Q??this._platformLocation.getBaseHrefFromDOM()??(0,v.f3M)(ee).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(I){this._removeListenerFns.push(this._platformLocation.onPopState(I),this._platformLocation.onHashChange(I))}getBaseHref(){return this._baseHref}prepareExternalUrl(I){return Ie(this._baseHref,I)}path(I=!1){const Q=this._platformLocation.pathname+Ue(this._platformLocation.search),we=this._platformLocation.hash;return we&&I?`${Q}${we}`:Q}pushState(I,Q,we,st){const yt=this.prepareExternalUrl(we+Ue(st));this._platformLocation.pushState(I,Q,yt)}replaceState(I,Q,we,st){const yt=this.prepareExternalUrl(we+Ue(st));this._platformLocation.replaceState(I,Q,yt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(I=0){this._platformLocation.historyGo?.(I)}}return D.\u0275fac=function(I){return new(I||D)(v.LFG(V),v.LFG(ze,8))},D.\u0275prov=v.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})(),at=(()=>{class D extends be{constructor(I,Q){super(),this._platformLocation=I,this._baseHref="",this._removeListenerFns=[],null!=Q&&(this._baseHref=Q)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(I){this._removeListenerFns.push(this._platformLocation.onPopState(I),this._platformLocation.onHashChange(I))}getBaseHref(){return this._baseHref}path(I=!1){let Q=this._platformLocation.hash;return null==Q&&(Q="#"),Q.length>0?Q.substring(1):Q}prepareExternalUrl(I){const Q=Ie(this._baseHref,I);return Q.length>0?"#"+Q:Q}pushState(I,Q,we,st){let yt=this.prepareExternalUrl(we+Ue(st));0==yt.length&&(yt=this._platformLocation.pathname),this._platformLocation.pushState(I,Q,yt)}replaceState(I,Q,we,st){let yt=this.prepareExternalUrl(we+Ue(st));0==yt.length&&(yt=this._platformLocation.pathname),this._platformLocation.replaceState(I,Q,yt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(I=0){this._platformLocation.historyGo?.(I)}}return D.\u0275fac=function(I){return new(I||D)(v.LFG(V),v.LFG(ze,8))},D.\u0275prov=v.Yz7({token:D,factory:D.\u0275fac}),D})(),ct=(()=>{class D{constructor(I){this._subject=new v.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=I;const Q=this._locationStrategy.getBaseHref();this._baseHref=ie(ht(Q)),this._locationStrategy.onPopState(we=>{this._subject.emit({url:this.path(!0),pop:!0,state:we.state,type:we.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(I=!1){return this.normalize(this._locationStrategy.path(I))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(I,Q=""){return this.path()==this.normalize(I+Ue(Q))}normalize(I){return D.stripTrailingSlash(function Le(D,H){return D&&H.startsWith(D)?H.substring(D.length):H}(this._baseHref,ht(I)))}prepareExternalUrl(I){return I&&"/"!==I[0]&&(I="/"+I),this._locationStrategy.prepareExternalUrl(I)}go(I,Q="",we=null){this._locationStrategy.pushState(we,"",I,Q),this._notifyUrlChangeListeners(this.prepareExternalUrl(I+Ue(Q)),we)}replaceState(I,Q="",we=null){this._locationStrategy.replaceState(we,"",I,Q),this._notifyUrlChangeListeners(this.prepareExternalUrl(I+Ue(Q)),we)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(I=0){this._locationStrategy.historyGo?.(I)}onUrlChange(I){return this._urlChangeListeners.push(I),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Q=>{this._notifyUrlChangeListeners(Q.url,Q.state)})),()=>{const Q=this._urlChangeListeners.indexOf(I);this._urlChangeListeners.splice(Q,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(I="",Q){this._urlChangeListeners.forEach(we=>we(I,Q))}subscribe(I,Q,we){return this._subject.subscribe({next:I,error:Q,complete:we})}}return D.normalizeQueryParams=Ue,D.joinWithSlash=Ie,D.stripTrailingSlash=ie,D.\u0275fac=function(I){return new(I||D)(v.LFG(be))},D.\u0275prov=v.Yz7({token:D,factory:function(){return function Se(){return new ct((0,v.LFG)(be))}()},providedIn:"root"}),D})();function ht(D){return D.replace(/\/index.html$/,"")}function xo(D,H){H=encodeURIComponent(H);for(const I of D.split(";")){const Q=I.indexOf("="),[we,st]=-1==Q?[I,""]:[I.slice(0,Q),I.slice(Q+1)];if(we.trim()===H)return decodeURIComponent(st)}return null}let Er=(()=>{class D{constructor(I,Q,we,st){this._iterableDiffers=I,this._keyValueDiffers=Q,this._ngEl=we,this._renderer=st,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(I){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof I?I.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(I){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof I?I.split(/\s+/):I,this._rawClass&&((0,v.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const I=this._iterableDiffer.diff(this._rawClass);I&&this._applyIterableChanges(I)}else if(this._keyValueDiffer){const I=this._keyValueDiffer.diff(this._rawClass);I&&this._applyKeyValueChanges(I)}}_applyKeyValueChanges(I){I.forEachAddedItem(Q=>this._toggleClass(Q.key,Q.currentValue)),I.forEachChangedItem(Q=>this._toggleClass(Q.key,Q.currentValue)),I.forEachRemovedItem(Q=>{Q.previousValue&&this._toggleClass(Q.key,!1)})}_applyIterableChanges(I){I.forEachAddedItem(Q=>{if("string"!=typeof Q.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,v.AaK)(Q.item)}`);this._toggleClass(Q.item,!0)}),I.forEachRemovedItem(Q=>this._toggleClass(Q.item,!1))}_applyClasses(I){I&&(Array.isArray(I)||I instanceof Set?I.forEach(Q=>this._toggleClass(Q,!0)):Object.keys(I).forEach(Q=>this._toggleClass(Q,!!I[Q])))}_removeClasses(I){I&&(Array.isArray(I)||I instanceof Set?I.forEach(Q=>this._toggleClass(Q,!1)):Object.keys(I).forEach(Q=>this._toggleClass(Q,!1)))}_toggleClass(I,Q){(I=I.trim())&&I.split(/\s+/g).forEach(we=>{Q?this._renderer.addClass(this._ngEl.nativeElement,we):this._renderer.removeClass(this._ngEl.nativeElement,we)})}}return D.\u0275fac=function(I){return new(I||D)(v.Y36(v.ZZ4),v.Y36(v.aQg),v.Y36(v.SBq),v.Y36(v.Qsj))},D.\u0275dir=v.lG2({type:D,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),D})();class po{constructor(H,I,Q,we){this.$implicit=H,this.ngForOf=I,this.index=Q,this.count=we}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ho=(()=>{class D{constructor(I,Q,we){this._viewContainer=I,this._template=Q,this._differs=we,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(I){this._ngForOf=I,this._ngForOfDirty=!0}set ngForTrackBy(I){this._trackByFn=I}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(I){I&&(this._template=I)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const I=this._ngForOf;!this._differ&&I&&(this._differ=this._differs.find(I).create(this.ngForTrackBy))}if(this._differ){const I=this._differ.diff(this._ngForOf);I&&this._applyChanges(I)}}_applyChanges(I){const Q=this._viewContainer;I.forEachOperation((we,st,yt)=>{if(null==we.previousIndex)Q.createEmbeddedView(this._template,new po(we.item,this._ngForOf,-1,-1),null===yt?void 0:yt);else if(null==yt)Q.remove(null===st?void 0:st);else if(null!==st){const hn=Q.get(st);Q.move(hn,yt),Be(hn,we)}});for(let we=0,st=Q.length;we<st;we++){const hn=Q.get(we).context;hn.index=we,hn.count=st,hn.ngForOf=this._ngForOf}I.forEachIdentityChange(we=>{Be(Q.get(we.currentIndex),we)})}static ngTemplateContextGuard(I,Q){return!0}}return D.\u0275fac=function(I){return new(I||D)(v.Y36(v.s_b),v.Y36(v.Rgc),v.Y36(v.ZZ4))},D.\u0275dir=v.lG2({type:D,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),D})();function Be(D,H){D.context.$implicit=H.item}let B=(()=>{class D{constructor(I,Q){this._viewContainer=I,this._context=new le,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Q}set ngIf(I){this._context.$implicit=this._context.ngIf=I,this._updateView()}set ngIfThen(I){De("ngIfThen",I),this._thenTemplateRef=I,this._thenViewRef=null,this._updateView()}set ngIfElse(I){De("ngIfElse",I),this._elseTemplateRef=I,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(I,Q){return!0}}return D.\u0275fac=function(I){return new(I||D)(v.Y36(v.s_b),v.Y36(v.Rgc))},D.\u0275dir=v.lG2({type:D,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),D})();class le{constructor(){this.$implicit=null,this.ngIf=null}}function De(D,H){if(H&&!H.createEmbeddedView)throw new Error(`${D} must be a TemplateRef, but received '${(0,v.AaK)(H)}'.`)}let Wr=(()=>{class D{constructor(I){this._viewContainerRef=I,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(I){if(I.ngTemplateOutlet||I.ngTemplateOutletInjector){const Q=this._viewContainerRef;if(this._viewRef&&Q.remove(Q.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:we,ngTemplateOutletContext:st,ngTemplateOutletInjector:yt}=this;this._viewRef=Q.createEmbeddedView(we,st,yt?{injector:yt}:void 0)}else this._viewRef=null}else this._viewRef&&I.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return D.\u0275fac=function(I){return new(I||D)(v.Y36(v.s_b))},D.\u0275dir=v.lG2({type:D,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[v.TTD]}),D})(),yc=(()=>{class D{}return D.\u0275fac=function(I){return new(I||D)},D.\u0275mod=v.oAB({type:D}),D.\u0275inj=v.cJS({}),D})();const Vi="browser";function io(D){return D===Vi}function ys(D){return"server"===D}let Ha=(()=>{class D{}return D.\u0275prov=(0,v.Yz7)({token:D,providedIn:"root",factory:()=>new tl((0,v.LFG)(ee),window)}),D})();class tl{constructor(H,I){this.document=H,this.window=I,this.offset=()=>[0,0]}setOffset(H){this.offset=Array.isArray(H)?()=>H:H}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(H){this.supportsScrolling()&&this.window.scrollTo(H[0],H[1])}scrollToAnchor(H){if(!this.supportsScrolling())return;const I=function ei(D,H){const I=D.getElementById(H)||D.getElementsByName(H)[0];if(I)return I;if("function"==typeof D.createTreeWalker&&D.body&&(D.body.createShadowRoot||D.body.attachShadow)){const Q=D.createTreeWalker(D.body,NodeFilter.SHOW_ELEMENT);let we=Q.currentNode;for(;we;){const st=we.shadowRoot;if(st){const yt=st.getElementById(H)||st.querySelector(`[name="${H}"]`);if(yt)return yt}we=Q.nextNode()}}return null}(this.document,H);I&&(this.scrollToElement(I),I.focus())}setHistoryScrollRestoration(H){if(this.supportScrollRestoration()){const I=this.window.history;I&&I.scrollRestoration&&(I.scrollRestoration=H)}}scrollToElement(H){const I=H.getBoundingClientRect(),Q=I.left+this.window.pageXOffset,we=I.top+this.window.pageYOffset,st=this.offset();this.window.scrollTo(Q-st[0],we-st[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const H=Gi(this.window.history)||Gi(Object.getPrototypeOf(this.window.history));return!(!H||!H.writable&&!H.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Gi(D){return Object.getOwnPropertyDescriptor(D,"scrollRestoration")}class Yo{}},529:(Pt,ke,T)=>{T.d(ke,{JF:()=>Yt,eN:()=>pt,jN:()=>q});var v=T(6895),h=T(4650),F=T(9646),oe=T(9751),ne=T(4351),he=T(9300),ee=T(4004);class V{}class q{}class Y{constructor(ye){this.normalizedNames=new Map,this.lazyUpdate=null,ye?this.lazyInit="string"==typeof ye?()=>{this.headers=new Map,ye.split("\n").forEach(me=>{const ot=me.indexOf(":");if(ot>0){const rt=me.slice(0,ot),an=rt.toLowerCase(),bn=me.slice(ot+1).trim();this.maybeSetNormalizedName(rt,an),this.headers.has(an)?this.headers.get(an).push(bn):this.headers.set(an,[bn])}})}:()=>{this.headers=new Map,Object.keys(ye).forEach(me=>{let ot=ye[me];const rt=me.toLowerCase();"string"==typeof ot&&(ot=[ot]),ot.length>0&&(this.headers.set(rt,ot),this.maybeSetNormalizedName(me,rt))})}:this.headers=new Map}has(ye){return this.init(),this.headers.has(ye.toLowerCase())}get(ye){this.init();const me=this.headers.get(ye.toLowerCase());return me&&me.length>0?me[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(ye){return this.init(),this.headers.get(ye.toLowerCase())||null}append(ye,me){return this.clone({name:ye,value:me,op:"a"})}set(ye,me){return this.clone({name:ye,value:me,op:"s"})}delete(ye,me){return this.clone({name:ye,value:me,op:"d"})}maybeSetNormalizedName(ye,me){this.normalizedNames.has(me)||this.normalizedNames.set(me,ye)}init(){this.lazyInit&&(this.lazyInit instanceof Y?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(ye=>this.applyUpdate(ye)),this.lazyUpdate=null))}copyFrom(ye){ye.init(),Array.from(ye.headers.keys()).forEach(me=>{this.headers.set(me,ye.headers.get(me)),this.normalizedNames.set(me,ye.normalizedNames.get(me))})}clone(ye){const me=new Y;return me.lazyInit=this.lazyInit&&this.lazyInit instanceof Y?this.lazyInit:this,me.lazyUpdate=(this.lazyUpdate||[]).concat([ye]),me}applyUpdate(ye){const me=ye.name.toLowerCase();switch(ye.op){case"a":case"s":let ot=ye.value;if("string"==typeof ot&&(ot=[ot]),0===ot.length)return;this.maybeSetNormalizedName(ye.name,me);const rt=("a"===ye.op?this.headers.get(me):void 0)||[];rt.push(...ot),this.headers.set(me,rt);break;case"d":const an=ye.value;if(an){let bn=this.headers.get(me);if(!bn)return;bn=bn.filter(jn=>-1===an.indexOf(jn)),0===bn.length?(this.headers.delete(me),this.normalizedNames.delete(me)):this.headers.set(me,bn)}else this.headers.delete(me),this.normalizedNames.delete(me)}}forEach(ye){this.init(),Array.from(this.normalizedNames.keys()).forEach(me=>ye(this.normalizedNames.get(me),this.headers.get(me)))}}class J{encodeKey(ye){return Ue(ye)}encodeValue(ye){return Ue(ye)}decodeKey(ye){return decodeURIComponent(ye)}decodeValue(ye){return decodeURIComponent(ye)}}const Ie=/%(\d[a-f0-9])/gi,ie={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ue(Ye){return encodeURIComponent(Ye).replace(Ie,(ye,me)=>ie[me]??ye)}function be(Ye){return`${Ye}`}class ze{constructor(ye={}){if(this.updates=null,this.cloneFrom=null,this.encoder=ye.encoder||new J,ye.fromString){if(ye.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function _e(Ye,ye){const me=new Map;return Ye.length>0&&Ye.replace(/^\?/,"").split("&").forEach(rt=>{const an=rt.indexOf("="),[bn,jn]=-1==an?[ye.decodeKey(rt),""]:[ye.decodeKey(rt.slice(0,an)),ye.decodeValue(rt.slice(an+1))],$t=me.get(bn)||[];$t.push(jn),me.set(bn,$t)}),me}(ye.fromString,this.encoder)}else ye.fromObject?(this.map=new Map,Object.keys(ye.fromObject).forEach(me=>{const ot=ye.fromObject[me],rt=Array.isArray(ot)?ot.map(be):[be(ot)];this.map.set(me,rt)})):this.map=null}has(ye){return this.init(),this.map.has(ye)}get(ye){this.init();const me=this.map.get(ye);return me?me[0]:null}getAll(ye){return this.init(),this.map.get(ye)||null}keys(){return this.init(),Array.from(this.map.keys())}append(ye,me){return this.clone({param:ye,value:me,op:"a"})}appendAll(ye){const me=[];return Object.keys(ye).forEach(ot=>{const rt=ye[ot];Array.isArray(rt)?rt.forEach(an=>{me.push({param:ot,value:an,op:"a"})}):me.push({param:ot,value:rt,op:"a"})}),this.clone(me)}set(ye,me){return this.clone({param:ye,value:me,op:"s"})}delete(ye,me){return this.clone({param:ye,value:me,op:"d"})}toString(){return this.init(),this.keys().map(ye=>{const me=this.encoder.encodeKey(ye);return this.map.get(ye).map(ot=>me+"="+this.encoder.encodeValue(ot)).join("&")}).filter(ye=>""!==ye).join("&")}clone(ye){const me=new ze({encoder:this.encoder});return me.cloneFrom=this.cloneFrom||this,me.updates=(this.updates||[]).concat(ye),me}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(ye=>this.map.set(ye,this.cloneFrom.map.get(ye))),this.updates.forEach(ye=>{switch(ye.op){case"a":case"s":const me=("a"===ye.op?this.map.get(ye.param):void 0)||[];me.push(be(ye.value)),this.map.set(ye.param,me);break;case"d":if(void 0===ye.value){this.map.delete(ye.param);break}{let ot=this.map.get(ye.param)||[];const rt=ot.indexOf(be(ye.value));-1!==rt&&ot.splice(rt,1),ot.length>0?this.map.set(ye.param,ot):this.map.delete(ye.param)}}}),this.cloneFrom=this.updates=null)}}class at{constructor(){this.map=new Map}set(ye,me){return this.map.set(ye,me),this}get(ye){return this.map.has(ye)||this.map.set(ye,ye.defaultValue()),this.map.get(ye)}delete(ye){return this.map.delete(ye),this}has(ye){return this.map.has(ye)}keys(){return this.map.keys()}}function Se(Ye){return typeof ArrayBuffer<"u"&&Ye instanceof ArrayBuffer}function Le(Ye){return typeof Blob<"u"&&Ye instanceof Blob}function ht(Ye){return typeof FormData<"u"&&Ye instanceof FormData}class je{constructor(ye,me,ot,rt){let an;if(this.url=me,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=ye.toUpperCase(),function ct(Ye){switch(Ye){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||rt?(this.body=void 0!==ot?ot:null,an=rt):an=ot,an&&(this.reportProgress=!!an.reportProgress,this.withCredentials=!!an.withCredentials,an.responseType&&(this.responseType=an.responseType),an.headers&&(this.headers=an.headers),an.context&&(this.context=an.context),an.params&&(this.params=an.params)),this.headers||(this.headers=new Y),this.context||(this.context=new at),this.params){const bn=this.params.toString();if(0===bn.length)this.urlWithParams=me;else{const jn=me.indexOf("?");this.urlWithParams=me+(-1===jn?"?":jn<me.length-1?"&":"")+bn}}else this.params=new ze,this.urlWithParams=me}serializeBody(){return null===this.body?null:Se(this.body)||Le(this.body)||ht(this.body)||function Me(Ye){return typeof URLSearchParams<"u"&&Ye instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ze?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ht(this.body)?null:Le(this.body)?this.body.type||null:Se(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ze?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(ye={}){const me=ye.method||this.method,ot=ye.url||this.url,rt=ye.responseType||this.responseType,an=void 0!==ye.body?ye.body:this.body,bn=void 0!==ye.withCredentials?ye.withCredentials:this.withCredentials,jn=void 0!==ye.reportProgress?ye.reportProgress:this.reportProgress;let $t=ye.headers||this.headers,Oe=ye.params||this.params;const et=ye.context??this.context;return void 0!==ye.setHeaders&&($t=Object.keys(ye.setHeaders).reduce((Nt,St)=>Nt.set(St,ye.setHeaders[St]),$t)),ye.setParams&&(Oe=Object.keys(ye.setParams).reduce((Nt,St)=>Nt.set(St,ye.setParams[St]),Oe)),new je(me,ot,an,{params:Oe,headers:$t,context:et,reportProgress:jn,responseType:rt,withCredentials:bn})}}var He=(()=>((He=He||{})[He.Sent=0]="Sent",He[He.UploadProgress=1]="UploadProgress",He[He.ResponseHeader=2]="ResponseHeader",He[He.DownloadProgress=3]="DownloadProgress",He[He.Response=4]="Response",He[He.User=5]="User",He))();class Te{constructor(ye,me=200,ot="OK"){this.headers=ye.headers||new Y,this.status=void 0!==ye.status?ye.status:me,this.statusText=ye.statusText||ot,this.url=ye.url||null,this.ok=this.status>=200&&this.status<300}}class Pe extends Te{constructor(ye={}){super(ye),this.type=He.ResponseHeader}clone(ye={}){return new Pe({headers:ye.headers||this.headers,status:void 0!==ye.status?ye.status:this.status,statusText:ye.statusText||this.statusText,url:ye.url||this.url||void 0})}}class Ve extends Te{constructor(ye={}){super(ye),this.type=He.Response,this.body=void 0!==ye.body?ye.body:null}clone(ye={}){return new Ve({body:void 0!==ye.body?ye.body:this.body,headers:ye.headers||this.headers,status:void 0!==ye.status?ye.status:this.status,statusText:ye.statusText||this.statusText,url:ye.url||this.url||void 0})}}class Fe extends Te{constructor(ye){super(ye,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${ye.url||"(unknown url)"}`:`Http failure response for ${ye.url||"(unknown url)"}: ${ye.status} ${ye.statusText}`,this.error=ye.error||null}}function Ke(Ye,ye){return{body:ye,headers:Ye.headers,context:Ye.context,observe:Ye.observe,params:Ye.params,reportProgress:Ye.reportProgress,responseType:Ye.responseType,withCredentials:Ye.withCredentials}}let pt=(()=>{class Ye{constructor(me){this.handler=me}request(me,ot,rt={}){let an;if(me instanceof je)an=me;else{let $t,Oe;$t=rt.headers instanceof Y?rt.headers:new Y(rt.headers),rt.params&&(Oe=rt.params instanceof ze?rt.params:new ze({fromObject:rt.params})),an=new je(me,ot,void 0!==rt.body?rt.body:null,{headers:$t,context:rt.context,params:Oe,reportProgress:rt.reportProgress,responseType:rt.responseType||"json",withCredentials:rt.withCredentials})}const bn=(0,F.of)(an).pipe((0,ne.b)($t=>this.handler.handle($t)));if(me instanceof je||"events"===rt.observe)return bn;const jn=bn.pipe((0,he.h)($t=>$t instanceof Ve));switch(rt.observe||"body"){case"body":switch(an.responseType){case"arraybuffer":return jn.pipe((0,ee.U)($t=>{if(null!==$t.body&&!($t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return $t.body}));case"blob":return jn.pipe((0,ee.U)($t=>{if(null!==$t.body&&!($t.body instanceof Blob))throw new Error("Response is not a Blob.");return $t.body}));case"text":return jn.pipe((0,ee.U)($t=>{if(null!==$t.body&&"string"!=typeof $t.body)throw new Error("Response is not a string.");return $t.body}));default:return jn.pipe((0,ee.U)($t=>$t.body))}case"response":return jn;default:throw new Error(`Unreachable: unhandled observe type ${rt.observe}}`)}}delete(me,ot={}){return this.request("DELETE",me,ot)}get(me,ot={}){return this.request("GET",me,ot)}head(me,ot={}){return this.request("HEAD",me,ot)}jsonp(me,ot){return this.request("JSONP",me,{params:(new ze).append(ot,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(me,ot={}){return this.request("OPTIONS",me,ot)}patch(me,ot,rt={}){return this.request("PATCH",me,Ke(rt,ot))}post(me,ot,rt={}){return this.request("POST",me,Ke(rt,ot))}put(me,ot,rt={}){return this.request("PUT",me,Ke(rt,ot))}}return Ye.\u0275fac=function(me){return new(me||Ye)(h.LFG(V))},Ye.\u0275prov=h.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})();class it{constructor(ye,me){this.next=ye,this.interceptor=me}handle(ye){return this.interceptor.intercept(ye,this.next)}}const wt=new h.OlP("HTTP_INTERCEPTORS");let Bt=(()=>{class Ye{intercept(me,ot){return ot.handle(me)}}return Ye.\u0275fac=function(me){return new(me||Ye)},Ye.\u0275prov=h.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})();const kn=/^\)\]\}',?\n/;let mr=(()=>{class Ye{constructor(me){this.xhrFactory=me}handle(me){if("JSONP"===me.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new oe.y(ot=>{const rt=this.xhrFactory.build();if(rt.open(me.method,me.urlWithParams),me.withCredentials&&(rt.withCredentials=!0),me.headers.forEach((Qt,Mt)=>rt.setRequestHeader(Qt,Mt.join(","))),me.headers.has("Accept")||rt.setRequestHeader("Accept","application/json, text/plain, */*"),!me.headers.has("Content-Type")){const Qt=me.detectContentTypeHeader();null!==Qt&&rt.setRequestHeader("Content-Type",Qt)}if(me.responseType){const Qt=me.responseType.toLowerCase();rt.responseType="json"!==Qt?Qt:"text"}const an=me.serializeBody();let bn=null;const jn=()=>{if(null!==bn)return bn;const Qt=rt.statusText||"OK",Mt=new Y(rt.getAllResponseHeaders()),At=function vn(Ye){return"responseURL"in Ye&&Ye.responseURL?Ye.responseURL:/^X-Request-URL:/m.test(Ye.getAllResponseHeaders())?Ye.getResponseHeader("X-Request-URL"):null}(rt)||me.url;return bn=new Pe({headers:Mt,status:rt.status,statusText:Qt,url:At}),bn},$t=()=>{let{headers:Qt,status:Mt,statusText:At,url:vt}=jn(),Ot=null;204!==Mt&&(Ot=typeof rt.response>"u"?rt.responseText:rt.response),0===Mt&&(Mt=Ot?200:0);let _n=Mt>=200&&Mt<300;if("json"===me.responseType&&"string"==typeof Ot){const pn=Ot;Ot=Ot.replace(kn,"");try{Ot=""!==Ot?JSON.parse(Ot):null}catch(Pn){Ot=pn,_n&&(_n=!1,Ot={error:Pn,text:Ot})}}_n?(ot.next(new Ve({body:Ot,headers:Qt,status:Mt,statusText:At,url:vt||void 0})),ot.complete()):ot.error(new Fe({error:Ot,headers:Qt,status:Mt,statusText:At,url:vt||void 0}))},Oe=Qt=>{const{url:Mt}=jn(),At=new Fe({error:Qt,status:rt.status||0,statusText:rt.statusText||"Unknown Error",url:Mt||void 0});ot.error(At)};let et=!1;const Nt=Qt=>{et||(ot.next(jn()),et=!0);let Mt={type:He.DownloadProgress,loaded:Qt.loaded};Qt.lengthComputable&&(Mt.total=Qt.total),"text"===me.responseType&&!!rt.responseText&&(Mt.partialText=rt.responseText),ot.next(Mt)},St=Qt=>{let Mt={type:He.UploadProgress,loaded:Qt.loaded};Qt.lengthComputable&&(Mt.total=Qt.total),ot.next(Mt)};return rt.addEventListener("load",$t),rt.addEventListener("error",Oe),rt.addEventListener("timeout",Oe),rt.addEventListener("abort",Oe),me.reportProgress&&(rt.addEventListener("progress",Nt),null!==an&&rt.upload&&rt.upload.addEventListener("progress",St)),rt.send(an),ot.next({type:He.Sent}),()=>{rt.removeEventListener("error",Oe),rt.removeEventListener("abort",Oe),rt.removeEventListener("load",$t),rt.removeEventListener("timeout",Oe),me.reportProgress&&(rt.removeEventListener("progress",Nt),null!==an&&rt.upload&&rt.upload.removeEventListener("progress",St)),rt.readyState!==rt.DONE&&rt.abort()}})}}return Ye.\u0275fac=function(me){return new(me||Ye)(h.LFG(v.JF))},Ye.\u0275prov=h.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})();const Nr=new h.OlP("XSRF_COOKIE_NAME"),yn=new h.OlP("XSRF_HEADER_NAME");class sr{}let Vr=(()=>{class Ye{constructor(me,ot,rt){this.doc=me,this.platform=ot,this.cookieName=rt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const me=this.doc.cookie||"";return me!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,v.Mx)(me,this.cookieName),this.lastCookieString=me),this.lastToken}}return Ye.\u0275fac=function(me){return new(me||Ye)(h.LFG(v.K0),h.LFG(h.Lbi),h.LFG(Nr))},Ye.\u0275prov=h.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})(),gr=(()=>{class Ye{constructor(me,ot){this.tokenService=me,this.headerName=ot}intercept(me,ot){const rt=me.url.toLowerCase();if("GET"===me.method||"HEAD"===me.method||rt.startsWith("http://")||rt.startsWith("https://"))return ot.handle(me);const an=this.tokenService.getToken();return null!==an&&!me.headers.has(this.headerName)&&(me=me.clone({headers:me.headers.set(this.headerName,an)})),ot.handle(me)}}return Ye.\u0275fac=function(me){return new(me||Ye)(h.LFG(sr),h.LFG(yn))},Ye.\u0275prov=h.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})(),jt=(()=>{class Ye{constructor(me,ot){this.backend=me,this.injector=ot,this.chain=null}handle(me){if(null===this.chain){const ot=this.injector.get(wt,[]);this.chain=ot.reduceRight((rt,an)=>new it(rt,an),this.backend)}return this.chain.handle(me)}}return Ye.\u0275fac=function(me){return new(me||Ye)(h.LFG(q),h.LFG(h.zs3))},Ye.\u0275prov=h.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})(),Lt=(()=>{class Ye{static disable(){return{ngModule:Ye,providers:[{provide:gr,useClass:Bt}]}}static withOptions(me={}){return{ngModule:Ye,providers:[me.cookieName?{provide:Nr,useValue:me.cookieName}:[],me.headerName?{provide:yn,useValue:me.headerName}:[]]}}}return Ye.\u0275fac=function(me){return new(me||Ye)},Ye.\u0275mod=h.oAB({type:Ye}),Ye.\u0275inj=h.cJS({providers:[gr,{provide:wt,useExisting:gr,multi:!0},{provide:sr,useClass:Vr},{provide:Nr,useValue:"XSRF-TOKEN"},{provide:yn,useValue:"X-XSRF-TOKEN"}]}),Ye})(),Yt=(()=>{class Ye{}return Ye.\u0275fac=function(me){return new(me||Ye)},Ye.\u0275mod=h.oAB({type:Ye}),Ye.\u0275inj=h.cJS({providers:[pt,{provide:V,useClass:jt},mr,{provide:q,useExisting:mr}],imports:[Lt.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),Ye})()},4650:(Pt,ke,T)=>{T.d(ke,{$8M:()=>ca,$Z:()=>I8,AFp:()=>E0,AaK:()=>V,BQk:()=>Il,CRH:()=>hf,CZH:()=>xd,CqO:()=>C3,D6c:()=>$c,DdM:()=>Zm,EJc:()=>Df,EiD:()=>Bu,F$t:()=>D3,F4k:()=>Jp,FYo:()=>V1,FiY:()=>Jt,G48:()=>H5,GfV:()=>Gd,Gpc:()=>K,Hsn:()=>em,JOm:()=>Oc,JVY:()=>r2,L6k:()=>Vd,LAX:()=>Bd,LFG:()=>Ei,LSH:()=>ru,Lbi:()=>Ef,Lck:()=>l7,MAs:()=>Jn,MMx:()=>Z6,NdJ:()=>s6,OlP:()=>zr,Oqu:()=>y6,PXZ:()=>Nf,Q6J:()=>Qe,QGY:()=>hd,QP$:()=>Dt,QbO:()=>W7,Qsj:()=>G0,R0b:()=>Oa,RDi:()=>Rd,Rgc:()=>Md,SBq:()=>R4,Sil:()=>T5,Suo:()=>Yc,TTD:()=>Li,TgZ:()=>lr,Udp:()=>zh,VKq:()=>Qm,W1O:()=>a5,X6Q:()=>V5,XFs:()=>jt,Xpm:()=>vt,Xts:()=>Ud,Y36:()=>mu,YKP:()=>$m,YNc:()=>dd,Yjl:()=>fe,Yz7:()=>sn,Z0I:()=>pr,ZZ4:()=>K5,_Bn:()=>jm,_UZ:()=>Xr,_Vd:()=>iu,_c5:()=>Ev,_uU:()=>N3,aQg:()=>Kf,c2e:()=>D0,cJS:()=>en,cg1:()=>j3,dDg:()=>D9,dqk:()=>rt,eBb:()=>Hd,eFA:()=>ov,ekj:()=>Ah,eoX:()=>k5,f3M:()=>k,g9A:()=>Sf,h0i:()=>Sd,hGG:()=>Au,hij:()=>vd,iGM:()=>s5,ifc:()=>ot,ip1:()=>S5,jDz:()=>Q6,kL8:()=>Ir,lG2:()=>Ae,lqb:()=>ju,lri:()=>Af,mCW:()=>m,n5z:()=>fi,oAB:()=>Pn,oxw:()=>a6,pB0:()=>z1,q3G:()=>Mr,q4F:()=>m2,qLn:()=>to,qOj:()=>Ch,qZA:()=>xr,qzn:()=>gl,rWj:()=>kf,sBO:()=>fv,sIi:()=>Cu,s_b:()=>h0,soG:()=>Id,tb:()=>D5,tp0:()=>Bn,uIk:()=>c4,vHH:()=>ie,vpe:()=>Fl,wAp:()=>Yn,xp6:()=>B2,ynx:()=>Ks,z2F:()=>Rf,z3N:()=>xa,zSh:()=>Ht,zs3:()=>Xn});var v=T(7579),h=T(727),F=T(9751),oe=T(6451),ne=T(3099);function he(i){for(let o in i)if(i[o]===he)return o;throw Error("Could not find renamed property on target object.")}function ee(i,o){for(const a in o)o.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=o[a])}function V(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(V).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const o=i.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function q(i,o){return null==i||""===i?null===o?"":o:null==o||""===o?i:i+" "+o}const Y=he({__forward_ref__:he});function K(i){return i.__forward_ref__=K,i.toString=function(){return V(this())},i}function J(i){return _e(i)?i():i}function _e(i){return"function"==typeof i&&i.hasOwnProperty(Y)&&i.__forward_ref__===K}class ie extends Error{constructor(o,a){super(function Ue(i,o){return`NG0${Math.abs(i)}${o?": "+o.trim():""}`}(o,a)),this.code=o}}function be(i){return"string"==typeof i?i:null==i?"":String(i)}function Se(i,o){throw new ie(-201,!1)}function Bt(i,o){null==i&&function $e(i,o,a,c){throw new Error(`ASSERTION ERROR: ${i}`+(null==c?"":` [Expected=> ${a} ${c} ${o} <=Actual]`))}(o,i,null,"!=")}function sn(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function en(i){return{providers:i.providers||[],imports:i.imports||[]}}function Qn(i){return kn(i,yn)||kn(i,Vr)}function pr(i){return null!==Qn(i)}function kn(i,o){return i.hasOwnProperty(o)?i[o]:null}function Nr(i){return i&&(i.hasOwnProperty(sr)||i.hasOwnProperty(gr))?i[sr]:null}const yn=he({\u0275prov:he}),sr=he({\u0275inj:he}),Vr=he({ngInjectableDef:he}),gr=he({ngInjectorDef:he});var jt=(()=>((jt=jt||{})[jt.Default=0]="Default",jt[jt.Host=1]="Host",jt[jt.Self=2]="Self",jt[jt.SkipSelf=4]="SkipSelf",jt[jt.Optional=8]="Optional",jt))();let br;function Lt(i){const o=br;return br=i,o}function Yt(i,o,a){const c=Qn(i);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&jt.Optional?null:void 0!==o?o:void Se(V(i))}function Xt(i){return{toString:i}.toString()}var Ye=(()=>((Ye=Ye||{})[Ye.OnPush=0]="OnPush",Ye[Ye.Default=1]="Default",Ye))(),ot=(()=>{return(i=ot||(ot={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",ot;var i})();const rt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),jn={},$t=[],Oe=he({\u0275cmp:he}),et=he({\u0275dir:he}),Nt=he({\u0275pipe:he}),St=he({\u0275mod:he}),Qt=he({\u0275fac:he}),Mt=he({__NG_ELEMENT_ID__:he});let At=0;function vt(i){return Xt(()=>{const a=!0===i.standalone,c={},u={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===Ye.OnPush,directiveDefs:null,pipeDefs:null,standalone:a,dependencies:a&&i.dependencies||null,getStandaloneInjector:null,selectors:i.selectors||$t,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||ot.Emulated,id:"c"+At++,styles:i.styles||$t,_:null,setInput:null,schemas:i.schemas||null,tView:null},f=i.dependencies,y=i.features;return u.inputs=ve(i.inputs,c),u.outputs=ve(i.outputs),y&&y.forEach(S=>S(u)),u.directiveDefs=f?()=>("function"==typeof f?f():f).map(_n).filter(pn):null,u.pipeDefs=f?()=>("function"==typeof f?f():f).map(We).filter(pn):null,u})}function _n(i){return G(i)||ce(i)}function pn(i){return null!==i}function Pn(i){return Xt(()=>({type:i.type,bootstrap:i.bootstrap||$t,declarations:i.declarations||$t,imports:i.imports||$t,exports:i.exports||$t,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function ve(i,o){if(null==i)return jn;const a={};for(const c in i)if(i.hasOwnProperty(c)){let u=i[c],f=u;Array.isArray(u)&&(f=u[1],u=u[0]),a[u]=c,o&&(o[u]=f)}return a}const Ae=vt;function fe(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function G(i){return i[Oe]||null}function ce(i){return i[et]||null}function We(i){return i[Nt]||null}function Dt(i){const o=G(i)||ce(i)||We(i);return null!==o&&o.standalone}function tn(i,o){const a=i[St]||null;if(!a&&!0===o)throw new Error(`Type ${V(i)} does not have '\u0275mod' property.`);return a}const B=10;function De(i){return Array.isArray(i)&&"object"==typeof i[1]}function qe(i){return Array.isArray(i)&&!0===i[1]}function Ft(i){return 0!=(8&i.flags)}function dn(i){return 2==(2&i.flags)}function Cn(i){return 1==(1&i.flags)}function mn(i){return null!==i.template}function Nn(i){return 0!=(256&i[2])}function ui(i,o){return i.hasOwnProperty(Qt)?i[Qt]:null}class ts{constructor(o,a,c){this.previousValue=o,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function Li(){return zs}function zs(i){return i.type.prototype.ngOnChanges&&(i.setInput=ns),va}function va(){const i=mo(this),o=i?.current;if(o){const a=i.previous;if(a===jn)i.previous=o;else for(let c in o)a[c]=o[c];i.current=null,this.ngOnChanges(o)}}function ns(i,o,a,c){const u=mo(i)||function yc(i,o){return i[Va]=o}(i,{previous:jn,current:null}),f=u.current||(u.current={}),y=u.previous,S=this.declaredInputs[a],z=y[S];f[S]=new ts(z&&z.currentValue,o,y===jn),i[c]=o}Li.ngInherit=!0;const Va="__ngSimpleChanges__";function mo(i){return i[Va]||null}function Fr(i){for(;Array.isArray(i);)i=i[0];return i}function Gi(i,o){return Fr(o[i])}function ei(i,o){return Fr(o[i.index])}function Yo(i,o){return i.data[o]}function vr(i,o){const a=o[i];return De(a)?a:a[0]}function Uo(i){return 64==(64&i[2])}function go(i,o){return null==o?null:i[o]}function _a(i){i[18]=0}function Hr(i,o){i[5]+=o;let a=i,c=i[3];for(;null!==c&&(1===o&&1===a[5]||-1===o&&0===a[5]);)c[5]+=o,a=c,c=c[3]}const Fn={lFrame:bs(null),bindingsEnabled:!0};function jo(){return Fn.bindingsEnabled}function kt(){return Fn.lFrame.lView}function ir(){return Fn.lFrame.tView}function oi(){let i=oo();for(;null!==i&&64===i.type;)i=i.parent;return i}function oo(){return Fn.lFrame.currentTNode}function Wi(i,o){const a=Fn.lFrame;a.currentTNode=i,a.isParent=o}function Ya(){return Fn.lFrame.isParent}function so(){Fn.lFrame.isParent=!1}function ri(){const i=Fn.lFrame;let o=i.bindingRootIndex;return-1===o&&(o=i.bindingRootIndex=i.tView.bindingStartIndex),o}function is(){return Fn.lFrame.bindingIndex++}function Io(i,o){const a=Fn.lFrame;a.bindingIndex=a.bindingRootIndex=i,Ci(o)}function Ci(i){Fn.lFrame.currentDirectiveIndex=i}function ra(){return Fn.lFrame.currentQueryIndex}function _t(i){Fn.lFrame.currentQueryIndex=i}function vo(i){const o=i[1];return 2===o.type?o.declTNode:1===o.type?i[6]:null}function Os(i,o,a){if(a&jt.SkipSelf){let u=o,f=i;for(;!(u=u.parent,null!==u||a&jt.Host||(u=vo(f),null===u||(f=f[15],10&u.type))););if(null===u)return!1;o=u,i=f}const c=Fn.lFrame=_r();return c.currentTNode=o,c.lView=i,!0}function Ki(i){const o=_r(),a=i[1];Fn.lFrame=o,o.currentTNode=a.firstChild,o.lView=i,o.tView=a,o.contextLView=i,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function _r(){const i=Fn.lFrame,o=null===i?null:i.child;return null===o?bs(i):o}function bs(i){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=o),o}function Ko(){const i=Fn.lFrame;return Fn.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const D=Ko;function H(){const i=Ko();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function we(){return Fn.lFrame.selectedIndex}function st(i){Fn.lFrame.selectedIndex=i}function yt(){const i=Fn.lFrame;return Yo(i.tView,i.selectedIndex)}function Hn(i,o){for(let a=o.directiveStart,c=o.directiveEnd;a<c;a++){const f=i.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:S,ngAfterViewInit:z,ngAfterViewChecked:L,ngOnDestroy:X}=f;y&&(i.contentHooks||(i.contentHooks=[])).push(-a,y),S&&((i.contentHooks||(i.contentHooks=[])).push(a,S),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,S)),z&&(i.viewHooks||(i.viewHooks=[])).push(-a,z),L&&((i.viewHooks||(i.viewHooks=[])).push(a,L),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,L)),null!=X&&(i.destroyHooks||(i.destroyHooks=[])).push(a,X)}}function wr(i,o,a){ao(i,o,3,a)}function qo(i,o,a,c){(3&i[2])===a&&ao(i,o,a,c)}function yo(i,o){let a=i[2];(3&a)===o&&(a&=2047,a+=1,i[2]=a)}function ao(i,o,a,c){const f=c??-1,y=o.length-1;let S=0;for(let z=void 0!==c?65535&i[18]:0;z<y;z++)if("number"==typeof o[z+1]){if(S=o[z],null!=c&&S>=c)break}else o[z]<0&&(i[18]+=65536),(S<f||-1==f)&&(as(i,a,o,z),i[18]=(4294901760&i[18])+z+2),z++}function as(i,o,a,c){const u=a[c]<0,f=a[c+1],S=i[u?-a[c]:a[c]];if(u){if(i[2]>>11<i[18]>>16&&(3&i[2])===o){i[2]+=2048;try{f.call(S)}finally{}}}else try{f.call(S)}finally{}}class qi{constructor(o,a,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function wo(i,o,a){let c=0;for(;c<a.length;){const u=a[c];if("number"==typeof u){if(0!==u)break;c++;const f=a[c++],y=a[c++],S=a[c++];i.setAttribute(o,y,S,f)}else{const f=u,y=a[++c];ja(f)?i.setProperty(o,f,y):i.setAttribute(o,f,y),c++}}return c}function ba(i){return 3===i||4===i||6===i}function ja(i){return 64===i.charCodeAt(0)}function Ca(i,o){if(null!==o&&0!==o.length)if(null===i||0===i.length)i=o.slice();else{let a=-1;for(let c=0;c<o.length;c++){const u=o[c];"number"==typeof u?a=u:0===a||il(i,a,u,null,-1===a||2===a?o[++c]:null)}}return i}function il(i,o,a,c,u){let f=0,y=i.length;if(-1===o)y=-1;else for(;f<i.length;){const S=i[f++];if("number"==typeof S){if(S===o){y=-1;break}if(S>o){y=f-1;break}}}for(;f<i.length;){const S=i[f];if("number"==typeof S)break;if(S===a){if(null===c)return void(null!==u&&(i[f+1]=u));if(c===i[f+1])return void(i[f+2]=u)}f++,null!==c&&f++,null!==u&&f++}-1!==y&&(i.splice(y,0,o),f=y+1),i.splice(f++,0,a),null!==c&&i.splice(f++,0,c),null!==u&&i.splice(f++,0,u)}function ol(i){return-1!==i}function Zr(i){return 32767&i}function ls(i,o){let a=function $l(i){return i>>16}(i),c=o;for(;a>0;)c=c[15],a--;return c}let $a=!0;function Ga(i){const o=$a;return $a=i,o}let sl=0;const hi={};function zo(i,o){const a=ll(i,o);if(-1!==a)return a;const c=o[1];c.firstCreatePass&&(i.injectorIndex=o.length,cl(c.data,i),cl(o,null),cl(c.blueprint,null));const u=Cs(i,o),f=i.injectorIndex;if(ol(u)){const y=Zr(u),S=ls(u,o),z=S[1].data;for(let L=0;L<8;L++)o[f+L]=S[y+L]|z[y+L]}return o[f+8]=u,f}function cl(i,o){i.push(0,0,0,0,0,0,0,0,o)}function ll(i,o){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===o[i.injectorIndex+8]?-1:i.injectorIndex}function Cs(i,o){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,c=null,u=o;for(;null!==u;){if(c=Vs(u),null===c)return-1;if(a++,u=u[15],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return-1}function Ns(i,o,a){!function al(i,o,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(Mt)&&(c=a[Mt]),null==c&&(c=a[Mt]=sl++);const u=255&c;o.data[i+(u>>5)]|=1<<u}(i,o,a)}function oa(i,o,a){if(a&jt.Optional||void 0!==i)return i;Se()}function Ss(i,o,a,c){if(a&jt.Optional&&void 0===c&&(c=null),0==(a&(jt.Self|jt.Host))){const u=i[9],f=Lt(void 0);try{return u?u.get(o,c,a&jt.Optional):Yt(o,c,a&jt.Optional)}finally{Lt(f)}}return oa(c,0,a)}function Ao(i,o,a,c=jt.Default,u){if(null!==i){if(1024&o[2]){const y=function ul(i,o,a,c,u){let f=i,y=o;for(;null!==f&&null!==y&&1024&y[2]&&!(256&y[2]);){const S=Ec(f,y,a,c|jt.Self,hi);if(S!==hi)return S;let z=f.parent;if(!z){const L=y[21];if(L){const X=L.get(a,hi,c);if(X!==hi)return X}z=Vs(y),y=y[15]}f=z}return u}(i,o,a,c,hi);if(y!==hi)return y}const f=Ec(i,o,a,c,hi);if(f!==hi)return f}return Ss(o,a,c,u)}function Ec(i,o,a,c,u){const f=function Gl(i){if("string"==typeof i)return i.charCodeAt(0)||0;const o=i.hasOwnProperty(Mt)?i[Mt]:void 0;return"number"==typeof o?o>=0?255&o:Mc:o}(a);if("function"==typeof f){if(!Os(o,i,c))return c&jt.Host?oa(u,0,c):Ss(o,a,c,u);try{const y=f(c);if(null!=y||c&jt.Optional)return y;Se()}finally{D()}}else if("number"==typeof f){let y=null,S=ll(i,o),z=-1,L=c&jt.Host?o[16][6]:null;for((-1===S||c&jt.SkipSelf)&&(z=-1===S?Cs(i,o):o[S+8],-1!==z&&Wa(c,!1)?(y=o[1],S=Zr(z),o=ls(z,o)):S=-1);-1!==S;){const X=o[1];if(aa(f,S,X.data)){const ue=sa(S,o,a,y,c,L);if(ue!==hi)return ue}z=o[S+8],-1!==z&&Wa(c,o[1].data[S+8]===L)&&aa(f,S,o)?(y=X,S=Zr(z),o=ls(z,o)):S=-1}}return u}function sa(i,o,a,c,u,f){const y=o[1],S=y.data[i+8],X=us(S,y,a,null==c?dn(S)&&$a:c!=y&&0!=(3&S.type),u&jt.Host&&f===S);return null!==X?Zo(o,y,X,S):hi}function us(i,o,a,c,u){const f=i.providerIndexes,y=o.data,S=1048575&f,z=i.directiveStart,X=f>>20,Ne=u?S+X:i.directiveEnd;for(let nt=c?S:S+X;nt<Ne;nt++){const xt=y[nt];if(nt<z&&a===xt||nt>=z&&xt.type===a)return nt}if(u){const nt=y[z];if(nt&&mn(nt)&&nt.type===a)return z}return null}function Zo(i,o,a,c){let u=i[a];const f=o.data;if(function _o(i){return i instanceof qi}(u)){const y=u;y.resolving&&function ft(i,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${i}`:"";throw new ie(-200,`Circular dependency in DI detected for ${i}${a}`)}(function ze(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():be(i)}(f[a]));const S=Ga(y.canSeeViewProviders);y.resolving=!0;const z=y.injectImpl?Lt(y.injectImpl):null;Os(i,c,jt.Default);try{u=i[a]=y.factory(void 0,f,i,c),o.firstCreatePass&&a>=c.directiveStart&&function Rr(i,o,a){const{ngOnChanges:c,ngOnInit:u,ngDoCheck:f}=o.type.prototype;if(c){const y=zs(o);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,y),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,y)}u&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,u),f&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,f),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,f))}(a,f[a],o)}finally{null!==z&&Lt(z),Ga(S),y.resolving=!1,D()}}return u}function aa(i,o,a){return!!(a[o+(i>>5)]&1<<i)}function Wa(i,o){return!(i&jt.Self||i&jt.Host&&o)}class Rs{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,c){return Ao(this._tNode,this._lView,o,c,a)}}function Mc(){return new Rs(oi(),kt())}function fi(i){return Xt(()=>{const o=i.prototype.constructor,a=o[Qt]||Ls(o),c=Object.prototype;let u=Object.getPrototypeOf(i.prototype).constructor;for(;u&&u!==c;){const f=u[Qt]||Ls(u);if(f&&f!==a)return f;u=Object.getPrototypeOf(u)}return f=>new f})}function Ls(i){return _e(i)?()=>{const o=Ls(J(i));return o&&o()}:ui(i)}function Vs(i){const o=i[1],a=o.type;return 2===a?o.declTNode:1===a?i[6]:null}function ca(i){return function Fs(i,o){if("class"===o)return i.classes;if("style"===o)return i.styles;const a=i.attrs;if(a){const c=a.length;let u=0;for(;u<c;){const f=a[u];if(ba(f))break;if(0===f)u+=2;else if("number"==typeof f)for(u++;u<c&&"string"==typeof a[u];)u++;else{if(f===o)return a[u+1];u+=2}}}return null}(oi(),i)}const Br="__parameters__";function la(i,o,a){return Xt(()=>{const c=function Ka(i){return function(...a){if(i){const c=i(...a);for(const u in c)this[u]=c[u]}}}(o);function u(...f){if(this instanceof u)return c.apply(this,f),this;const y=new u(...f);return S.annotation=y,S;function S(z,L,X){const ue=z.hasOwnProperty(Br)?z[Br]:Object.defineProperty(z,Br,{value:[]})[Br];for(;ue.length<=X;)ue.push(null);return(ue[X]=ue[X]||[]).push(y),z}}return a&&(u.prototype=Object.create(a.prototype)),u.prototype.ngMetadataName=i,u.annotationCls=u,u})}class zr{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=sn({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Zi(i,o){void 0===o&&(o=i);for(let a=0;a<i.length;a++){let c=i[a];Array.isArray(c)?(o===i&&(o=i.slice(0,a)),Zi(c,o)):o!==i&&o.push(c)}return o}function Co(i,o){i.forEach(a=>Array.isArray(a)?Co(a,o):o(a))}function xc(i,o,a){o>=i.length?i.push(a):i.splice(o,0,a)}function ua(i,o){return o>=i.length-1?i.pop():i.splice(o,1)[0]}function ko(i,o){const a=[];for(let c=0;c<i;c++)a.push(o);return a}function zi(i,o,a){let c=w(i,o);return c>=0?i[1|c]=a:(c=~c,function da(i,o,a,c){let u=i.length;if(u==o)i.push(a,c);else if(1===u)i.push(c,i[0]),i[0]=a;else{for(u--,i.push(i[u-1],i[u]);u>o;)i[u]=i[u-2],u--;i[o]=a,i[o+1]=c}}(i,c,o,a)),c}function Za(i,o){const a=w(i,o);if(a>=0)return i[1|a]}function w(i,o){return function _(i,o,a){let c=0,u=i.length>>a;for(;u!==c;){const f=c+(u-c>>1),y=i[f<<a];if(o===y)return f<<a;y>o?u=f:c=f+1}return~(u<<a)}(i,o,1)}const hr={},si="__NG_DI_FLAG__",Qi="ngTempTokenPath",Ji=/\n/gm,Us="__source";let Ta;function ha(i){const o=Ta;return Ta=i,o}function D1(i,o=jt.Default){if(void 0===Ta)throw new ie(-203,!1);return null===Ta?Yt(i,void 0,o):Ta.get(i,o&jt.Optional?null:void 0,o)}function Ei(i,o=jt.Default){return(function tr(){return br}()||D1)(J(i),o)}function k(i,o=jt.Default){return"number"!=typeof o&&(o=0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)),Ei(i,o)}function N(i){const o=[];for(let a=0;a<i.length;a++){const c=J(i[a]);if(Array.isArray(c)){if(0===c.length)throw new ie(900,!1);let u,f=jt.Default;for(let y=0;y<c.length;y++){const S=c[y],z=ge(S);"number"==typeof z?-1===z?u=S.token:f|=z:u=S}o.push(Ei(u,f))}else o.push(Ei(c))}return o}function $(i,o){return i[si]=o,i.prototype[si]=o,i}function ge(i){return i[si]}const Jt=$(la("Optional"),8),Bn=$(la("SkipSelf"),4);let A4,Xl;function Rd(i){A4=i}function pl(i){return function Ru(){if(void 0===Xl&&(Xl=null,rt.trustedTypes))try{Xl=rt.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return Xl}()?.createHTML(i)||i}class tc{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class I1 extends tc{getTypeName(){return"HTML"}}class Vu extends tc{getTypeName(){return"Style"}}class eu extends tc{getTypeName(){return"Script"}}class n2 extends tc{getTypeName(){return"URL"}}class ai extends tc{getTypeName(){return"ResourceURL"}}function xa(i){return i instanceof tc?i.changingThisBreaksApplicationSecurity:i}function gl(i,o){const a=function Ld(i){return i instanceof tc&&i.getTypeName()||null}(i);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===o}function r2(i){return new I1(i)}function Vd(i){return new Vu(i)}function Hd(i){return new eu(i)}function Bd(i){return new n2(i)}function z1(i){return new ai(i)}class nc{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const a=(new window.DOMParser).parseFromString(pl(o),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(o):(a.removeChild(a.firstChild),a)}catch{return null}}}class o2{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const c=this.inertDocument.createElement("body");a.appendChild(c)}}getInertBodyElement(o){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=pl(o),a;const c=this.inertDocument.createElement("body");return c.innerHTML=pl(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(c),c}stripCustomNsAttrs(o){const a=o.attributes;for(let u=a.length-1;0<u;u--){const y=a.item(u).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&o.removeAttribute(y)}let c=o.firstChild;for(;c;)c.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(c),c=c.nextSibling}}const p=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function m(i){return(i=String(i)).match(p)?i:"unsafe:"+i}function M(i){const o={};for(const a of i.split(","))o[a]=!0;return o}function j(...i){const o={};for(const a of i)for(const c in a)a.hasOwnProperty(c)&&(o[c]=!0);return o}const te=M("area,br,col,hr,img,wbr"),Ze=M("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),It=M("rp,rt"),Qr=j(te,j(Ze,M("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),j(It,M("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),j(It,Ze)),Ms=M("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),k1=j(Ms,M("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),M("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),tu=M("script,style,template");class O4{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let a=o.firstChild,c=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?c=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,c&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let u=this.checkClobberedElement(a,a.nextSibling);if(u){a=u;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(o){const a=o.nodeName.toLowerCase();if(!Qr.hasOwnProperty(a))return this.sanitizedSomething=!0,!tu.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const c=o.attributes;for(let u=0;u<c.length;u++){const f=c.item(u),y=f.name,S=y.toLowerCase();if(!k1.hasOwnProperty(S)){this.sanitizedSomething=!0;continue}let z=f.value;Ms[S]&&(z=m(z)),this.buf.push(" ",y,'="',P1(z),'"')}return this.buf.push(">"),!0}endElement(o){const a=o.nodeName.toLowerCase();Qr.hasOwnProperty(a)&&!te.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(o){this.buf.push(P1(o))}checkClobberedElement(o,a){if(a&&(o.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return a}}const N4=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ic=/([^\#-~ |!])/g;function P1(i){return i.replace(/&/g,"&amp;").replace(N4,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(ic,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let nu;function Bu(i,o){let a=null;try{nu=nu||function A1(i){const o=new o2(i);return function C(){try{return!!(new window.DOMParser).parseFromString(pl(""),"text/html")}catch{return!1}}()?new nc(o):o}(i);let c=o?String(o):"";a=nu.getInertBodyElement(c);let u=5,f=c;do{if(0===u)throw new Error("Failed to sanitize html because the input is unstable");u--,c=f,f=a.innerHTML,a=nu.getInertBodyElement(c)}while(c!==f);return pl((new O4).sanitizeChildren(Yu(a)||a))}finally{if(a){const c=Yu(a)||a;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function Yu(i){return"content"in i&&function O1(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var Mr=(()=>((Mr=Mr||{})[Mr.NONE=0]="NONE",Mr[Mr.HTML=1]="HTML",Mr[Mr.STYLE=2]="STYLE",Mr[Mr.SCRIPT=3]="SCRIPT",Mr[Mr.URL=4]="URL",Mr[Mr.RESOURCE_URL=5]="RESOURCE_URL",Mr))();function ru(i){const o=function F4(){const i=kt();return i&&i[12]}();return o?o.sanitize(Mr.URL,i)||"":gl(i,"URL")?xa(i):m(be(i))}const Ud=new zr("ENVIRONMENT_INITIALIZER"),So=new zr("INJECTOR",-1),Uu=new zr("INJECTOR_DEF_TYPES");class vl{get(o,a=hr){if(a===hr){const c=new Error(`NullInjectorError: No provider for ${V(o)}!`);throw c.name="NullInjectorError",c}return a}}function c2(...i){return{\u0275providers:H0(0,i)}}function H0(i,...o){const a=[],c=new Set;let u;return Co(o,f=>{const y=f;Ai(y,a,[],c)&&(u||(u=[]),u.push(y))}),void 0!==u&&Gt(u,a),a}function Gt(i,o){for(let a=0;a<i.length;a++){const{providers:u}=i[a];Co(u,f=>{o.push(f)})}}function Ai(i,o,a,c){if(!(i=J(i)))return!1;let u=null,f=Nr(i);const y=!f&&G(i);if(f||y){if(y&&!y.standalone)return!1;u=i}else{const z=i.ngModule;if(f=Nr(z),!f)return!1;u=z}const S=c.has(u);if(y){if(S)return!1;if(c.add(u),y.dependencies){const z="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const L of z)Ai(L,o,a,c)}}else{if(!f)return!1;{if(null!=f.imports&&!S){let L;c.add(u);try{Co(f.imports,X=>{Ai(X,o,a,c)&&(L||(L=[]),L.push(X))})}finally{}void 0!==L&&Gt(L,o)}if(!S){const L=ui(u)||(()=>new u);o.push({provide:u,useFactory:L,deps:$t},{provide:Uu,useValue:u,multi:!0},{provide:Ud,useValue:()=>Ei(u),multi:!0})}const z=f.providers;null==z||S||Co(z,X=>{o.push(X)})}}return u!==i&&void 0!==i.providers}const l2=he({provide:String,useValue:he});function En(i){return null!==i&&"object"==typeof i&&l2 in i}function on(i){return"function"==typeof i}const Ht=new zr("Set Injector scope."),Bi={},Y0={};let u2;function jd(){return void 0===u2&&(u2=new vl),u2}class ju{}class d2 extends ju{constructor(o,a,c,u){super(),this.parent=a,this.source=c,this.scopes=u,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ci(o,y=>this.processProvider(y)),this.records.set(So,F1(void 0,this)),u.has("environment")&&this.records.set(ju,F1(void 0,this));const f=this.records.get(Ht);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(Uu.multi,$t,jt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const a=ha(this),c=Lt(void 0);try{return o()}finally{ha(a),Lt(c)}}get(o,a=hr,c=jt.Default){this.assertNotDestroyed();const u=ha(this),f=Lt(void 0);try{if(!(c&jt.SkipSelf)){let S=this.records.get(o);if(void 0===S){const z=function R1(i){return"function"==typeof i||"object"==typeof i&&i instanceof zr}(o)&&Qn(o);S=z&&this.injectableDefInScope(z)?F1(h2(o),Bi):null,this.records.set(o,S)}if(null!=S)return this.hydrate(o,S)}return(c&jt.Self?jd():this.parent).get(o,a=c&jt.Optional&&a===hr?null:a)}catch(y){if("NullInjectorError"===y.name){if((y[Qi]=y[Qi]||[]).unshift(V(o)),u)throw y;return function Ge(i,o,a,c){const u=i[Qi];throw o[Us]&&u.unshift(o[Us]),i.message=function lt(i,o,a,c=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let u=V(o);if(Array.isArray(o))u=o.map(V).join(" -> ");else if("object"==typeof o){let f=[];for(let y in o)if(o.hasOwnProperty(y)){let S=o[y];f.push(y+":"+("string"==typeof S?JSON.stringify(S):V(S)))}u=`{${f.join(", ")}}`}return`${a}${c?"("+c+")":""}[${u}]: ${i.replace(Ji,"\n  ")}`}("\n"+i.message,u,a,c),i.ngTokenPath=u,i[Qi]=null,i}(y,o,"R3InjectorError",this.source)}throw y}finally{Lt(f),ha(u)}}resolveInjectorInitializers(){const o=ha(this),a=Lt(void 0);try{const c=this.get(Ud.multi,$t,jt.Self);for(const u of c)u()}finally{ha(o),Lt(a)}}toString(){const o=[],a=this.records;for(const c of a.keys())o.push(V(c));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ie(205,!1)}processProvider(o){let a=on(o=J(o))?o:J(o&&o.provide);const c=function lp(i){return En(i)?F1(void 0,i.useValue):F1(up(i),Bi)}(o);if(on(o)||!0!==o.multi)this.records.get(a);else{let u=this.records.get(a);u||(u=F1(void 0,Bi,!0),u.factory=()=>N(u.multi),this.records.set(a,u)),a=o,u.multi.push(o)}this.records.set(a,c)}hydrate(o,a){return a.value===Bi&&(a.value=Y0,a.value=a.factory()),"object"==typeof a.value&&a.value&&function cr(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=J(o.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function h2(i){const o=Qn(i),a=null!==o?o.factory:ui(i);if(null!==a)return a;if(i instanceof zr)throw new ie(204,!1);if(i instanceof Function)return function U0(i){const o=i.length;if(o>0)throw ko(o,"?"),new ie(204,!1);const a=function vn(i){const o=i&&(i[yn]||i[Vr]);if(o){const a=function mr(i){if(i.hasOwnProperty("name"))return i.name;const o=(""+i).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),o}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new ie(204,!1)}function up(i,o,a){let c;if(on(i)){const u=J(i);return ui(u)||h2(u)}if(En(i))c=()=>J(i.useValue);else if(function B0(i){return!(!i||!i.useFactory)}(i))c=()=>i.useFactory(...N(i.deps||[]));else if(function $n(i){return!(!i||!i.useExisting)}(i))c=()=>Ei(J(i.useExisting));else{const u=J(i&&(i.useClass||i.provide));if(!function j0(i){return!!i.deps}(i))return ui(u)||h2(u);c=()=>new u(...N(i.deps))}return c}function F1(i,o,a=!1){return{factory:i,value:o,multi:a?[]:void 0}}function $0(i){return!!i.\u0275providers}function ci(i,o){for(const a of i)Array.isArray(a)?ci(a,o):$0(a)?ci(a.\u0275providers,o):o(a)}class L1{}class ln{resolveComponentFactory(o){throw function kr(i){const o=Error(`No component factory found for ${V(i)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=i,o}(o)}}let iu=(()=>{class i{}return i.NULL=new ln,i})();function p2(){return Ia(oi(),kt())}function Ia(i,o){return new R4(ei(i,o))}let R4=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=p2,i})();function $d(i){return i instanceof R4?i.nativeElement:i}class V1{}let G0=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function W0(){const i=kt(),a=vr(oi().index,i);return(De(a)?a:i)[11]}(),i})(),pa=(()=>{class i{}return i.\u0275prov=sn({token:i,providedIn:"root",factory:()=>null}),i})();class Gd{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const m2=new Gd("14.2.8"),Wd={};function B1(i){return i.ngOriginalError}class to{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o);this._console.error("ERROR",o),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&B1(o);for(;a&&B1(a);)a=B1(a);return a||null}}const Mi=new Map;let Gu=0;const Pc="__ngContext__";function Do(i,o){De(o)?(i[Pc]=o[20],function Z0(i){Mi.set(i[20],i)}(o)):i[Pc]=o}function _l(i){return i instanceof Function?i():i}var Oc=(()=>((Oc=Oc||{})[Oc.Important=1]="Important",Oc[Oc.DashCase=2]="DashCase",Oc))();function wl(i,o){return undefined(i,o)}function lu(i){const o=i[3];return qe(o)?o[3]:o}function To(i){return n8(i[13])}function M2(i){return n8(i[4])}function n8(i){for(;null!==i&&!qe(i);)i=i[4];return i}function Zu(i,o,a,c,u){if(null!=c){let f,y=!1;qe(c)?f=c:De(c)&&(y=!0,c=c[0]);const S=Fr(c);0===i&&null!==a?null==u?W1(o,a,S):Nc(o,a,S,u||null,!0):1===i&&null!==a?Nc(o,a,S,u||null,!0):2===i?function fu(i,o,a){const c=Y4(i,o);c&&function O2(i,o,a,c){i.removeChild(o,a,c)}(i,c,o,a)}(o,S,y):3===i&&o.destroyNode(S),null!=f&&function l8(i,o,a,c,u){const f=a[7];f!==Fr(a)&&Zu(o,i,c,f,u);for(let S=B;S<a.length;S++){const z=a[S];ac(z[1],z,i,o,c,f)}}(o,i,f,a,u)}}function x2(i,o,a){return i.createElement(o,a)}function I2(i,o){const a=i[9],c=a.indexOf(o),u=o[3];512&o[2]&&(o[2]&=-513,Hr(u,-1)),a.splice(c,1)}function du(i,o){if(i.length<=B)return;const a=B+o,c=i[a];if(c){const u=c[17];null!==u&&u!==i&&I2(u,c),o>0&&(i[a-1][4]=c[4]);const f=ua(i,B+o);!function uu(i,o){ac(i,o,o[11],2,null,null),o[0]=null,o[6]=null}(c[1],c);const y=f[19];null!==y&&y.detachView(f[1]),c[3]=null,c[4]=null,c[2]&=-65}return c}function z2(i,o){if(!(128&o[2])){const a=o[11];a.destroyNode&&ac(i,o,a,3,null,null),function r8(i){let o=i[13];if(!o)return B4(i[1],i);for(;o;){let a=null;if(De(o))a=o[13];else{const c=o[B];c&&(a=c)}if(!a){for(;o&&!o[4]&&o!==i;)De(o)&&B4(o[1],o),o=o[3];null===o&&(o=i),De(o)&&B4(o[1],o),a=o&&o[4]}o=a}}(o)}}function B4(i,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function k2(i,o){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let c=0;c<a.length;c+=2){const u=o[a[c]];if(!(u instanceof qi)){const f=a[c+1];if(Array.isArray(f))for(let y=0;y<f.length;y+=2){const S=u[f[y]],z=f[y+1];try{z.call(S)}finally{}}else try{f.call(u)}finally{}}}}(i,o),function A2(i,o){const a=i.cleanup,c=o[7];let u=-1;if(null!==a)for(let f=0;f<a.length-1;f+=2)if("string"==typeof a[f]){const y=a[f+1],S="function"==typeof y?y(o):Fr(o[y]),z=c[u=a[f+2]],L=a[f+3];"boolean"==typeof L?S.removeEventListener(a[f],z,L):L>=0?c[u=L]():c[u=-L].unsubscribe(),f+=2}else{const y=c[u=a[f+1]];a[f].call(y)}if(null!==c){for(let f=u+1;f<c.length;f++)(0,c[f])();o[7]=null}}(i,o),1===o[1].type&&o[11].destroy();const a=o[17];if(null!==a&&qe(o[3])){a!==o[3]&&I2(a,o);const c=o[19];null!==c&&c.detachView(i)}!function pp(i){Mi.delete(i[20])}(o)}}function Qu(i,o,a){return function hs(i,o,a){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return a[0];if(2&c.flags){const u=i.data[c.directiveStart].encapsulation;if(u===ot.None||u===ot.Emulated)return null}return ei(c,a)}(i,o.parent,a)}function Nc(i,o,a,c,u){i.insertBefore(o,a,c,u)}function W1(i,o,a){i.appendChild(o,a)}function P2(i,o,a,c,u){null!==c?Nc(i,o,a,c,u):W1(i,o,a)}function Y4(i,o){return i.parentNode(o)}function a8(i,o,a){return F2(i,o,a)}let F2=function N2(i,o,a){return 40&i.type?ei(i,a):null};function rh(i,o,a,c){const u=Qu(i,c,o),f=o[11],S=a8(c.parent||o[6],c,o);if(null!=u)if(Array.isArray(a))for(let z=0;z<a.length;z++)P2(f,u,a[z],S,!1);else P2(f,u,a,S,!1)}function ih(i,o){if(null!==o){const a=o.type;if(3&a)return ei(o,i);if(4&a)return hu(-1,i[o.index]);if(8&a){const c=o.child;if(null!==c)return ih(i,c);{const u=i[o.index];return qe(u)?hu(-1,u):Fr(u)}}if(32&a)return wl(o,i)()||Fr(i[o.index]);{const c=R2(i,o);return null!==c?Array.isArray(c)?c[0]:ih(lu(i[16]),c):ih(i,o.next)}}return null}function R2(i,o){return null!==o?i[16][6].projection[o.projection]:null}function hu(i,o){const a=B+i+1;if(a<o.length){const c=o[a],u=c[1].firstChild;if(null!==u)return ih(c,u)}return o[7]}function oh(i,o,a,c,u,f,y){for(;null!=a;){const S=c[a.index],z=a.type;if(y&&0===o&&(S&&Do(Fr(S),c),a.flags|=4),64!=(64&a.flags))if(8&z)oh(i,o,a.child,c,u,f,!1),Zu(o,i,u,S,f);else if(32&z){const L=wl(a,c);let X;for(;X=L();)Zu(o,i,u,X,f);Zu(o,i,u,S,f)}else 16&z?Xu(i,o,c,a,u,f):Zu(o,i,u,S,f);a=y?a.projectionNext:a.next}}function ac(i,o,a,c,u,f){oh(a,c,i.firstChild,o,u,f,!1)}function Xu(i,o,a,c,u,f){const y=a[16],z=y[6].projection[c.projection];if(Array.isArray(z))for(let L=0;L<z.length;L++)Zu(o,i,u,z[L],f);else oh(i,o,z,y[3],u,f,!0)}function K1(i,o,a){i.setAttribute(o,"style",a)}function L2(i,o,a){""===a?i.removeAttribute(o,"class"):i.setAttribute(o,"class",a)}function d8(i,o,a){let c=i.length;for(;;){const u=i.indexOf(o,a);if(-1===u)return u;if(0===u||i.charCodeAt(u-1)<=32){const f=o.length;if(u+f===c||i.charCodeAt(u+f)<=32)return u}a=u+1}}const j4="ng-template";function sh(i,o,a){let c=0;for(;c<i.length;){let u=i[c++];if(a&&"class"===u){if(u=i[c],-1!==d8(u.toLowerCase(),o,0))return!0}else if(1===u){for(;c<i.length&&"string"==typeof(u=i[c++]);)if(u.toLowerCase()===o)return!0;return!1}}return!1}function V2(i){return 4===i.type&&i.value!==j4}function wp(i,o,a){return o===(4!==i.type||a?i.value:j4)}function $4(i,o,a){let c=4;const u=i.attrs||[],f=function f8(i){for(let o=0;o<i.length;o++)if(ba(i[o]))return o;return i.length}(u);let y=!1;for(let S=0;S<o.length;S++){const z=o[S];if("number"!=typeof z){if(!y)if(4&c){if(c=2|1&c,""!==z&&!wp(i,z,a)||""===z&&1===o.length){if(cc(c))return!1;y=!0}}else{const L=8&c?z:o[++S];if(8&c&&null!==i.attrs){if(!sh(i.attrs,L,a)){if(cc(c))return!1;y=!0}continue}const ue=h8(8&c?"class":z,u,V2(i),a);if(-1===ue){if(cc(c))return!1;y=!0;continue}if(""!==L){let Ne;Ne=ue>f?"":u[ue+1].toLowerCase();const nt=8&c?Ne:null;if(nt&&-1!==d8(nt,L,0)||2&c&&L!==Ne){if(cc(c))return!1;y=!0}}}}else{if(!y&&!cc(c)&&!cc(z))return!1;if(y&&cc(z))continue;y=!1,c=z|1&c}}return cc(c)||y}function cc(i){return 0==(1&i)}function h8(i,o,a,c){if(null===o)return-1;let u=0;if(c||!a){let f=!1;for(;u<o.length;){const y=o[u];if(y===i)return u;if(3===y||6===y)f=!0;else{if(1===y||2===y){let S=o[++u];for(;"string"==typeof S;)S=o[++u];continue}if(4===y)break;if(0===y){u+=4;continue}}u+=f?1:2}return-1}return function p8(i,o){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const c=i[a];if("number"==typeof c)return-1;if(c===o)return a;a++}return-1}(o,i)}function Ju(i,o,a=!1){for(let c=0;c<o.length;c++)if($4(i,o[c],a))return!0;return!1}function m8(i,o){e:for(let a=0;a<o.length;a++){const c=o[a];if(i.length===c.length){for(let u=0;u<i.length;u++)if(i[u]!==c[u])continue e;return!0}}return!1}function e1(i,o){return i?":not("+o.trim()+")":o}function H2(i){let o=i[0],a=1,c=2,u="",f=!1;for(;a<i.length;){let y=i[a];if("string"==typeof y)if(2&c){const S=i[++a];u+="["+y+(S.length>0?'="'+S+'"':"")+"]"}else 8&c?u+="."+y:4&c&&(u+=" "+y);else""!==u&&!cc(y)&&(o+=e1(f,u),u=""),c=y,f=f||!cc(c);a++}return""!==u&&(o+=e1(f,u)),o}const fn={};function B2(i){Y2(ir(),kt(),we()+i,!1)}function Y2(i,o,a,c){if(!c)if(3==(3&o[2])){const f=i.preOrderCheckHooks;null!==f&&wr(o,f,a)}else{const f=i.preOrderHooks;null!==f&&qo(o,f,0,a)}st(a)}function v8(i,o=null,a=null,c){const u=y8(i,o,a,c);return u.resolveInjectorInitializers(),u}function y8(i,o=null,a=null,c,u=new Set){const f=[a||$t,c2(i)];return c=c||("object"==typeof i?void 0:V(i)),new d2(f,o||jd(),c||null,u)}let Xn=(()=>{class i{static create(a,c){if(Array.isArray(a))return v8({name:""},c,a,"");{const u=a.name??"";return v8({name:u},a.parent,a.providers,u)}}}return i.THROW_IF_NOT_FOUND=hr,i.NULL=new vl,i.\u0275prov=sn({token:i,providedIn:"any",factory:()=>Ei(So)}),i.__NG_ELEMENT_ID__=-1,i})();function mu(i,o=jt.Default){const a=kt();return null===a?Ei(i,o):Ao(oi(),a,J(i),o)}function I8(){throw new Error("invalid")}function X1(i,o){return i<<17|o<<2}function za(i){return i>>17&32767}function Z2(i){return 2|i}function El(i){return(131068&i)>>2}function gu(i,o){return-131069&i|o<<2}function Q2(i){return 1|i}function J1(i,o){const a=i.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const u=a[c],f=a[c+1];if(-1!==f){const y=i.data[f];_t(u),y.contentQueries(2,o[f],f)}}}function e4(i,o,a,c,u,f,y,S,z,L,X){const ue=o.blueprint.slice();return ue[0]=u,ue[2]=76|c,(null!==X||i&&1024&i[2])&&(ue[2]|=1024),_a(ue),ue[3]=ue[15]=i,ue[8]=a,ue[10]=y||i&&i[10],ue[11]=S||i&&i[11],ue[12]=z||i&&i[12]||null,ue[9]=L||i&&i[9]||null,ue[6]=f,ue[20]=function b2(){return Gu++}(),ue[21]=X,ue[16]=2==o.type?i[16]:ue,ue}function o1(i,o,a,c,u){let f=i.data[o];if(null===f)f=function ph(i,o,a,c,u){const f=oo(),y=Ya(),z=i.data[o]=function s1(i,o,a,c,u,f){return{type:a,index:c,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:u,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?f:f&&f.parent,a,o,c,u);return null===i.firstChild&&(i.firstChild=z),null!==f&&(y?null==f.child&&null!==z.parent&&(f.child=z):null===f.next&&(f.next=z)),z}(i,o,a,c,u),function Ps(){return Fn.lFrame.inI18n}()&&(f.flags|=64);else if(64&f.type){f.type=a,f.value=c,f.attrs=u;const y=function Go(){const i=Fn.lFrame,o=i.currentTNode;return i.isParent?o:o.parent}();f.injectorIndex=null===y?-1:y.injectorIndex}return Wi(f,!0),f}function t4(i,o,a,c){if(0===a)return-1;const u=o.length;for(let f=0;f<a;f++)o.push(c),i.blueprint.push(c),i.data.push(null);return u}function Q4(i,o,a){Ki(o);try{const c=i.viewQuery;null!==c&&l1(1,c,a);const u=i.template;null!==u&&J4(i,o,u,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&J1(i,o),i.staticViewQueries&&l1(2,i.viewQuery,a);const f=i.components;null!==f&&function r3(i,o){for(let a=0;a<o.length;a++)G8(i,o[a])}(o,f)}catch(c){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),c}finally{o[2]&=-5,H()}}function X4(i,o,a,c){const u=o[2];if(128!=(128&u)){Ki(o);try{_a(o),function Kr(i){return Fn.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&J4(i,o,a,2,c);const y=3==(3&u);if(y){const L=i.preOrderCheckHooks;null!==L&&wr(o,L,null)}else{const L=i.preOrderHooks;null!==L&&qo(o,L,0,null),yo(o,0)}if(function Up(i){for(let o=To(i);null!==o;o=M2(o)){if(!o[2])continue;const a=o[9];for(let c=0;c<a.length;c++){const u=a[c],f=u[3];0==(512&u[2])&&Hr(f,1),u[2]|=512}}}(o),function Yp(i){for(let o=To(i);null!==o;o=M2(o))for(let a=B;a<o.length;a++){const c=o[a],u=c[1];Uo(c)&&X4(u,c,u.template,c[8])}}(o),null!==i.contentQueries&&J1(i,o),y){const L=i.contentCheckHooks;null!==L&&wr(o,L)}else{const L=i.contentHooks;null!==L&&qo(o,L,1),yo(o,1)}!function r1(i,o){const a=i.hostBindingOpCodes;if(null!==a)try{for(let c=0;c<a.length;c++){const u=a[c];if(u<0)st(~u);else{const f=u,y=a[++c],S=a[++c];Io(y,f),S(2,o[f])}}}finally{st(-1)}}(i,o);const S=i.components;null!==S&&function V8(i,o){for(let a=0;a<o.length;a++)jp(i,o[a])}(o,S);const z=i.viewQuery;if(null!==z&&l1(2,z,c),y){const L=i.viewCheckHooks;null!==L&&wr(o,L)}else{const L=i.viewHooks;null!==L&&qo(o,L,2),yo(o,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,Hr(o[3],-1))}finally{H()}}}function J4(i,o,a,c,u){const f=we(),y=2&c;try{st(-1),y&&o.length>22&&Y2(i,o,22,!1),a(c,u)}finally{st(f)}}function n4(i,o,a){if(Ft(o)){const u=o.directiveEnd;for(let f=o.directiveStart;f<u;f++){const y=i.data[f];y.contentQueries&&y.contentQueries(1,a[f],f)}}}function Dl(i,o,a){!jo()||(function Y8(i,o,a,c){const u=a.directiveStart,f=a.directiveEnd;i.firstCreatePass||zo(a,o),Do(c,o);const y=a.initialInputs;for(let S=u;S<f;S++){const z=i.data[S],L=mn(z);L&&c1(o,a,z);const X=Zo(o,i,S,a);Do(X,o),null!==y&&j8(0,S-u,X,z,0,y),L&&(vr(a.index,o)[8]=X)}}(i,o,a,ei(a,o)),128==(128&a.flags)&&function Gs(i,o,a){const c=a.directiveStart,u=a.directiveEnd,f=a.index,y=function ss(){return Fn.lFrame.currentDirectiveIndex}();try{st(f);for(let S=c;S<u;S++){const z=i.data[S],L=o[S];Ci(S),(null!==z.hostBindings||0!==z.hostVars||null!==z.hostAttrs)&&l3(z,L)}}finally{st(-1),Ci(y)}}(i,o,a))}function o3(i,o,a=ei){const c=o.localNames;if(null!==c){let u=o.index+1;for(let f=0;f<c.length;f+=2){const y=c[f+1],S=-1===y?a(o,i):i[y];i[u++]=S}}}function s3(i){const o=i.tView;return null===o||o.incompleteFirstPass?i.tView=a3(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):o}function a3(i,o,a,c,u,f,y,S,z,L){const X=22+c,ue=X+u,Ne=function Rp(i,o){const a=[];for(let c=0;c<o;c++)a.push(c<i?null:fn);return a}(X,ue),nt="function"==typeof L?L():L;return Ne[1]={type:i,blueprint:Ne,template:a,queries:null,viewQuery:S,declTNode:o,data:Ne.slice().fill(null,X),bindingStartIndex:X,expandoStartIndex:ue,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:z,consts:nt,incompleteFirstPass:!1}}function yu(i,o,a,c){const u=gh(o);null===a?u.push(c):(u.push(a),i.firstCreatePass&&W8(i).push(c,u.length-1))}function c3(i,o,a){for(let c in i)if(i.hasOwnProperty(c)){const u=i[c];(a=null===a?{}:a).hasOwnProperty(c)?a[c].push(o,u):a[c]=[o,u]}return a}function H8(i,o){const c=o.directiveEnd,u=i.data,f=o.attrs,y=[];let S=null,z=null;for(let L=o.directiveStart;L<c;L++){const X=u[L],ue=X.inputs,Ne=null===f||V2(o)?null:bu(ue,f);y.push(Ne),S=c3(ue,L,S),z=c3(X.outputs,L,z)}null!==S&&(S.hasOwnProperty("class")&&(o.flags|=16),S.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=y,o.inputs=S,o.outputs=z}function td(i,o){const a=vr(o,i);16&a[2]||(a[2]|=32)}function r4(i,o,a,c){let u=!1;if(jo()){const f=function mh(i,o,a){const c=i.directiveRegistry;let u=null;if(c)for(let f=0;f<c.length;f++){const y=c[f];Ju(a,y.selectors,!1)&&(u||(u=[]),Ns(zo(a,o),i,y.type),mn(y)?(rd(i,a),u.unshift(y)):u.push(y))}return u}(i,o,a),y=null===c?null:{"":-1};if(null!==f){u=!0,a1(a,i.data.length,f.length);for(let X=0;X<f.length;X++){const ue=f[X];ue.providersResolver&&ue.providersResolver(ue)}let S=!1,z=!1,L=t4(i,o,f.length,null);for(let X=0;X<f.length;X++){const ue=f[X];a.mergedAttrs=Ca(a.mergedAttrs,ue.hostAttrs),u3(i,a,o,L,ue),_u(L,ue,y),null!==ue.contentQueries&&(a.flags|=8),(null!==ue.hostBindings||null!==ue.hostAttrs||0!==ue.hostVars)&&(a.flags|=128);const Ne=ue.type.prototype;!S&&(Ne.ngOnChanges||Ne.ngOnInit||Ne.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),S=!0),!z&&(Ne.ngOnChanges||Ne.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),z=!0),L++}H8(i,a)}y&&function U8(i,o,a){if(o){const c=i.localNames=[];for(let u=0;u<o.length;u+=2){const f=a[o[u+1]];if(null==f)throw new ie(-301,!1);c.push(o[u],f)}}}(a,c,y)}return a.mergedAttrs=Ca(a.mergedAttrs,a.attrs),u}function o4(i,o,a,c,u,f){const y=f.hostBindings;if(y){let S=i.hostBindingOpCodes;null===S&&(S=i.hostBindingOpCodes=[]);const z=~o.index;(function B8(i){let o=i.length;for(;o>0;){const a=i[--o];if("number"==typeof a&&a<0)return a}return 0})(S)!=z&&S.push(z),S.push(c,u,y)}}function l3(i,o){null!==i.hostBindings&&i.hostBindings(1,o)}function rd(i,o){o.flags|=2,(i.components||(i.components=[])).push(o.index)}function _u(i,o,a){if(a){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)a[o.exportAs[c]]=i;mn(o)&&(a[""]=i)}}function a1(i,o,a){i.flags|=1,i.directiveStart=o,i.directiveEnd=o+a,i.providerIndexes=o}function u3(i,o,a,c,u){i.data[c]=u;const f=u.factory||(u.factory=ui(u.type)),y=new qi(f,mn(u),mu);i.blueprint[c]=y,a[c]=y,o4(i,o,0,c,t4(i,a,u.hostVars,fn),u)}function c1(i,o,a){const c=ei(o,i),u=s3(a),f=i[10],y=id(i,e4(i,u,null,a.onPush?32:16,c,o,f,f.createRenderer(c,a),null,null,null));i[o.index]=y}function Lc(i,o,a,c,u,f){const y=ei(i,o);!function wu(i,o,a,c,u,f,y){if(null==f)i.removeAttribute(o,u,a);else{const S=null==y?be(f):y(f,c||"",u);i.setAttribute(o,u,S,a)}}(o[11],y,f,i.value,a,c,u)}function j8(i,o,a,c,u,f){const y=f[o];if(null!==y){const S=c.setInput;for(let z=0;z<y.length;){const L=y[z++],X=y[z++],ue=y[z++];null!==S?c.setInput(a,ue,L,X):a[X]=ue}}}function bu(i,o){let a=null,c=0;for(;c<o.length;){const u=o[c];if(0!==u)if(5!==u){if("number"==typeof u)break;i.hasOwnProperty(u)&&(null===a&&(a=[]),a.push(u,i[u],o[c+1])),c+=2}else c+=2;else c+=4}return a}function $8(i,o,a,c){return new Array(i,!0,!1,o,null,0,c,a,null,null)}function jp(i,o){const a=vr(o,i);if(Uo(a)){const c=a[1];48&a[2]?X4(c,a,c.template,a[8]):a[5]>0&&s4(a)}}function s4(i){for(let c=To(i);null!==c;c=M2(c))for(let u=B;u<c.length;u++){const f=c[u];if(Uo(f))if(512&f[2]){const y=f[1];X4(y,f,y.template,f[8])}else f[5]>0&&s4(f)}const a=i[1].components;if(null!==a)for(let c=0;c<a.length;c++){const u=vr(a[c],i);Uo(u)&&u[5]>0&&s4(u)}}function G8(i,o){const a=vr(o,i),c=a[1];(function $p(i,o){for(let a=o.length;a<i.blueprint.length;a++)o.push(i.blueprint[a])})(c,a),Q4(c,a,a[8])}function id(i,o){return i[13]?i[14][4]=o:i[13]=o,i[14]=o,o}function d3(i){for(;i;){i[2]|=32;const o=lu(i);if(Nn(i)&&!o)return i;i=o}return null}function od(i,o,a,c=!0){const u=o[10];u.begin&&u.begin();try{X4(i,o,i.template,a)}catch(y){throw c&&K8(o,y),y}finally{u.end&&u.end()}}function l1(i,o,a){_t(0),o(i,a)}function gh(i){return i[7]||(i[7]=[])}function W8(i){return i.cleanup||(i.cleanup=[])}function K8(i,o){const a=i[9],c=a?a.get(to,null):null;c&&c.handleError(o)}function vh(i,o,a,c,u){for(let f=0;f<a.length;){const y=a[f++],S=a[f++],z=o[y],L=i.data[y];null!==L.setInput?L.setInput(z,u,c,S):z[S]=u}}function no(i,o,a){let c=a?i.styles:null,u=a?i.classes:null,f=0;if(null!==o)for(let y=0;y<o.length;y++){const S=o[y];"number"==typeof S?f=S:1==f?u=q(u,S):2==f&&(c=q(c,S+": "+o[++y]+";"))}a?i.styles=c:i.stylesWithoutHost=c,a?i.classes=u:i.classesWithoutHost=u}function yh(i,o,a,c,u=!1){for(;null!==a;){const f=o[a.index];if(null!==f&&c.push(Fr(f)),qe(f))for(let S=B;S<f.length;S++){const z=f[S],L=z[1].firstChild;null!==L&&yh(z[1],z,L,c)}const y=a.type;if(8&y)yh(i,o,a.child,c);else if(32&y){const S=wl(a,o);let z;for(;z=S();)c.push(z)}else if(16&y){const S=R2(o,a);if(Array.isArray(S))c.push(...S);else{const z=lu(o[16]);yh(z[1],z,S,c,!0)}}a=u?a.projectionNext:a.next}return c}class sd{constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,a=o[1];return yh(a,o,a.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(qe(o)){const a=o[8],c=a?a.indexOf(this):-1;c>-1&&(du(o,c),ua(a,c))}this._attachedToViewContainer=!1}z2(this._lView[1],this._lView)}onDestroy(o){yu(this._lView[1],this._lView,null,o)}markForCheck(){d3(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){od(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ie(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function _p(i,o){ac(i,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new ie(902,!1);this._appRef=o}}class Wp extends sd{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;od(o[1],o,o[8],!1)}checkNoChanges(){}get context(){return null}}class f3 extends iu{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=G(o);return new ad(a,this.ngModule)}}function p3(i){const o=[];for(let a in i)i.hasOwnProperty(a)&&o.push({propName:i[a],templateName:a});return o}class _h{constructor(o,a){this.injector=o,this.parentInjector=a}get(o,a,c){const u=this.injector.get(o,Wd,c);return u!==Wd||a===Wd?u:this.parentInjector.get(o,a,c)}}class ad extends L1{constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function bp(i){return i.map(H2).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return p3(this.componentDef.inputs)}get outputs(){return p3(this.componentDef.outputs)}create(o,a,c,u){let f=(u=u||this.ngModule)instanceof ju?u:u?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const y=f?new _h(o,f):o,S=y.get(V1,null);if(null===S)throw new ie(407,!1);const z=y.get(pa,null),L=S.createRenderer(null,this.componentDef),X=this.componentDef.selectors[0][0]||"div",ue=c?function ed(i,o,a){return i.selectRootElement(o,a===ot.ShadowDom)}(L,c,this.componentDef.encapsulation):x2(S.createRenderer(null,this.componentDef),X,function Kp(i){const o=i.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(X)),Ne=this.componentDef.onPush?288:272,nt=a3(0,null,null,1,0,null,null,null,null,null),xt=e4(null,nt,null,Ne,null,null,S,L,z,y,null);let Zt,un;Ki(xt);try{const Tn=function bh(i,o,a,c,u,f){const y=a[1];a[22]=i;const z=o1(y,22,2,"#host",null),L=z.mergedAttrs=o.hostAttrs;null!==L&&(no(z,L,!0),null!==i&&(wo(u,i,L),null!==z.classes&&L2(u,i,z.classes),null!==z.styles&&K1(u,i,z.styles)));const X=c.createRenderer(i,o),ue=e4(a,s3(o),null,o.onPush?32:16,a[22],z,c,X,f||null,null,null);return y.firstCreatePass&&(Ns(zo(z,a),y,o.type),rd(y,z),a1(z,a.length,1)),id(a,ue),a[22]=ue}(ue,this.componentDef,xt,S,L);if(ue)if(c)wo(L,ue,["ng-version",m2.full]);else{const{attrs:Un,classes:Vt}=function co(i){const o=[],a=[];let c=1,u=2;for(;c<i.length;){let f=i[c];if("string"==typeof f)2===u?""!==f&&o.push(f,i[++c]):8===u&&a.push(f);else{if(!cc(u))break;u=f}c++}return{attrs:o,classes:a}}(this.componentDef.selectors[0]);Un&&wo(L,ue,Un),Vt&&Vt.length>0&&L2(L,ue,Vt.join(" "))}if(un=Yo(nt,22),void 0!==a){const Un=un.projection=[];for(let Vt=0;Vt<this.ngContentSelectors.length;Vt++){const Zn=a[Vt];Un.push(null!=Zn?Array.from(Zn):null)}}Zt=function g3(i,o,a,c){const u=a[1],f=function nd(i,o,a){const c=oi();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),u3(i,c,o,t4(i,o,1,null),a),H8(i,c));const u=Zo(o,i,c.directiveStart,c);Do(u,o);const f=ei(c,o);return f&&Do(f,o),u}(u,a,o);if(i[8]=a[8]=f,null!==c)for(const S of c)S(f,o);if(o.contentQueries){const S=oi();o.contentQueries(1,f,S.directiveStart)}const y=oi();return!u.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(st(y.index),o4(a[1],y,0,y.directiveStart,y.directiveEnd,o),l3(o,f)),f}(Tn,this.componentDef,xt,[v3]),Q4(nt,xt,null)}finally{H()}return new m3(this.componentType,Zt,Ia(un,xt),xt,un)}}class m3 extends class Kn{}{constructor(o,a,c,u,f){super(),this.location=c,this._rootLView=u,this._tNode=f,this.instance=a,this.hostView=this.changeDetectorRef=new Wp(u),this.componentType=o}setInput(o,a){const c=this._tNode.inputs;let u;if(null!==c&&(u=c[o])){const f=this._rootLView;vh(f[1],f,u,o,a),td(f,this._tNode.index)}}get injector(){return new Rs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function v3(){const i=oi();Hn(kt()[1],i)}function Ch(i){let o=function y3(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const c=[i];for(;o;){let u;if(mn(i))u=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new ie(903,!1);u=o.\u0275dir}if(u){if(a){c.push(u);const y=i;y.inputs=Sh(i.inputs),y.declaredInputs=Sh(i.declaredInputs),y.outputs=Sh(i.outputs);const S=u.hostBindings;S&&X8(i,S);const z=u.viewQuery,L=u.contentQueries;if(z&&_3(i,z),L&&qp(i,L),ee(i.inputs,u.inputs),ee(i.declaredInputs,u.declaredInputs),ee(i.outputs,u.outputs),mn(u)&&u.data.animation){const X=i.data;X.animation=(X.animation||[]).concat(u.data.animation)}}const f=u.features;if(f)for(let y=0;y<f.length;y++){const S=f[y];S&&S.ngInherit&&S(i),S===Ch&&(a=!1)}}o=Object.getPrototypeOf(o)}!function Q8(i){let o=0,a=null;for(let c=i.length-1;c>=0;c--){const u=i[c];u.hostVars=o+=u.hostVars,u.hostAttrs=Ca(u.hostAttrs,a=Ca(a,u.hostAttrs))}}(c)}function Sh(i){return i===jn?{}:i===$t?[]:i}function _3(i,o){const a=i.viewQuery;i.viewQuery=a?(c,u)=>{o(c,u),a(c,u)}:o}function qp(i,o){const a=i.contentQueries;i.contentQueries=a?(c,u,f)=>{o(c,u,f),a(c,u,f)}:o}function X8(i,o){const a=i.hostBindings;i.hostBindings=a?(c,u)=>{o(c,u),a(c,u)}:o}let Tl=null;function ka(){if(!Tl){const i=rt.Symbol;if(i&&i.iterator)Tl=i.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<o.length;++a){const c=o[a];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(Tl=c)}}}return Tl}function Cu(i){return!!Eh(i)&&(Array.isArray(i)||!(i instanceof Map)&&ka()in i)}function Eh(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Pa(i,o,a){return i[o]=a}function No(i,o,a){return!Object.is(i[o],a)&&(i[o]=a,!0)}function c4(i,o,a,c){const u=kt();return No(u,is(),o)&&(ir(),Lc(yt(),u,i,o,a,c)),c4}function dd(i,o,a,c,u,f,y,S){const z=kt(),L=ir(),X=i+22,ue=L.firstCreatePass?function o6(i,o,a,c,u,f,y,S,z){const L=o.consts,X=o1(o,i,4,y||null,go(L,S));r4(o,a,X,go(L,z)),Hn(o,X);const ue=X.tViews=a3(2,X,c,u,f,o.directiveRegistry,o.pipeRegistry,null,o.schemas,L);return null!==o.queries&&(o.queries.template(o,X),ue.queries=o.queries.embeddedTView(X)),X}(X,L,z,o,a,c,u,f,y):L.data[X];Wi(ue,!1);const Ne=z[11].createComment("");rh(L,z,Ne,ue),Do(Ne,z),id(z,z[X]=$8(Ne,z,Ne,ue)),Cn(ue)&&Dl(L,z,ue),null!=y&&o3(z,ue,S)}function Jn(i){return function di(i,o){return i[o]}(function wa(){return Fn.lFrame.contextLView}(),22+i)}function Qe(i,o,a){const c=kt();return No(c,is(),o)&&function Ts(i,o,a,c,u,f,y,S){const z=ei(o,a);let X,L=o.inputs;!S&&null!=L&&(X=L[c])?(vh(i,a,X,c,u),dn(o)&&td(a,o.index)):3&o.type&&(c=function Lp(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(c),u=null!=y?y(u,o.value||"",c):u,f.setProperty(z,c,u))}(ir(),yt(),c,i,o,c[11],a,!1),Qe}function qt(i,o,a,c,u){const y=u?"class":"style";vh(i,a,o.inputs[y],y,c)}function lr(i,o,a,c){const u=kt(),f=ir(),y=22+i,S=u[11],z=u[y]=x2(S,o,function In(){return Fn.lFrame.currentNamespace}()),L=f.firstCreatePass?function Dn(i,o,a,c,u,f,y){const S=o.consts,L=o1(o,i,2,u,go(S,f));return r4(o,a,L,go(S,y)),null!==L.attrs&&no(L,L.attrs,!1),null!==L.mergedAttrs&&no(L,L.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,L),L}(y,f,u,0,o,a,c):f.data[y];Wi(L,!0);const X=L.mergedAttrs;null!==X&&wo(S,z,X);const ue=L.classes;null!==ue&&L2(S,z,ue);const Ne=L.styles;return null!==Ne&&K1(S,z,Ne),64!=(64&L.flags)&&rh(f,u,z,L),0===function ea(){return Fn.lFrame.elementDepthCount}()&&Do(z,u),function As(){Fn.lFrame.elementDepthCount++}(),Cn(L)&&(Dl(f,u,L),n4(f,L,u)),null!==c&&o3(u,L),lr}function xr(){let i=oi();Ya()?so():(i=i.parent,Wi(i,!1));const o=i;!function wi(){Fn.lFrame.elementDepthCount--}();const a=ir();return a.firstCreatePass&&(Hn(a,i),Ft(i)&&a.queries.elementEnd(i)),null!=o.classesWithoutHost&&function cs(i){return 0!=(16&i.flags)}(o)&&qt(a,o,kt(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Ua(i){return 0!=(32&i.flags)}(o)&&qt(a,o,kt(),o.stylesWithoutHost,!1),xr}function Xr(i,o,a,c){return lr(i,o,a,c),xr(),Xr}function Ks(i,o,a){const c=kt(),u=ir(),f=i+22,y=u.firstCreatePass?function ki(i,o,a,c,u){const f=o.consts,y=go(f,c),S=o1(o,i,8,"ng-container",y);return null!==y&&no(S,y,!0),r4(o,a,S,go(f,u)),null!==o.queries&&o.queries.elementStart(o,S),S}(f,u,c,o,a):u.data[f];Wi(y,!0);const S=c[f]=c[11].createComment("");return rh(u,c,S,y),Do(S,c),Cn(y)&&(Dl(u,c,y),n4(u,y,c)),null!=a&&o3(c,y),Ks}function Il(){let i=oi();const o=ir();return Ya()?so():(i=i.parent,Wi(i,!1)),o.firstCreatePass&&(Hn(o,i),Ft(i)&&o.queries.elementEnd(i)),Il}function hd(i){return!!i&&"function"==typeof i.then}function Jp(i){return!!i&&"function"==typeof i.subscribe}const C3=Jp;function s6(i,o,a,c){const u=kt(),f=ir(),y=oi();return function E3(i,o,a,c,u,f,y,S){const z=Cn(c),X=i.firstCreatePass&&W8(i),ue=o[8],Ne=gh(o);let nt=!0;if(3&c.type||S){const un=ei(c,o),Tn=S?S(un):un,Un=Ne.length,Vt=S?Or=>S(Fr(Or[c.index])):c.index;let Zn=null;if(!S&&z&&(Zn=function xg(i,o,a,c){const u=i.cleanup;if(null!=u)for(let f=0;f<u.length-1;f+=2){const y=u[f];if(y===a&&u[f+1]===c){const S=o[7],z=u[f+2];return S.length>z?S[z]:null}"string"==typeof y&&(f+=2)}return null}(i,o,u,c.index)),null!==Zn)(Zn.__ngLastListenerFn__||Zn).__ngNextListenerFn__=f,Zn.__ngLastListenerFn__=f,nt=!1;else{f=M3(c,o,ue,f,!1);const Or=a.listen(Tn,u,f);Ne.push(f,Or),X&&X.push(u,Vt,Un,Un+1)}}else f=M3(c,o,ue,f,!1);const xt=c.outputs;let Zt;if(nt&&null!==xt&&(Zt=xt[u])){const un=Zt.length;if(un)for(let Tn=0;Tn<un;Tn+=2){const yi=o[Zt[Tn]][Zt[Tn+1]].subscribe(f),M4=Ne.length;Ne.push(f,yi),X&&X.push(u,c.index,M4,-(M4+1))}}}(f,u,u[11],y,i,o,0,c),s6}function Ih(i,o,a,c){try{return!1!==a(c)}catch(u){return K8(i,u),!1}}function M3(i,o,a,c,u){return function f(y){if(y===Function)return c;d3(2&i.flags?vr(i.index,o):o);let z=Ih(o,0,c,y),L=f.__ngNextListenerFn__;for(;L;)z=Ih(o,0,L,y)&&z,L=L.__ngNextListenerFn__;return u&&!1===z&&(y.preventDefault(),y.returnValue=!1),z}}function a6(i=1){return function I(i){return(Fn.lFrame.contextLView=function Q(i,o){for(;i>0;)o=o[15],i--;return o}(i,Fn.lFrame.contextLView))[8]}(i)}function fd(i,o){let a=null;const c=function Cl(i){const o=i.attrs;if(null!=o){const a=o.indexOf(5);if(0==(1&a))return o[a+1]}return null}(i);for(let u=0;u<o.length;u++){const f=o[u];if("*"!==f){if(null===c?Ju(i,f,!0):m8(c,f))return u}else a=u}return a}function D3(i){const o=kt()[16][6];if(!o.projection){const c=o.projection=ko(i?i.length:1,null),u=c.slice();let f=o.child;for(;null!==f;){const y=i?fd(f,i):0;null!==y&&(u[y]?u[y].projectionNext=f:c[y]=f,u[y]=f),f=f.next}}}function em(i,o=0,a){const c=kt(),u=ir(),f=o1(u,22+i,16,null,a||null);null===f.projection&&(f.projection=o),so(),64!=(64&f.flags)&&function c8(i,o,a){Xu(o[11],0,o,a,Qu(i,a,o),a8(a.parent||o[6],a,o))}(u,c,f)}function A3(i,o,a,c,u){const f=i[a+1],y=null===o;let S=c?za(f):El(f),z=!1;for(;0!==S&&(!1===z||y);){const X=i[S+1];u6(i[S],o)&&(z=!0,i[S+1]=c?Q2(X):Z2(X)),S=c?za(X):El(X)}z&&(i[a+1]=c?Z2(f):Q2(f))}function u6(i,o){return null===i||null==o||(Array.isArray(i)?i[1]:i)===o||!(!Array.isArray(i)||"string"!=typeof o)&&w(i,o)>=0}function zh(i,o,a){return hc(i,o,a,!1),zh}function Ah(i,o){return hc(i,o,null,!0),Ah}function hc(i,o,a,c){const u=kt(),f=ir(),y=function Wo(i){const o=Fn.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+i,a}(2);f.firstUpdatePass&&function hm(i,o,a,c){const u=i.data;if(null===u[a+1]){const f=u[we()],y=function m6(i,o){return o>=i.expandoStartIndex}(i,a);(function pm(i,o){return 0!=(i.flags&(o?16:32))})(f,c)&&null===o&&!y&&(o=!1),o=function zg(i,o,a,c){const u=function bc(i){const o=Fn.lFrame.currentDirectiveIndex;return-1===o?null:i[o]}(i);let f=c?o.residualClasses:o.residualStyles;if(null===u)0===(c?o.classBindings:o.styleBindings)&&(a=f4(a=kh(null,i,o,a,c),o.attrs,c),f=null);else{const y=o.directiveStylingLast;if(-1===y||i[y]!==u)if(a=kh(u,i,o,a,c),null===f){let z=function Ag(i,o,a){const c=a?o.classBindings:o.styleBindings;if(0!==El(c))return i[za(c)]}(i,o,c);void 0!==z&&Array.isArray(z)&&(z=kh(null,i,o,z[1],c),z=f4(z,o.attrs,c),function kg(i,o,a,c){i[za(a?o.classBindings:o.styleBindings)]=c}(i,o,c,z))}else f=function g6(i,o,a){let c;const u=o.directiveEnd;for(let f=1+o.directiveStylingLast;f<u;f++)c=f4(c,i[f].hostAttrs,a);return f4(c,o.attrs,a)}(i,o,c)}return void 0!==f&&(c?o.residualClasses=f:o.residualStyles=f),a}(u,f,o,c),function am(i,o,a,c,u,f){let y=f?o.classBindings:o.styleBindings,S=za(y),z=El(y);i[c]=a;let X,L=!1;if(Array.isArray(a)){const ue=a;X=ue[1],(null===X||w(ue,X)>0)&&(L=!0)}else X=a;if(u)if(0!==z){const Ne=za(i[S+1]);i[c+1]=X1(Ne,S),0!==Ne&&(i[Ne+1]=gu(i[Ne+1],c)),i[S+1]=function A8(i,o){return 131071&i|o<<17}(i[S+1],c)}else i[c+1]=X1(S,0),0!==S&&(i[S+1]=gu(i[S+1],c)),S=c;else i[c+1]=X1(z,0),0===S?S=c:i[z+1]=gu(i[z+1],c),z=c;L&&(i[c+1]=Z2(i[c+1])),A3(i,X,c,!0),A3(i,X,c,!1),function l6(i,o,a,c,u){const f=u?i.residualClasses:i.residualStyles;null!=f&&"string"==typeof o&&w(f,o)>=0&&(a[c+1]=Q2(a[c+1]))}(o,X,i,c,f),y=X1(S,z),f?o.classBindings=y:o.styleBindings=y}(u,f,o,a,y,c)}}(f,i,y,c),o!==fn&&No(u,y,o)&&function O3(i,o,a,c,u,f,y,S){if(!(3&o.type))return;const z=i.data,L=z[S+1];gd(function n1(i){return 1==(1&i)}(L)?v6(z,o,a,u,El(L),y):void 0)||(gd(f)||function z8(i){return 2==(2&i)}(L)&&(f=v6(z,null,a,u,S,y)),function u8(i,o,a,c,u){if(o)u?i.addClass(a,c):i.removeClass(a,c);else{let f=-1===c.indexOf("-")?void 0:Oc.DashCase;null==u?i.removeStyle(a,c,f):("string"==typeof u&&u.endsWith("!important")&&(u=u.slice(0,-10),f|=Oc.Important),i.setStyle(a,c,u,f))}}(c,y,Gi(we(),a),u,f))}(f,f.data[we()],u,u[11],i,u[y+1]=function fm(i,o){return null==i||("string"==typeof o?i+=o:"object"==typeof i&&(i=V(xa(i)))),i}(o,a),c,y)}function kh(i,o,a,c,u){let f=null;const y=a.directiveEnd;let S=a.directiveStylingLast;for(-1===S?S=a.directiveStart:S++;S<y&&(f=o[S],c=f4(c,f.hostAttrs,u),f!==i);)S++;return null!==i&&(a.directiveStylingLast=S),c}function f4(i,o,a){const c=a?1:2;let u=-1;if(null!==o)for(let f=0;f<o.length;f++){const y=o[f];"number"==typeof y?u=y:u===c&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),zi(i,y,!!a||o[++f]))}return void 0===i?null:i}function v6(i,o,a,c,u,f){const y=null===o;let S;for(;u>0;){const z=i[u],L=Array.isArray(z),X=L?z[1]:z,ue=null===X;let Ne=a[u+1];Ne===fn&&(Ne=ue?$t:void 0);let nt=ue?Za(Ne,c):X===c?Ne:void 0;if(L&&!gd(nt)&&(nt=Za(z,c)),gd(nt)&&(S=nt,y))return S;const xt=i[u+1];u=y?za(xt):El(xt)}if(null!==o){let z=f?o.residualClasses:o.residualStyles;null!=z&&(S=Za(z,c))}return S}function gd(i){return void 0!==i}function N3(i,o=""){const a=kt(),c=ir(),u=i+22,f=c.firstCreatePass?o1(c,u,1,o,null):c.data[u],y=a[u]=function D2(i,o){return i.createText(o)}(a[11],o);rh(c,a,y,f),Wi(f,!1)}function y6(i){return vd("",i,""),y6}function vd(i,o,a){const c=kt(),u=function xl(i,o,a,c){return No(i,is(),a)?o+be(a)+c:fn}(c,i,o,a);return u!==fn&&function dc(i,o,a){const c=Gi(o,i);!function T2(i,o,a){i.setValue(o,a)}(i[11],c,a)}(c,we(),u),vd}const m4=void 0;var P6=["en",[["a","p"],["AM","PM"],m4],[["AM","PM"],m4,m4],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],m4,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],m4,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",m4,"{1} 'at' {0}",m4],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function k6(i){const a=Math.floor(Math.abs(i)),c=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let g4={};function j3(i){const o=function Ph(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=N6(o);if(a)return a;const c=o.split("-")[0];if(a=N6(c),a)return a;if("en"===c)return P6;throw new ie(701,!1)}function Ir(i){return j3(i)[Yn.PluralCase]}function N6(i){return i in g4||(g4[i]=rt.ng&&rt.ng.common&&rt.ng.common.locales&&rt.ng.common.locales[i]),g4[i]}var Yn=(()=>((Yn=Yn||{})[Yn.LocaleId=0]="LocaleId",Yn[Yn.DayPeriodsFormat=1]="DayPeriodsFormat",Yn[Yn.DayPeriodsStandalone=2]="DayPeriodsStandalone",Yn[Yn.DaysFormat=3]="DaysFormat",Yn[Yn.DaysStandalone=4]="DaysStandalone",Yn[Yn.MonthsFormat=5]="MonthsFormat",Yn[Yn.MonthsStandalone=6]="MonthsStandalone",Yn[Yn.Eras=7]="Eras",Yn[Yn.FirstDayOfWeek=8]="FirstDayOfWeek",Yn[Yn.WeekendRange=9]="WeekendRange",Yn[Yn.DateFormat=10]="DateFormat",Yn[Yn.TimeFormat=11]="TimeFormat",Yn[Yn.DateTimeFormat=12]="DateTimeFormat",Yn[Yn.NumberSymbols=13]="NumberSymbols",Yn[Yn.NumberFormats=14]="NumberFormats",Yn[Yn.CurrencyCode=15]="CurrencyCode",Yn[Yn.CurrencySymbol=16]="CurrencySymbol",Yn[Yn.CurrencyName=17]="CurrencyName",Yn[Yn.Currencies=18]="Currencies",Yn[Yn.Directionality=19]="Directionality",Yn[Yn.PluralCase=20]="PluralCase",Yn[Yn.ExtraData=21]="ExtraData",Yn))();const lo="en-US";let G3=lo;function bd(i,o,a,c,u){if(i=J(i),Array.isArray(i))for(let f=0;f<i.length;f++)bd(i[f],o,a,c,u);else{const f=ir(),y=kt();let S=on(i)?i:J(i.provide),z=up(i);const L=oi(),X=1048575&L.providerIndexes,ue=L.directiveStart,Ne=L.providerIndexes>>20;if(on(i)||!i.multi){const nt=new qi(z,u,mu),xt=K6(S,o,u?X:X+Ne,ue);-1===xt?(Ns(zo(L,y),f,S),o0(f,i,o.length),o.push(S),L.directiveStart++,L.directiveEnd++,u&&(L.providerIndexes+=1048576),a.push(nt),y.push(nt)):(a[xt]=nt,y[xt]=nt)}else{const nt=K6(S,o,X+Ne,ue),xt=K6(S,o,X,X+Ne),Zt=nt>=0&&a[nt],un=xt>=0&&a[xt];if(u&&!un||!u&&!Zt){Ns(zo(L,y),f,S);const Tn=function m1(i,o,a,c,u){const f=new qi(i,a,mu);return f.multi=[],f.index=o,f.componentProviders=0,Cd(f,u,c&&!a),f}(u?Um:s0,a.length,u,c,z);!u&&un&&(a[xt].providerFactory=Tn),o0(f,i,o.length,0),o.push(S),L.directiveStart++,L.directiveEnd++,u&&(L.providerIndexes+=1048576),a.push(Tn),y.push(Tn)}else o0(f,i,nt>-1?nt:xt,Cd(a[u?xt:nt],z,!u&&c));!u&&c&&un&&a[xt].componentProviders++}}}function o0(i,o,a,c){const u=on(o),f=function gt(i){return!!i.useClass}(o);if(u||f){const z=(f?J(o.useClass):o).prototype.ngOnDestroy;if(z){const L=i.destroyHooks||(i.destroyHooks=[]);if(!u&&o.multi){const X=L.indexOf(a);-1===X?L.push(a,[c,z]):L[X+1].push(c,z)}else L.push(a,z)}}}function Cd(i,o,a){return a&&i.componentProviders++,i.multi.push(o)-1}function K6(i,o,a,c){for(let u=a;u<c;u++)if(o[u]===i)return u;return-1}function s0(i,o,a,c){return _4(this.multi,[])}function Um(i,o,a,c){const u=this.multi;let f;if(this.providerFactory){const y=this.providerFactory.componentProviders,S=Zo(a,a[1],this.providerFactory.index,c);f=S.slice(0,y),_4(u,f);for(let z=y;z<S.length;z++)f.push(S[z])}else f=[],_4(u,f);return f}function _4(i,o){for(let a=0;a<i.length;a++)o.push((0,i[a])());return o}function jm(i,o=[]){return a=>{a.providersResolver=(c,u)=>function r0(i,o,a){const c=ir();if(c.firstCreatePass){const u=mn(i);bd(a,c.data,c.blueprint,u,!0),bd(o,c.data,c.blueprint,u,!1)}}(c,u?u(i):i,o)}}class Sd{}class $m{}function l7(i,o){return new Gm(i,o??null)}class Gm extends Sd{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new f3(this);const c=tn(o);this._bootstrapComponents=_l(c.bootstrap),this._r3Injector=y8(o,a,[{provide:Sd,useValue:this},{provide:iu,useValue:this.componentFactoryResolver}],V(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class q6 extends $m{constructor(o){super(),this.moduleType=o}create(o){return new Gm(this.moduleType,o)}}class Wm extends Sd{constructor(o,a,c){super(),this.componentFactoryResolver=new f3(this),this.instance=null;const u=new d2([...o,{provide:Sd,useValue:this},{provide:iu,useValue:this.componentFactoryResolver}],a||jd(),c,new Set(["environment"]));this.injector=u,u.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function Z6(i,o,a=null){return new Wm(i,o,a).injector}let d7=(()=>{class i{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const c=H0(0,a.type),u=c.length>0?Z6([c],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,u)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return i.\u0275prov=sn({token:i,providedIn:"environment",factory:()=>new i(Ei(ju))}),i})();function Q6(i){i.getStandaloneInjector=o=>o.get(d7).getOrCreateStandaloneInjector(i)}function Zm(i,o,a){const c=ri()+i,u=kt();return u[c]===fn?Pa(u,c,a?o.call(a):o()):function cd(i,o){return i[o]}(u,c)}function Qm(i,o,a,c){return function c0(i,o,a,c,u,f){const y=o+a;return No(i,y,u)?Pa(i,y+1,f?c.call(f,u):c(u)):function Nl(i,o){const a=i[o];return a===fn?void 0:a}(i,y+1)}(kt(),ri(),i,o,a,c)}function u0(i){return o=>{setTimeout(i,void 0,o)}}const Fl=class d9 extends v.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,c){let u=o,f=a||(()=>null),y=c;if(o&&"object"==typeof o){const z=o;u=z.next?.bind(z),f=z.error?.bind(z),y=z.complete?.bind(z)}this.__isAsync&&(f=u0(f),u&&(u=u0(u)),y&&(y=u0(y)));const S=super.subscribe({next:u,error:f,complete:y});return o instanceof h.w0&&o.add(S),S}};function I7(){return this._results[ka()]()}class Vh{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=ka(),c=Vh.prototype;c[a]||(c[a]=I7)}get changes(){return this._changes||(this._changes=new Fl)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const c=this;c.dirty=!1;const u=Zi(o);(this._changesDetected=!function Ma(i,o,a){if(i.length!==o.length)return!1;for(let c=0;c<i.length;c++){let u=i[c],f=o[c];if(a&&(u=a(u),f=a(f)),f!==u)return!1}return!0}(c._results,u,a))&&(c._results=u,c.length=u.length,c.last=u[this.length-1],c.first=u[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Md=(()=>{class i{}return i.__NG_ELEMENT_ID__=sf,i})();const n5=Md,Hh=class extends n5{constructor(o,a,c){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=c}createEmbeddedView(o,a){const c=this._declarationTContainer.tViews,u=e4(this._declarationLView,c,o,16,null,c.declTNode,null,null,null,null,a||null);u[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(u[19]=y.createEmbeddedView(c)),Q4(c,u,o),new sd(u)}};function sf(){return d0(oi(),kt())}function d0(i,o){return 4&i.type?new Hh(o,i,Ia(i,o)):null}let h0=(()=>{class i{}return i.__NG_ELEMENT_ID__=r5,i})();function r5(){return b1(oi(),kt())}const f0=h0,o5=class extends f0{constructor(o,a,c){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=c}get element(){return Ia(this._hostTNode,this._hostLView)}get injector(){return new Rs(this._hostTNode,this._hostLView)}get parentInjector(){const o=Cs(this._hostTNode,this._hostLView);if(ol(o)){const a=ls(o,this._hostLView),c=Zr(o);return new Rs(a[1].data[c+8],a)}return new Rs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=af(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-B}createEmbeddedView(o,a,c){let u,f;"number"==typeof c?u=c:null!=c&&(u=c.index,f=c.injector);const y=o.createEmbeddedView(a||{},f);return this.insert(y,u),y}createComponent(o,a,c,u,f){const y=o&&!function Bs(i){return"function"==typeof i}(o);let S;if(y)S=a;else{const ue=a||{};S=ue.index,c=ue.injector,u=ue.projectableNodes,f=ue.environmentInjector||ue.ngModuleRef}const z=y?o:new ad(G(o)),L=c||this.parentInjector;if(!f&&null==z.ngModule){const Ne=(y?L:this.parentInjector).get(ju,null);Ne&&(f=Ne)}const X=z.create(L,u,void 0,f);return this.insert(X.hostView,S),X}insert(o,a){const c=o._lView,u=c[1];if(function Ba(i){return qe(i[3])}(c)){const X=this.indexOf(o);if(-1!==X)this.detach(X);else{const ue=c[3],Ne=new o5(ue,ue[6],ue[3]);Ne.detach(Ne.indexOf(o))}}const f=this._adjustIndex(a),y=this._lContainer;!function i8(i,o,a,c){const u=B+c,f=a.length;c>0&&(a[u-1][4]=o),c<f-B?(o[4]=a[u],xc(a,B+c,o)):(a.push(o),o[4]=null),o[3]=a;const y=o[17];null!==y&&a!==y&&function bl(i,o){const a=i[9];o[16]!==o[3][3][16]&&(i[2]=!0),null===a?i[9]=[o]:a.push(o)}(y,o);const S=o[19];null!==S&&S.insertView(i),o[2]|=64}(u,c,y,f);const S=hu(f,y),z=c[11],L=Y4(z,y[7]);return null!==L&&function G1(i,o,a,c,u,f){c[0]=u,c[6]=o,ac(i,c,a,1,u,f)}(u,y[6],z,c,L,S),o.attachToViewContainerRef(),xc(p0(y),f,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=af(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),c=du(this._lContainer,a);c&&(ua(p0(this._lContainer),a),z2(c[1],c))}detach(o){const a=this._adjustIndex(o,-1),c=du(this._lContainer,a);return c&&null!=ua(p0(this._lContainer),a)?new sd(c):null}_adjustIndex(o,a=0){return o??this.length+a}};function af(i){return i[8]}function p0(i){return i[8]||(i[8]=[])}function b1(i,o){let a;const c=o[i.index];if(qe(c))a=c;else{let u;if(8&i.type)u=Fr(c);else{const f=o[11];u=f.createComment("");const y=ei(i,o);Nc(f,Y4(f,y),u,function s8(i,o){return i.nextSibling(o)}(f,y),!1)}o[i.index]=a=$8(c,o,u,i),id(o,a)}return new o5(a,i,o)}class m0{constructor(o){this.queryList=o,this.matches=null}clone(){return new m0(this.queryList)}setDirty(){this.queryList.setDirty()}}class w4{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const c=null!==o.contentQueries?o.contentQueries[0]:a.length,u=[];for(let f=0;f<c;f++){const y=a.getByIndex(f);u.push(this.queries[y.indexInDeclarationView].clone())}return new w4(u)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==pf(o,a).matches&&this.queries[a].setDirty()}}class Dd{constructor(o,a,c=null){this.predicate=o,this.flags=a,this.read=c}}class fs{constructor(o=[]){this.queries=o}elementStart(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let c=0;c<this.length;c++){const u=null!==a?a.length:0,f=this.getByIndex(c).embeddedTView(o,u);f&&(f.indexInDeclarationView=c,null!==a?a.push(f):a=[f])}return null!==a?new fs(a):null}template(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class cf{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new cf(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let u=0;u<c.length;u++){const f=c[u];this.matchTNodeWithReadOption(o,a,lf(a,f)),this.matchTNodeWithReadOption(o,a,us(a,o,f,!1,!1))}else c===Md?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,us(a,o,c,!1,!1))}matchTNodeWithReadOption(o,a,c){if(null!==c){const u=this.metadata.read;if(null!==u)if(u===R4||u===h0||u===Md&&4&a.type)this.addMatch(a.index,-2);else{const f=us(a,o,u,!1,!1);null!==f&&this.addMatch(a.index,f)}else this.addMatch(a.index,c)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function lf(i,o){const a=i.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===o)return a[c+1];return null}function b4(i,o,a,c){return-1===a?function Td(i,o){return 11&i.type?Ia(i,o):4&i.type?d0(i,o):null}(o,i):-2===a?function uf(i,o,a){return a===R4?Ia(o,i):a===Md?d0(o,i):a===h0?b1(o,i):void 0}(i,o,c):Zo(i,i[1],a,o)}function C1(i,o,a,c){const u=o[19].queries[c];if(null===u.matches){const f=i.data,y=a.matches,S=[];for(let z=0;z<y.length;z+=2){const L=y[z];S.push(L<0?null:b4(o,f[L],y[z+1],a.metadata.read))}u.matches=S}return u.matches}function df(i,o,a,c){const u=i.queries.getByIndex(a),f=u.matches;if(null!==f){const y=C1(i,o,u,a);for(let S=0;S<f.length;S+=2){const z=f[S];if(z>0)c.push(y[S/2]);else{const L=f[S+1],X=o[-z];for(let ue=B;ue<X.length;ue++){const Ne=X[ue];Ne[17]===Ne[3]&&df(Ne[1],Ne,L,c)}if(null!==X[9]){const ue=X[9];for(let Ne=0;Ne<ue.length;Ne++){const nt=ue[Ne];df(nt[1],nt,L,c)}}}}}return c}function s5(i){const o=kt(),a=ir(),c=ra();_t(c+1);const u=pf(a,c);if(i.dirty&&function _s(i){return 4==(4&i[2])}(o)===(2==(2&u.metadata.flags))){if(null===u.matches)i.reset([]);else{const f=u.crossesNgTemplate?df(a,o,c,[]):C1(a,o,u,c);i.reset(f,$d),i.notifyOnChanges()}return!0}return!1}function Yc(i,o,a,c){const u=ir();if(u.firstCreatePass){const f=oi();(function ff(i,o,a){null===i.queries&&(i.queries=new fs),i.queries.track(new cf(o,a))})(u,new Dd(o,a,c),f.index),function k7(i,o){const a=i.contentQueries||(i.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,o)}(u,i),2==(2&a)&&(u.staticContentQueries=!0)}!function Rl(i,o,a){const c=new Vh(4==(4&a));yu(i,o,c,c.destroy),null===o[19]&&(o[19]=new w4),o[19].queries.push(new m0(c))}(u,kt(),a)}function hf(){return function g0(i,o){return i[19].queries[o].queryList}(kt(),ra())}function pf(i,o){return i.queries.getByIndex(o)}function a5(i,o){return d0(i,o)}function Yh(...i){}const S5=new zr("Application Initializer");let xd=(()=>{class i{constructor(a){this.appInits=a,this.resolve=Yh,this.reject=Yh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,u)=>{this.resolve=c,this.reject=u})}runInitializers(){if(this.initialized)return;const a=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let u=0;u<this.appInits.length;u++){const f=this.appInits[u]();if(hd(f))a.push(f);else if(C3(f)){const y=new Promise((S,z)=>{f.subscribe({complete:S,error:z})});a.push(y)}}Promise.all(a).then(()=>{c()}).catch(u=>{this.reject(u)}),0===a.length&&c(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(Ei(S5,8))},i.\u0275prov=sn({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const E0=new zr("AppId",{providedIn:"root",factory:function E5(){return`${M0()}${M0()}${M0()}`}});function M0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Sf=new zr("Platform Initializer"),Ef=new zr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),D5=new zr("appBootstrapListener"),W7=new zr("AnimationModuleType");let D0=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=sn({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const Id=new zr("LocaleId",{providedIn:"root",factory:()=>k(Id,jt.Optional|jt.SkipSelf)||function Mf(){return typeof $localize<"u"&&$localize.locale||lo}()}),Df=new zr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class zd{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let T5=(()=>{class i{compileModuleSync(a){return new q6(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),f=_l(tn(a).declarations).reduce((y,S)=>{const z=G(S);return z&&y.push(new ad(z)),y},[]);return new zd(c,f)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=sn({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const X7=(()=>Promise.resolve(0))();function Tf(i){typeof Zone>"u"?X7.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Oa{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Fl(!1),this.onMicrotaskEmpty=new Fl(!1),this.onStable=new Fl(!1),this.onError=new Fl(!1),typeof Zone>"u")throw new ie(908,!1);Zone.assertZonePatched();const u=this;if(u._nesting=0,u._outer=u._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const f=Zone.AsyncStackTaggingZoneSpec;u._inner=u._inner.fork(new f("Angular"))}Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!c&&a,u.shouldCoalesceRunChangeDetection=c,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function T0(){let i=rt.requestAnimationFrame,o=rt.cancelAnimationFrame;if(typeof Zone<"u"&&i&&o){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function ev(i){const o=()=>{!function J7(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(rt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,xf(i),i.isCheckStableRunning=!0,Uh(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),xf(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,u,f,y,S)=>{try{return If(i),a.invokeTask(u,f,y,S)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||i.shouldCoalesceRunChangeDetection)&&o(),zf(i)}},onInvoke:(a,c,u,f,y,S,z)=>{try{return If(i),a.invoke(u,f,y,S,z)}finally{i.shouldCoalesceRunChangeDetection&&o(),zf(i)}},onHasTask:(a,c,u,f)=>{a.hasTask(u,f),c===u&&("microTask"==f.change?(i._hasPendingMicrotasks=f.microTask,xf(i),Uh(i)):"macroTask"==f.change&&(i.hasPendingMacrotasks=f.macroTask))},onHandleError:(a,c,u,f)=>(a.handleError(u,f),i.runOutsideAngular(()=>i.onError.emit(f)),!1)})}(u)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Oa.isInAngularZone())throw new ie(909,!1)}static assertNotInAngularZone(){if(Oa.isInAngularZone())throw new ie(909,!1)}run(o,a,c){return this._inner.run(o,a,c)}runTask(o,a,c,u){const f=this._inner,y=f.scheduleEventTask("NgZoneEvent: "+u,o,z5,Yh,Yh);try{return f.runTask(y,a,c)}finally{f.cancelTask(y)}}runGuarded(o,a,c){return this._inner.runGuarded(o,a,c)}runOutsideAngular(o){return this._outer.run(o)}}const z5={};function Uh(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function xf(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function If(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function zf(i){i._nesting--,Uh(i)}class A5{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Fl,this.onMicrotaskEmpty=new Fl,this.onStable=new Fl,this.onError=new Fl}run(o,a,c){return o.apply(a,c)}runGuarded(o,a,c){return o.apply(a,c)}runOutsideAngular(o){return o()}runTask(o,a,c,u){return o.apply(a,c)}}const Af=new zr(""),kf=new zr("");let P5,D9=(()=>{class i{constructor(a,c,u){this._ngZone=a,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,P5||(function T9(i){P5=i}(u),u.addToWindow(c)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Oa.assertNotInAngularZone(),Tf(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Tf(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,u){let f=-1;c&&c>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==f),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:f,updateCb:u})}whenStable(a,c,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,c,u){return[]}}return i.\u0275fac=function(a){return new(a||i)(Ei(Oa),Ei(k5),Ei(kf))},i.\u0275prov=sn({token:i,factory:i.\u0275fac}),i})(),k5=(()=>{class i{constructor(){this._applications=new Map}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return P5?.findTestabilityInTree(this,a,c)??null}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=sn({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})(),Ll=null;const tv=new zr("AllowMultipleToken"),Pf=new zr("PlatformDestroyListeners");class Nf{constructor(o,a){this.name=o,this.token=a}}function ov(i,o,a=[]){const c=`Platform: ${o}`,u=new zr(c);return(f=[])=>{let y=N5();if(!y||y.injector.get(tv,!1)){const S=[...a,...f,{provide:u,useValue:!0}];i?i(S):function x9(i){if(Ll&&!Ll.get(tv,!1))throw new ie(400,!1);Ll=i;const o=i.get(F5);(function iv(i){const o=i.get(Sf,null);o&&o.forEach(a=>a())})(i)}(function O5(i=[],o){return Xn.create({name:o,providers:[{provide:Ht,useValue:"platform"},{provide:Pf,useValue:new Set([()=>Ll=null])},...i]})}(S,c))}return function sv(i){const o=N5();if(!o)throw new ie(401,!1);return o}()}}function N5(){return Ll?.get(F5)??null}let F5=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const u=function cv(i,o){let a;return a="noop"===i?new A5:("zone.js"===i?void 0:i)||new Oa(o),a}(c?.ngZone,function av(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!i||!i.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!i||!i.ngZoneRunCoalescing)||!1}}(c)),f=[{provide:Oa,useValue:u}];return u.run(()=>{const y=Xn.create({providers:f,parent:this.injector,name:a.moduleType.name}),S=a.create(y),z=S.injector.get(to,null);if(!z)throw new ie(402,!1);return u.runOutsideAngular(()=>{const L=u.onError.subscribe({next:X=>{z.handleError(X)}});S.onDestroy(()=>{x0(this._modules,S),L.unsubscribe()})}),function lv(i,o,a){try{const c=a();return hd(c)?c.catch(u=>{throw o.runOutsideAngular(()=>i.handleError(u)),u}):c}catch(c){throw o.runOutsideAngular(()=>i.handleError(c)),c}}(z,u,()=>{const L=S.injector.get(xd);return L.runInitializers(),L.donePromise.then(()=>(function F6(i){Bt(i,"Expected localeId to be defined"),"string"==typeof i&&(G3=i.toLowerCase().replace(/_/g,"-"))}(S.injector.get(Id,lo)||lo),this._moduleDoBootstrap(S),S))})})}bootstrapModule(a,c=[]){const u=uv({},c);return function nv(i,o,a){const c=new q6(a);return Promise.resolve(c)}(0,0,a).then(f=>this.bootstrapModuleFactory(f,u))}_moduleDoBootstrap(a){const c=a.injector.get(Rf);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(u=>c.bootstrap(u));else{if(!a.instance.ngDoBootstrap)throw new ie(403,!1);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ie(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const a=this._injector.get(Pf,null);a&&(a.forEach(c=>c()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(Ei(Xn))},i.\u0275prov=sn({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function uv(i,o){return Array.isArray(o)?o.reduce(uv,i):{...i,...o}}let Rf=(()=>{class i{constructor(a,c,u){this._zone=a,this._injector=c,this._exceptionHandler=u,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const f=new F.y(S=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{S.next(this._stable),S.complete()})}),y=new F.y(S=>{let z;this._zone.runOutsideAngular(()=>{z=this._zone.onStable.subscribe(()=>{Oa.assertNotInAngularZone(),Tf(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,S.next(!0))})})});const L=this._zone.onUnstable.subscribe(()=>{Oa.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{S.next(!1)}))});return()=>{z.unsubscribe(),L.unsubscribe()}});this.isStable=(0,oe.T)(f,y.pipe((0,ne.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,c){const u=a instanceof L1;if(!this._injector.get(xd).done)throw!u&&Dt(a),new ie(405,false);let y;y=u?a:this._injector.get(iu).resolveComponentFactory(a),this.componentTypes.push(y.componentType);const S=function Of(i){return i.isBoundToModule}(y)?void 0:this._injector.get(Sd),L=y.create(Xn.NULL,[],c||y.selector,S),X=L.location.nativeElement,ue=L.injector.get(Af,null);return ue?.registerApplication(X),L.onDestroy(()=>{this.detachView(L.hostView),x0(this.components,L),ue?.unregisterApplication(X)}),this._loadComponent(L),L}tick(){if(this._runningTick)throw new ie(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;x0(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(D5,[]).concat(this._bootstrapListeners).forEach(u=>u(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>x0(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new ie(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(a){return new(a||i)(Ei(Oa),Ei(ju),Ei(to))},i.\u0275prov=sn({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function x0(i,o){const a=i.indexOf(o);a>-1&&i.splice(a,1)}let Lf=!0,Vf=!1;function V5(){return Vf=!0,Lf}function H5(){if(Vf)throw new Error("Cannot enable prod mode after platform setup.");Lf=!1}let fv=(()=>{class i{}return i.__NG_ELEMENT_ID__=pv,i})();function pv(i){return function B5(i,o,a){if(dn(i)&&!a){const c=vr(i.index,o);return new sd(c,c)}return 47&i.type?new sd(o[16],o):null}(oi(),kt(),16==(16&i))}class Na{constructor(){}supports(o){return Cu(o)}create(o){return new Ad(o)}}const Gh=(i,o)=>o;class Ad{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||Gh}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,c=this._removalsHead,u=0,f=null;for(;a||c;){const y=!c||a&&a.currentIndex<_v(c,u,f)?a:c,S=_v(y,u,f),z=y.currentIndex;if(y===c)u--,c=c._nextRemoved;else if(a=a._next,null==y.previousIndex)u++;else{f||(f=[]);const L=S-u,X=z-u;if(L!=X){for(let Ne=0;Ne<L;Ne++){const nt=Ne<f.length?f[Ne]:f[Ne]=0,xt=nt+Ne;X<=xt&&xt<L&&(f[Ne]=nt+1)}f[y.previousIndex]=X-L}}S!==z&&o(y,S,z)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!Cu(o))throw new ie(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let u,f,y,a=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let S=0;S<this.length;S++)f=o[S],y=this._trackByFn(S,f),null!==a&&Object.is(a.trackById,y)?(c&&(a=this._verifyReinsertion(a,f,y,S)),Object.is(a.item,f)||this._addIdentityChange(a,f)):(a=this._mismatch(a,f,y,S),c=!0),a=a._next}else u=0,function n6(i,o){if(Array.isArray(i))for(let a=0;a<i.length;a++)o(i[a]);else{const a=i[ka()]();let c;for(;!(c=a.next()).done;)o(c.value)}}(o,S=>{y=this._trackByFn(u,S),null!==a&&Object.is(a.trackById,y)?(c&&(a=this._verifyReinsertion(a,S,y,u)),Object.is(a.item,S)||this._addIdentityChange(a,S)):(a=this._mismatch(a,S,y,u),c=!0),a=a._next,u++}),this.length=u;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,c,u){let f;return null===o?f=this._itTail:(f=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,f,u)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,u))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,f,u)):o=this._addAfter(new vv(a,c),f,u),o}_verifyReinsertion(o,a,c,u){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==f?o=this._reinsertAfter(f,o._prev,u):o.currentIndex!=u&&(o.currentIndex=u,this._addToMoves(o,u)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const u=o._prevRemoved,f=o._nextRemoved;return null===u?this._removalsHead=f:u._nextRemoved=f,null===f?this._removalsTail=u:f._prevRemoved=u,this._insertAfter(o,a,c),this._addToMoves(o,c),o}_moveAfter(o,a,c){return this._unlink(o),this._insertAfter(o,a,c),this._addToMoves(o,c),o}_addAfter(o,a,c){return this._insertAfter(o,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,c){const u=null===a?this._itHead:a._next;return o._next=u,o._prev=a,null===u?this._itTail=o:u._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new G5),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,c=o._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new G5),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class vv{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class yv{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const a=o._prevDup,c=o._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class G5{constructor(){this.map=new Map}put(o){const a=o.trackById;let c=this.map.get(a);c||(c=new yv,this.map.set(a,c)),c.add(o)}get(o,a){const u=this.map.get(o);return u?u.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function _v(i,o,a){const c=i.previousIndex;if(null===c)return c;let u=0;return a&&c<a.length&&(u=a[c]),c+o+u}class W5{constructor(){}supports(o){return o instanceof Map||Eh(o)}create(){return new O9}}class O9{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||Eh(o)))throw new ie(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,u)=>{if(a&&a.key===u)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const f=this._getOrCreateRecordForKey(u,c);a=this._insertBeforeOrAppend(a,f)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const c=o._prev;return a._next=o,a._prev=c,o._prev=a,c&&(c._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const u=this._records.get(o);this._maybeAddToChanges(u,a);const f=u._prev,y=u._next;return f&&(f._next=y),y&&(y._prev=f),u._next=null,u._prev=null,u}const c=new N9(o);return this._records.set(o,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(c=>a(o[c],c))}}class N9{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function wv(){return new K5([new Na])}let K5=(()=>{class i{constructor(a){this.factories=a}static create(a,c){if(null!=c){const u=c.factories.slice();a=a.concat(u)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||wv()),deps:[[i,new Bn,new Jt]]}}find(a){const c=this.factories.find(u=>u.supports(a));if(null!=c)return c;throw new ie(901,!1)}}return i.\u0275prov=sn({token:i,providedIn:"root",factory:wv}),i})();function bv(){return new Kf([new W5])}let Kf=(()=>{class i{constructor(a){this.factories=a}static create(a,c){if(c){const u=c.factories.slice();a=a.concat(u)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||bv()),deps:[[i,new Bn,new Jt]]}}find(a){const c=this.factories.find(u=>u.supports(a));if(c)return c;throw new ie(901,!1)}}return i.\u0275prov=sn({token:i,providedIn:"root",factory:bv}),i})();const Ev=ov(null,"core",[]);let Au=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(Ei(Rf))},i.\u0275mod=Pn({type:i}),i.\u0275inj=en({}),i})();function $c(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}},1481:(Pt,ke,T)=>{T.d(ke,{Dx:()=>Ye,H7:()=>We,b2:()=>tr,q6:()=>Vr,se:()=>Fe});var v=T(6895),h=T(4650);class F extends v.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class oe extends F{static makeCurrent(){(0,v.HT)(new oe)}onAndCancel(ae,re,xe){return ae.addEventListener(re,xe,!1),()=>{ae.removeEventListener(re,xe,!1)}}dispatchEvent(ae,re){ae.dispatchEvent(re)}remove(ae){ae.parentNode&&ae.parentNode.removeChild(ae)}createElement(ae,re){return(re=re||this.getDefaultDocument()).createElement(ae)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ae){return ae.nodeType===Node.ELEMENT_NODE}isShadowRoot(ae){return ae instanceof DocumentFragment}getGlobalEventTarget(ae,re){return"window"===re?window:"document"===re?ae:"body"===re?ae.body:null}getBaseHref(ae){const re=function he(){return ne=ne||document.querySelector("base"),ne?ne.getAttribute("href"):null}();return null==re?null:function V(de){ee=ee||document.createElement("a"),ee.setAttribute("href",de);const ae=ee.pathname;return"/"===ae.charAt(0)?ae:`/${ae}`}(re)}resetBaseElement(){ne=null}getUserAgent(){return window.navigator.userAgent}getCookie(ae){return(0,v.Mx)(document.cookie,ae)}}let ee,ne=null;const q=new h.OlP("TRANSITION_ID"),K=[{provide:h.ip1,useFactory:function Y(de,ae,re){return()=>{re.get(h.CZH).donePromise.then(()=>{const xe=(0,v.q)(),Je=ae.querySelectorAll(`style[ng-transition="${de}"]`);for(let Wt=0;Wt<Je.length;Wt++)xe.remove(Je[Wt])})}},deps:[q,v.K0,h.zs3],multi:!0}];let _e=(()=>{class de{build(){return new XMLHttpRequest}}return de.\u0275fac=function(re){return new(re||de)},de.\u0275prov=h.Yz7({token:de,factory:de.\u0275fac}),de})();const Ie=new h.OlP("EventManagerPlugins");let ie=(()=>{class de{constructor(re,xe){this._zone=xe,this._eventNameToPlugin=new Map,re.forEach(Je=>Je.manager=this),this._plugins=re.slice().reverse()}addEventListener(re,xe,Je){return this._findPluginFor(xe).addEventListener(re,xe,Je)}addGlobalEventListener(re,xe,Je){return this._findPluginFor(xe).addGlobalEventListener(re,xe,Je)}getZone(){return this._zone}_findPluginFor(re){const xe=this._eventNameToPlugin.get(re);if(xe)return xe;const Je=this._plugins;for(let Wt=0;Wt<Je.length;Wt++){const Sn=Je[Wt];if(Sn.supports(re))return this._eventNameToPlugin.set(re,Sn),Sn}throw new Error(`No event manager plugin found for event ${re}`)}}return de.\u0275fac=function(re){return new(re||de)(h.LFG(Ie),h.LFG(h.R0b))},de.\u0275prov=h.Yz7({token:de,factory:de.\u0275fac}),de})();class Ue{constructor(ae){this._doc=ae}addGlobalEventListener(ae,re,xe){const Je=(0,v.q)().getGlobalEventTarget(this._doc,ae);if(!Je)throw new Error(`Unsupported event target ${Je} for event ${re}`);return this.addEventListener(Je,re,xe)}}let be=(()=>{class de{constructor(){this._stylesSet=new Set}addStyles(re){const xe=new Set;re.forEach(Je=>{this._stylesSet.has(Je)||(this._stylesSet.add(Je),xe.add(Je))}),this.onStylesAdded(xe)}onStylesAdded(re){}getAllStyles(){return Array.from(this._stylesSet)}}return de.\u0275fac=function(re){return new(re||de)},de.\u0275prov=h.Yz7({token:de,factory:de.\u0275fac}),de})(),ze=(()=>{class de extends be{constructor(re){super(),this._doc=re,this._hostNodes=new Map,this._hostNodes.set(re.head,[])}_addStylesToHost(re,xe,Je){re.forEach(Wt=>{const Sn=this._doc.createElement("style");Sn.textContent=Wt,Je.push(xe.appendChild(Sn))})}addHost(re){const xe=[];this._addStylesToHost(this._stylesSet,re,xe),this._hostNodes.set(re,xe)}removeHost(re){const xe=this._hostNodes.get(re);xe&&xe.forEach(ft),this._hostNodes.delete(re)}onStylesAdded(re){this._hostNodes.forEach((xe,Je)=>{this._addStylesToHost(re,Je,xe)})}ngOnDestroy(){this._hostNodes.forEach(re=>re.forEach(ft))}}return de.\u0275fac=function(re){return new(re||de)(h.LFG(v.K0))},de.\u0275prov=h.Yz7({token:de,factory:de.\u0275fac}),de})();function ft(de){(0,v.q)().remove(de)}const at={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ct=/%COMP%/g;function Te(de,ae,re){for(let xe=0;xe<ae.length;xe++){let Je=ae[xe];Array.isArray(Je)?Te(de,Je,re):(Je=Je.replace(ct,de),re.push(Je))}return re}function Pe(de){return ae=>{if("__ngUnwrap__"===ae)return de;!1===de(ae)&&(ae.preventDefault(),ae.returnValue=!1)}}let Fe=(()=>{class de{constructor(re,xe,Je){this.eventManager=re,this.sharedStylesHost=xe,this.appId=Je,this.rendererByCompId=new Map,this.defaultRenderer=new Ke(re)}createRenderer(re,xe){if(!re||!xe)return this.defaultRenderer;switch(xe.encapsulation){case h.ifc.Emulated:{let Je=this.rendererByCompId.get(xe.id);return Je||(Je=new Bt(this.eventManager,this.sharedStylesHost,xe,this.appId),this.rendererByCompId.set(xe.id,Je)),Je.applyToHost(re),Je}case 1:case h.ifc.ShadowDom:return new $e(this.eventManager,this.sharedStylesHost,re,xe);default:if(!this.rendererByCompId.has(xe.id)){const Je=Te(xe.id,xe.styles,[]);this.sharedStylesHost.addStyles(Je),this.rendererByCompId.set(xe.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return de.\u0275fac=function(re){return new(re||de)(h.LFG(ie),h.LFG(ze),h.LFG(h.AFp))},de.\u0275prov=h.Yz7({token:de,factory:de.\u0275fac}),de})();class Ke{constructor(ae){this.eventManager=ae,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ae,re){return re?document.createElementNS(at[re]||re,ae):document.createElement(ae)}createComment(ae){return document.createComment(ae)}createText(ae){return document.createTextNode(ae)}appendChild(ae,re){(wt(ae)?ae.content:ae).appendChild(re)}insertBefore(ae,re,xe){ae&&(wt(ae)?ae.content:ae).insertBefore(re,xe)}removeChild(ae,re){ae&&ae.removeChild(re)}selectRootElement(ae,re){let xe="string"==typeof ae?document.querySelector(ae):ae;if(!xe)throw new Error(`The selector "${ae}" did not match any elements`);return re||(xe.textContent=""),xe}parentNode(ae){return ae.parentNode}nextSibling(ae){return ae.nextSibling}setAttribute(ae,re,xe,Je){if(Je){re=Je+":"+re;const Wt=at[Je];Wt?ae.setAttributeNS(Wt,re,xe):ae.setAttribute(re,xe)}else ae.setAttribute(re,xe)}removeAttribute(ae,re,xe){if(xe){const Je=at[xe];Je?ae.removeAttributeNS(Je,re):ae.removeAttribute(`${xe}:${re}`)}else ae.removeAttribute(re)}addClass(ae,re){ae.classList.add(re)}removeClass(ae,re){ae.classList.remove(re)}setStyle(ae,re,xe,Je){Je&(h.JOm.DashCase|h.JOm.Important)?ae.style.setProperty(re,xe,Je&h.JOm.Important?"important":""):ae.style[re]=xe}removeStyle(ae,re,xe){xe&h.JOm.DashCase?ae.style.removeProperty(re):ae.style[re]=""}setProperty(ae,re,xe){ae[re]=xe}setValue(ae,re){ae.nodeValue=re}listen(ae,re,xe){return"string"==typeof ae?this.eventManager.addGlobalEventListener(ae,re,Pe(xe)):this.eventManager.addEventListener(ae,re,Pe(xe))}}function wt(de){return"TEMPLATE"===de.tagName&&void 0!==de.content}class Bt extends Ke{constructor(ae,re,xe,Je){super(ae),this.component=xe;const Wt=Te(Je+"-"+xe.id,xe.styles,[]);re.addStyles(Wt),this.contentAttr=function je(de){return"_ngcontent-%COMP%".replace(ct,de)}(Je+"-"+xe.id),this.hostAttr=function He(de){return"_nghost-%COMP%".replace(ct,de)}(Je+"-"+xe.id)}applyToHost(ae){super.setAttribute(ae,this.hostAttr,"")}createElement(ae,re){const xe=super.createElement(ae,re);return super.setAttribute(xe,this.contentAttr,""),xe}}class $e extends Ke{constructor(ae,re,xe,Je){super(ae),this.sharedStylesHost=re,this.hostEl=xe,this.shadowRoot=xe.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Wt=Te(Je.id,Je.styles,[]);for(let Sn=0;Sn<Wt.length;Sn++){const Ln=document.createElement("style");Ln.textContent=Wt[Sn],this.shadowRoot.appendChild(Ln)}}nodeOrShadowRoot(ae){return ae===this.hostEl?this.shadowRoot:ae}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(ae,re){return super.appendChild(this.nodeOrShadowRoot(ae),re)}insertBefore(ae,re,xe){return super.insertBefore(this.nodeOrShadowRoot(ae),re,xe)}removeChild(ae,re){return super.removeChild(this.nodeOrShadowRoot(ae),re)}parentNode(ae){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ae)))}}let bt=(()=>{class de extends Ue{constructor(re){super(re)}supports(re){return!0}addEventListener(re,xe,Je){return re.addEventListener(xe,Je,!1),()=>this.removeEventListener(re,xe,Je)}removeEventListener(re,xe,Je){return re.removeEventListener(xe,Je)}}return de.\u0275fac=function(re){return new(re||de)(h.LFG(v.K0))},de.\u0275prov=h.Yz7({token:de,factory:de.\u0275fac}),de})();const Ct=["alt","control","meta","shift"],Tt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},sn={alt:de=>de.altKey,control:de=>de.ctrlKey,meta:de=>de.metaKey,shift:de=>de.shiftKey};let gn=(()=>{class de extends Ue{constructor(re){super(re)}supports(re){return null!=de.parseEventName(re)}addEventListener(re,xe,Je){const Wt=de.parseEventName(xe),Sn=de.eventCallback(Wt.fullKey,Je,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,v.q)().onAndCancel(re,Wt.domEventName,Sn))}static parseEventName(re){const xe=re.toLowerCase().split("."),Je=xe.shift();if(0===xe.length||"keydown"!==Je&&"keyup"!==Je)return null;const Wt=de._normalizeKey(xe.pop());let Sn="",Ln=xe.indexOf("code");if(Ln>-1&&(xe.splice(Ln,1),Sn="code."),Ct.forEach(Dr=>{const cn=xe.indexOf(Dr);cn>-1&&(xe.splice(cn,1),Sn+=Dr+".")}),Sn+=Wt,0!=xe.length||0===Wt.length)return null;const Sr={};return Sr.domEventName=Je,Sr.fullKey=Sn,Sr}static matchEventFullKeyCode(re,xe){let Je=Tt[re.key]||re.key,Wt="";return xe.indexOf("code.")>-1&&(Je=re.code,Wt="code."),!(null==Je||!Je)&&(Je=Je.toLowerCase()," "===Je?Je="space":"."===Je&&(Je="dot"),Ct.forEach(Sn=>{Sn!==Je&&(0,sn[Sn])(re)&&(Wt+=Sn+".")}),Wt+=Je,Wt===xe)}static eventCallback(re,xe,Je){return Wt=>{de.matchEventFullKeyCode(Wt,re)&&Je.runGuarded(()=>xe(Wt))}}static _normalizeKey(re){return"esc"===re?"escape":re}}return de.\u0275fac=function(re){return new(re||de)(h.LFG(v.K0))},de.\u0275prov=h.Yz7({token:de,factory:de.\u0275fac}),de})();const Vr=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:v.bD},{provide:h.g9A,useValue:function mr(){oe.makeCurrent()},multi:!0},{provide:v.K0,useFactory:function yn(){return(0,h.RDi)(document),document},deps:[]}]),gr=new h.OlP(""),jt=[{provide:h.rWj,useClass:class J{addToWindow(ae){h.dqk.getAngularTestability=(xe,Je=!0)=>{const Wt=ae.findTestabilityInTree(xe,Je);if(null==Wt)throw new Error("Could not find testability for element.");return Wt},h.dqk.getAllAngularTestabilities=()=>ae.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>ae.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(xe=>{const Je=h.dqk.getAllAngularTestabilities();let Wt=Je.length,Sn=!1;const Ln=function(Sr){Sn=Sn||Sr,Wt--,0==Wt&&xe(Sn)};Je.forEach(function(Sr){Sr.whenStable(Ln)})})}findTestabilityInTree(ae,re,xe){return null==re?null:ae.getTestability(re)??(xe?(0,v.q)().isShadowRoot(re)?this.findTestabilityInTree(ae,re.host,!0):this.findTestabilityInTree(ae,re.parentElement,!0):null)}},deps:[]},{provide:h.lri,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]}],br=[{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function Nr(){return new h.qLn},deps:[]},{provide:Ie,useClass:bt,multi:!0,deps:[v.K0,h.R0b,h.Lbi]},{provide:Ie,useClass:gn,multi:!0,deps:[v.K0]},{provide:Fe,useClass:Fe,deps:[ie,ze,h.AFp]},{provide:h.FYo,useExisting:Fe},{provide:be,useExisting:ze},{provide:ze,useClass:ze,deps:[v.K0]},{provide:ie,useClass:ie,deps:[Ie,h.R0b]},{provide:v.JF,useClass:_e,deps:[]},[]];let tr=(()=>{class de{constructor(re){}static withServerTransition(re){return{ngModule:de,providers:[{provide:h.AFp,useValue:re.appId},{provide:q,useExisting:h.AFp},K]}}}return de.\u0275fac=function(re){return new(re||de)(h.LFG(gr,12))},de.\u0275mod=h.oAB({type:de}),de.\u0275inj=h.cJS({providers:[...br,...jt],imports:[v.ez,h.hGG]}),de})(),Ye=(()=>{class de{constructor(re){this._doc=re}getTitle(){return this._doc.title}setTitle(re){this._doc.title=re||""}}return de.\u0275fac=function(re){return new(re||de)(h.LFG(v.K0))},de.\u0275prov=h.Yz7({token:de,factory:function(re){let xe=null;return xe=re?new re:function Xt(){return new Ye((0,h.LFG)(v.K0))}(),xe},providedIn:"root"}),de})();typeof window<"u"&&window;let We=(()=>{class de{}return de.\u0275fac=function(re){return new(re||de)},de.\u0275prov=h.Yz7({token:de,factory:function(re){let xe=null;return xe=re?new(re||de):h.LFG(tn),xe},providedIn:"root"}),de})(),tn=(()=>{class de extends We{constructor(re){super(),this._doc=re}sanitize(re,xe){if(null==xe)return null;switch(re){case h.q3G.NONE:return xe;case h.q3G.HTML:return(0,h.qzn)(xe,"HTML")?(0,h.z3N)(xe):(0,h.EiD)(this._doc,String(xe)).toString();case h.q3G.STYLE:return(0,h.qzn)(xe,"Style")?(0,h.z3N)(xe):xe;case h.q3G.SCRIPT:if((0,h.qzn)(xe,"Script"))return(0,h.z3N)(xe);throw new Error("unsafe value used in a script context");case h.q3G.URL:return(0,h.qzn)(xe,"URL")?(0,h.z3N)(xe):(0,h.mCW)(String(xe));case h.q3G.RESOURCE_URL:if((0,h.qzn)(xe,"ResourceURL"))return(0,h.z3N)(xe);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${re} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(re){return(0,h.JVY)(re)}bypassSecurityTrustStyle(re){return(0,h.L6k)(re)}bypassSecurityTrustScript(re){return(0,h.eBb)(re)}bypassSecurityTrustUrl(re){return(0,h.LAX)(re)}bypassSecurityTrustResourceUrl(re){return(0,h.pB0)(re)}}return de.\u0275fac=function(re){return new(re||de)(h.LFG(v.K0))},de.\u0275prov=h.Yz7({token:de,factory:function(re){let xe=null;return xe=re?new re:function Dt(de){return new tn(de.get(v.K0))}(h.LFG(h.zs3)),xe},providedIn:"root"}),de})()},4537:(Pt,ke,T)=>{T.d(ke,{Bz:()=>ko,lC:()=>Yo});var v=T(4650),h=T(8996),F=T(9646),oe=T(1135),ne=T(6805),he=T(9751),ee=T(4742),V=T(4671),q=T(3268),Y=T(3269),K=T(1810),J=T(5403),_e=T(9672);function Ie(...w){const b=(0,Y.yG)(w),_=(0,Y.jO)(w),{args:x,keys:O}=(0,ee.D)(w);if(0===x.length)return(0,h.D)([],b);const W=new he.y(function ie(w,b,_=V.y){return x=>{Ue(b,()=>{const{length:O}=w,W=new Array(O);let pe=O,Ce=O;for(let dt=0;dt<O;dt++)Ue(b,()=>{const Kt=(0,h.D)(w[dt],b);let Vn=!1;Kt.subscribe((0,J.x)(x,rn=>{W[dt]=rn,Vn||(Vn=!0,Ce--),Ce||x.next(_(W.slice()))},()=>{--pe||x.complete()}))},x)},x)}}(x,b,O?pe=>(0,K.n)(O,pe):V.y));return _?W.pipe((0,q.Z)(_)):W}function Ue(w,b,_){w?(0,_e.f)(_,w,b):b()}var be=T(7272),ze=T(8421);function ft(w){return new he.y(b=>{(0,ze.Xf)(w()).subscribe(b)})}var at=T(9635),ct=T(576);function Se(w,b){const _=(0,ct.m)(w)?w:()=>w,x=O=>O.error(_());return new he.y(b?O=>b.schedule(x,0,O):x)}var Le=T(515),ht=T(727),Me=T(4482);function je(){return(0,Me.e)((w,b)=>{let _=null;w._refCount++;const x=(0,J.x)(b,void 0,void 0,void 0,()=>{if(!w||w._refCount<=0||0<--w._refCount)return void(_=null);const O=w._connection,W=_;_=null,O&&(!W||O===W)&&O.unsubscribe(),b.unsubscribe()});w.subscribe(x),x.closed||(_=w.connect())})}class He extends he.y{constructor(b,_){super(),this.source=b,this.subjectFactory=_,this._subject=null,this._refCount=0,this._connection=null,(0,Me.A)(b)&&(this.lift=b.lift)}_subscribe(b){return this.getSubject().subscribe(b)}getSubject(){const b=this._subject;return(!b||b.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:b}=this;this._subject=this._connection=null,b?.unsubscribe()}connect(){let b=this._connection;if(!b){b=this._connection=new ht.w0;const _=this.getSubject();b.add(this.source.subscribe((0,J.x)(_,void 0,()=>{this._teardown(),_.complete()},x=>{this._teardown(),_.error(x)},()=>this._teardown()))),b.closed&&(this._connection=null,b=ht.w0.EMPTY)}return b}refCount(){return je()(this)}}var Te=T(7579),Pe=T(6895),Ve=T(4004),Fe=T(3900),Ke=T(5698),pt=T(8675),it=T(9300),wt=T(5577),Bt=T(590),$e=T(4351),bt=T(8505),Ct=T(262),Tt=T(5026);function sn(w){return w<=0?()=>Le.E:(0,Me.e)((b,_)=>{let x=[];b.subscribe((0,J.x)(_,O=>{x.push(O),w<x.length&&x.shift()},()=>{for(const O of x)_.next(O);_.complete()},void 0,()=>{x=null}))})}var gn=T(8068),en=T(6590);function Qn(w,b){const _=arguments.length>=2;return x=>x.pipe(w?(0,it.h)((O,W)=>w(O,W,x)):V.y,sn(1),_?(0,en.d)(b):(0,gn.T)(()=>new ne.K))}var kn=T(9718),vn=T(8746),mr=T(8189),Nr=T(1481);const yn="primary",sr=Symbol("RouteTitle");class Vr{constructor(b){this.params=b||{}}has(b){return Object.prototype.hasOwnProperty.call(this.params,b)}get(b){if(this.has(b)){const _=this.params[b];return Array.isArray(_)?_[0]:_}return null}getAll(b){if(this.has(b)){const _=this.params[b];return Array.isArray(_)?_:[_]}return[]}get keys(){return Object.keys(this.params)}}function gr(w){return new Vr(w)}function jt(w,b,_){const x=_.path.split("/");if(x.length>w.length||"full"===_.pathMatch&&(b.hasChildren()||x.length<w.length))return null;const O={};for(let W=0;W<x.length;W++){const pe=x[W],Ce=w[W];if(pe.startsWith(":"))O[pe.substring(1)]=Ce;else if(pe!==Ce.path)return null}return{consumed:w.slice(0,x.length),posParams:O}}function tr(w,b){const _=w?Object.keys(w):void 0,x=b?Object.keys(b):void 0;if(!_||!x||_.length!=x.length)return!1;let O;for(let W=0;W<_.length;W++)if(O=_[W],!Lt(w[O],b[O]))return!1;return!0}function Lt(w,b){if(Array.isArray(w)&&Array.isArray(b)){if(w.length!==b.length)return!1;const _=[...w].sort(),x=[...b].sort();return _.every((O,W)=>x[W]===O)}return w===b}function Yt(w){return Array.prototype.concat.apply([],w)}function mt(w){return w.length>0?w[w.length-1]:null}function Ye(w,b){for(const _ in w)w.hasOwnProperty(_)&&b(w[_],_)}function ye(w){return(0,v.CqO)(w)?w:(0,v.QGY)(w)?(0,h.D)(Promise.resolve(w)):(0,F.of)(w)}const rt={exact:function $t(w,b,_){if(!Ot(w.segments,b.segments)||!St(w.segments,b.segments,_)||w.numberOfChildren!==b.numberOfChildren)return!1;for(const x in b.children)if(!w.children[x]||!$t(w.children[x],b.children[x],_))return!1;return!0},subset:et},an={exact:function jn(w,b){return tr(w,b)},subset:function Oe(w,b){return Object.keys(b).length<=Object.keys(w).length&&Object.keys(b).every(_=>Lt(w[_],b[_]))},ignored:()=>!0};function bn(w,b,_){return rt[_.paths](w.root,b.root,_.matrixParams)&&an[_.queryParams](w.queryParams,b.queryParams)&&!("exact"===_.fragment&&w.fragment!==b.fragment)}function et(w,b,_){return Nt(w,b,b.segments,_)}function Nt(w,b,_,x){if(w.segments.length>_.length){const O=w.segments.slice(0,_.length);return!(!Ot(O,_)||b.hasChildren()||!St(O,_,x))}if(w.segments.length===_.length){if(!Ot(w.segments,_)||!St(w.segments,_,x))return!1;for(const O in b.children)if(!w.children[O]||!et(w.children[O],b.children[O],x))return!1;return!0}{const O=_.slice(0,w.segments.length),W=_.slice(w.segments.length);return!!(Ot(w.segments,O)&&St(w.segments,O,x)&&w.children[yn])&&Nt(w.children[yn],b,W,x)}}function St(w,b,_){return b.every((x,O)=>an[_](w[O].parameters,x.parameters))}class Qt{constructor(b,_,x){this.root=b,this.queryParams=_,this.fragment=x}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gr(this.queryParams)),this._queryParamMap}toString(){return Ee.serialize(this)}}class Mt{constructor(b,_){this.segments=b,this.children=_,this.parent=null,Ye(_,(x,O)=>x.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ve(this)}}class At{constructor(b,_){this.path=b,this.parameters=_}get parameterMap(){return this._parameterMap||(this._parameterMap=gr(this.parameters)),this._parameterMap}toString(){return nn(this)}}function Ot(w,b){return w.length===b.length&&w.every((_,x)=>_.path===b[x].path)}let pn=(()=>{class w{}return w.\u0275fac=function(_){return new(_||w)},w.\u0275prov=v.Yz7({token:w,factory:function(){return new Pn},providedIn:"root"}),w})();class Pn{parse(b){const _=new Sr(b);return new Qt(_.parseRootSegment(),_.parseQueryParams(),_.parseFragment())}serialize(b){const _=`/${Ae(b.root,!0)}`,x=function ae(w){const b=Object.keys(w).map(_=>{const x=w[_];return Array.isArray(x)?x.map(O=>`${G(_)}=${G(O)}`).join("&"):`${G(_)}=${G(x)}`}).filter(_=>!!_);return b.length?`?${b.join("&")}`:""}(b.queryParams);return`${_}${x}${"string"==typeof b.fragment?`#${function ce(w){return encodeURI(w)}(b.fragment)}`:""}`}}const Ee=new Pn;function ve(w){return w.segments.map(b=>nn(b)).join("/")}function Ae(w,b){if(!w.hasChildren())return ve(w);if(b){const _=w.children[yn]?Ae(w.children[yn],!1):"",x=[];return Ye(w.children,(O,W)=>{W!==yn&&x.push(`${W}:${Ae(O,!1)}`)}),x.length>0?`${_}(${x.join("//")})`:_}{const _=function _n(w,b){let _=[];return Ye(w.children,(x,O)=>{O===yn&&(_=_.concat(b(x,O)))}),Ye(w.children,(x,O)=>{O!==yn&&(_=_.concat(b(x,O)))}),_}(w,(x,O)=>O===yn?[Ae(w.children[yn],!1)]:[`${O}:${Ae(x,!1)}`]);return 1===Object.keys(w.children).length&&null!=w.children[yn]?`${ve(w)}/${_[0]}`:`${ve(w)}/(${_.join("//")})`}}function fe(w){return encodeURIComponent(w).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function G(w){return fe(w).replace(/%3B/gi,";")}function We(w){return fe(w).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Dt(w){return decodeURIComponent(w)}function tn(w){return Dt(w.replace(/\+/g,"%20"))}function nn(w){return`${We(w.path)}${function de(w){return Object.keys(w).map(b=>`;${We(b)}=${We(w[b])}`).join("")}(w.parameters)}`}const re=/^[^\/()?;=#]+/;function xe(w){const b=w.match(re);return b?b[0]:""}const Je=/^[^=?&#]+/,Sn=/^[^&#]+/;class Sr{constructor(b){this.url=b,this.remaining=b}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Mt([],{}):new Mt([],this.parseChildren())}parseQueryParams(){const b={};if(this.consumeOptional("?"))do{this.parseQueryParam(b)}while(this.consumeOptional("&"));return b}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const b=[];for(this.peekStartsWith("(")||b.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),b.push(this.parseSegment());let _={};this.peekStartsWith("/(")&&(this.capture("/"),_=this.parseParens(!0));let x={};return this.peekStartsWith("(")&&(x=this.parseParens(!1)),(b.length>0||Object.keys(_).length>0)&&(x[yn]=new Mt(b,_)),x}parseSegment(){const b=xe(this.remaining);if(""===b&&this.peekStartsWith(";"))throw new v.vHH(4009,!1);return this.capture(b),new At(Dt(b),this.parseMatrixParams())}parseMatrixParams(){const b={};for(;this.consumeOptional(";");)this.parseParam(b);return b}parseParam(b){const _=xe(this.remaining);if(!_)return;this.capture(_);let x="";if(this.consumeOptional("=")){const O=xe(this.remaining);O&&(x=O,this.capture(x))}b[Dt(_)]=Dt(x)}parseQueryParam(b){const _=function Wt(w){const b=w.match(Je);return b?b[0]:""}(this.remaining);if(!_)return;this.capture(_);let x="";if(this.consumeOptional("=")){const pe=function Ln(w){const b=w.match(Sn);return b?b[0]:""}(this.remaining);pe&&(x=pe,this.capture(x))}const O=tn(_),W=tn(x);if(b.hasOwnProperty(O)){let pe=b[O];Array.isArray(pe)||(pe=[pe],b[O]=pe),pe.push(W)}else b[O]=W}parseParens(b){const _={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const x=xe(this.remaining),O=this.remaining[x.length];if("/"!==O&&")"!==O&&";"!==O)throw new v.vHH(4010,!1);let W;x.indexOf(":")>-1?(W=x.slice(0,x.indexOf(":")),this.capture(W),this.capture(":")):b&&(W=yn);const pe=this.parseChildren();_[W]=1===Object.keys(pe).length?pe[yn]:new Mt([],pe),this.consumeOptional("//")}return _}peekStartsWith(b){return this.remaining.startsWith(b)}consumeOptional(b){return!!this.peekStartsWith(b)&&(this.remaining=this.remaining.substring(b.length),!0)}capture(b){if(!this.consumeOptional(b))throw new v.vHH(4011,!1)}}function Dr(w){return w.segments.length>0?new Mt([],{[yn]:w}):w}function cn(w){const b={};for(const x of Object.keys(w.children)){const W=cn(w.children[x]);(W.segments.length>0||W.hasChildren())&&(b[x]=W)}return function ji(w){if(1===w.numberOfChildren&&w.children[yn]){const b=w.children[yn];return new Mt(w.segments.concat(b.segments),b.children)}return w}(new Mt(w.segments,b))}function Ni(w){return w instanceof Qt}function _i(w,b,_,x,O){if(0===_.length)return xo(b.root,b.root,b.root,x,O);const W=function Vo(w){if("string"==typeof w[0]&&1===w.length&&"/"===w[0])return new La(!0,0,w);let b=0,_=!1;const x=w.reduce((O,W,pe)=>{if("object"==typeof W&&null!=W){if(W.outlets){const Ce={};return Ye(W.outlets,(dt,Kt)=>{Ce[Kt]="string"==typeof dt?dt.split("/"):dt}),[...O,{outlets:Ce}]}if(W.segmentPath)return[...O,W.segmentPath]}return"string"!=typeof W?[...O,W]:0===pe?(W.split("/").forEach((Ce,dt)=>{0==dt&&"."===Ce||(0==dt&&""===Ce?_=!0:".."===Ce?b++:""!=Ce&&O.push(Ce))}),O):[...O,W]},[]);return new La(_,b,x)}(_);return W.toRoot()?xo(b.root,b.root,new Mt([],{}),x,O):function pe(dt){const Kt=function Ho(w,b,_,x){if(w.isAbsolute)return new fo(b.root,!0,0);if(-1===x)return new fo(_,_===b.root,0);return function Be(w,b,_){let x=w,O=b,W=_;for(;W>O;){if(W-=O,x=x.parent,!x)throw new v.vHH(4005,!1);O=x.segments.length}return new fo(x,!1,O-W)}(_,x+(ni(w.commands[0])?0:1),w.numberOfDoubleDots)}(W,b,w.snapshot?._urlSegment,dt),Vn=Kt.processChildren?le(Kt.segmentGroup,Kt.index,W.commands):B(Kt.segmentGroup,Kt.index,W.commands);return xo(b.root,Kt.segmentGroup,Vn,x,O)}(w.snapshot?._lastPathIndex)}function ni(w){return"object"==typeof w&&null!=w&&!w.outlets&&!w.segmentPath}function Ar(w){return"object"==typeof w&&null!=w&&w.outlets}function xo(w,b,_,x,O){let pe,W={};x&&Ye(x,(dt,Kt)=>{W[Kt]=Array.isArray(dt)?dt.map(Vn=>`${Vn}`):`${dt}`}),pe=w===b?_:Er(w,b,_);const Ce=Dr(cn(pe));return new Qt(Ce,W,O)}function Er(w,b,_){const x={};return Ye(w.children,(O,W)=>{x[W]=O===b?_:Er(O,b,_)}),new Mt(w.segments,x)}class La{constructor(b,_,x){if(this.isAbsolute=b,this.numberOfDoubleDots=_,this.commands=x,b&&x.length>0&&ni(x[0]))throw new v.vHH(4003,!1);const O=x.find(Ar);if(O&&O!==mt(x))throw new v.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class fo{constructor(b,_,x){this.segmentGroup=b,this.processChildren=_,this.index=x}}function B(w,b,_){if(w||(w=new Mt([],{})),0===w.segments.length&&w.hasChildren())return le(w,b,_);const x=function De(w,b,_){let x=0,O=b;const W={match:!1,pathIndex:0,commandIndex:0};for(;O<w.segments.length;){if(x>=_.length)return W;const pe=w.segments[O],Ce=_[x];if(Ar(Ce))break;const dt=`${Ce}`,Kt=x<_.length-1?_[x+1]:null;if(O>0&&void 0===dt)break;if(dt&&Kt&&"object"==typeof Kt&&void 0===Kt.outlets){if(!Cn(dt,Kt,pe))return W;x+=2}else{if(!Cn(dt,{},pe))return W;x++}O++}return{match:!0,pathIndex:O,commandIndex:x}}(w,b,_),O=_.slice(x.commandIndex);if(x.match&&x.pathIndex<w.segments.length){const W=new Mt(w.segments.slice(0,x.pathIndex),{});return W.children[yn]=new Mt(w.segments.slice(x.pathIndex),w.children),le(W,0,O)}return x.match&&0===O.length?new Mt(w.segments,{}):x.match&&!w.hasChildren()?qe(w,b,_):x.match?le(w,0,O):qe(w,b,_)}function le(w,b,_){if(0===_.length)return new Mt(w.segments,{});{const x=function R(w){return Ar(w[0])?w[0].outlets:{[yn]:w}}(_),O={};return Ye(x,(W,pe)=>{"string"==typeof W&&(W=[W]),null!==W&&(O[pe]=B(w.children[pe],b,W))}),Ye(w.children,(W,pe)=>{void 0===x[pe]&&(O[pe]=W)}),new Mt(w.segments,O)}}function qe(w,b,_){const x=w.segments.slice(0,b);let O=0;for(;O<_.length;){const W=_[O];if(Ar(W)){const dt=Ft(W.outlets);return new Mt(x,dt)}if(0===O&&ni(_[0])){x.push(new At(w.segments[b].path,dn(_[0]))),O++;continue}const pe=Ar(W)?W.outlets[yn]:`${W}`,Ce=O<_.length-1?_[O+1]:null;pe&&Ce&&ni(Ce)?(x.push(new At(pe,dn(Ce))),O+=2):(x.push(new At(pe,{})),O++)}return new Mt(x,{})}function Ft(w){const b={};return Ye(w,(_,x)=>{"string"==typeof _&&(_=[_]),null!==_&&(b[x]=qe(new Mt([],{}),0,_))}),b}function dn(w){const b={};return Ye(w,(_,x)=>b[x]=`${_}`),b}function Cn(w,b,_){return w==_.path&&tr(b,_.parameters)}class mn{constructor(b,_){this.id=b,this.url=_}}class Nn extends mn{constructor(b,_,x="imperative",O=null){super(b,_),this.type=0,this.navigationTrigger=x,this.restoredState=O}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ur extends mn{constructor(b,_,x){super(b,_),this.urlAfterRedirects=x,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class li extends mn{constructor(b,_,x,O){super(b,_),this.reason=x,this.code=O,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Wr extends mn{constructor(b,_,x,O){super(b,_),this.error=x,this.target=O,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Jr extends mn{constructor(b,_,x,O){super(b,_),this.urlAfterRedirects=x,this.state=O,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jr extends mn{constructor(b,_,x,O){super(b,_),this.urlAfterRedirects=x,this.state=O,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mc extends mn{constructor(b,_,x,O,W){super(b,_),this.urlAfterRedirects=x,this.state=O,this.shouldActivate=W,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Bo extends mn{constructor(b,_,x,O){super(b,_),this.urlAfterRedirects=x,this.state=O,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zc extends mn{constructor(b,_,x,O){super(b,_),this.urlAfterRedirects=x,this.state=O,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gc{constructor(b){this.route=b,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Qc{constructor(b){this.route=b,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ms{constructor(b){this.snapshot=b,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gs{constructor(b){this.snapshot=b,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vc{constructor(b){this.snapshot=b,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xc{constructor(b){this.snapshot=b,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jc{constructor(b,_,x){this.routerEvent=b,this.position=_,this.anchor=x,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class es{constructor(b){this._root=b}get root(){return this._root.value}parent(b){const _=this.pathFromRoot(b);return _.length>1?_[_.length-2]:null}children(b){const _=ga(b,this._root);return _?_.children.map(x=>x.value):[]}firstChild(b){const _=ga(b,this._root);return _&&_.children.length>0?_.children[0].value:null}siblings(b){const _=Qs(b,this._root);return _.length<2?[]:_[_.length-2].children.map(O=>O.value).filter(O=>O!==b)}pathFromRoot(b){return Qs(b,this._root).map(_=>_.value)}}function ga(w,b){if(w===b.value)return b;for(const _ of b.children){const x=ga(w,_);if(x)return x}return null}function Qs(w,b){if(w===b.value)return[b];for(const _ of b.children){const x=Qs(w,_);if(x.length)return x.unshift(b),x}return[]}class Ri{constructor(b,_){this.value=b,this.children=_}toString(){return`TreeNode(${this.value})`}}function Xs(w){const b={};return w&&w.children.forEach(_=>b[_.value.outlet]=_),b}class vs extends es{constructor(b,_){super(b),this.snapshot=_,mo(this,b)}toString(){return this.snapshot.toString()}}function ui(w,b){const _=function ts(w,b){const pe=new ns([],{},{},"",{},yn,b,null,w.root,-1,{});return new Va("",new Ri(pe,[]))}(w,b),x=new oe.X([new At("",{})]),O=new oe.X({}),W=new oe.X({}),pe=new oe.X({}),Ce=new oe.X(""),dt=new Li(x,O,pe,Ce,W,yn,b,_.root);return dt.snapshot=_.root,new vs(new Ri(dt,[]),_)}class Li{constructor(b,_,x,O,W,pe,Ce,dt){this.url=b,this.params=_,this.queryParams=x,this.fragment=O,this.data=W,this.outlet=pe,this.component=Ce,this.title=this.data?.pipe((0,Ve.U)(Kt=>Kt[sr]))??(0,F.of)(void 0),this._futureSnapshot=dt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ve.U)(b=>gr(b)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ve.U)(b=>gr(b)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function zs(w,b="emptyOnly"){const _=w.pathFromRoot;let x=0;if("always"!==b)for(x=_.length-1;x>=1;){const O=_[x],W=_[x-1];if(O.routeConfig&&""===O.routeConfig.path)x--;else{if(W.component)break;x--}}return function va(w){return w.reduce((b,_)=>({params:{...b.params,..._.params},data:{...b.data,..._.data},resolve:{..._.data,...b.resolve,..._.routeConfig?.data,..._._resolvedData}}),{params:{},data:{},resolve:{}})}(_.slice(x))}class ns{constructor(b,_,x,O,W,pe,Ce,dt,Kt,Vn,rn,hr){this.url=b,this.params=_,this.queryParams=x,this.fragment=O,this.data=W,this.outlet=pe,this.component=Ce,this.title=this.data?.[sr],this.routeConfig=dt,this._urlSegment=Kt,this._lastPathIndex=Vn,this._correctedLastPathIndex=hr??Vn,this._resolve=rn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=gr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(x=>x.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Va extends es{constructor(b,_){super(_),this.url=b,mo(this,_)}toString(){return yc(this._root)}}function mo(w,b){b.value._routerState=w,b.children.forEach(_=>mo(w,_))}function yc(w){const b=w.children.length>0?` { ${w.children.map(yc).join(", ")} } `:"";return`${w.value}${b}`}function Vi(w){if(w.snapshot){const b=w.snapshot,_=w._futureSnapshot;w.snapshot=_,tr(b.queryParams,_.queryParams)||w.queryParams.next(_.queryParams),b.fragment!==_.fragment&&w.fragment.next(_.fragment),tr(b.params,_.params)||w.params.next(_.params),function br(w,b){if(w.length!==b.length)return!1;for(let _=0;_<w.length;++_)if(!tr(w[_],b[_]))return!1;return!0}(b.url,_.url)||w.url.next(_.url),tr(b.data,_.data)||w.data.next(_.data)}else w.snapshot=w._futureSnapshot,w.data.next(w._futureSnapshot.data)}function Hi(w,b){const _=tr(w.params,b.params)&&function vt(w,b){return Ot(w,b)&&w.every((_,x)=>tr(_.parameters,b[x].parameters))}(w.url,b.url);return _&&!(!w.parent!=!b.parent)&&(!w.parent||Hi(w.parent,b.parent))}function ro(w,b,_){if(_&&w.shouldReuseRoute(b.value,_.value.snapshot)){const x=_.value;x._futureSnapshot=b.value;const O=function io(w,b,_){return b.children.map(x=>{for(const O of _.children)if(w.shouldReuseRoute(x.value,O.value.snapshot))return ro(w,x,O);return ro(w,x)})}(w,b,_);return new Ri(x,O)}{if(w.shouldAttach(b.value)){const W=w.retrieve(b.value);if(null!==W){const pe=W.route;return pe.value._futureSnapshot=b.value,pe.children=b.children.map(Ce=>ro(w,Ce)),pe}}const x=function ys(w){return new Li(new oe.X(w.url),new oe.X(w.params),new oe.X(w.queryParams),new oe.X(w.fragment),new oe.X(w.data),w.outlet,w.component,w)}(b.value),O=b.children.map(W=>ro(w,W));return new Ri(x,O)}}const _c="ngNavigationCancelingError";function ya(w,b){const{redirectTo:_,navigationBehaviorOptions:x}=Ni(b)?{redirectTo:b,navigationBehaviorOptions:void 0}:b,O=Fr(!1,0,b);return O.url=_,O.navigationBehaviorOptions=x,O}function Fr(w,b,_){const x=new Error("NavigationCancelingError: "+(w||""));return x[_c]=!0,x.cancellationCode=b,_&&(x.url=_),x}function Ha(w){return tl(w)&&Ni(w.url)}function tl(w){return w&&w[_c]}class Gi{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new ei,this.attachRef=null}}let ei=(()=>{class w{constructor(){this.contexts=new Map}onChildOutletCreated(_,x){const O=this.getOrCreateContext(_);O.outlet=x,this.contexts.set(_,O)}onChildOutletDestroyed(_){const x=this.getContext(_);x&&(x.outlet=null,x.attachRef=null)}onOutletDeactivated(){const _=this.contexts;return this.contexts=new Map,_}onOutletReAttached(_){this.contexts=_}getOrCreateContext(_){let x=this.getContext(_);return x||(x=new Gi,this.contexts.set(_,x)),x}getContext(_){return this.contexts.get(_)||null}}return w.\u0275fac=function(_){return new(_||w)},w.\u0275prov=v.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();const rs=!1;let Yo=(()=>{class w{constructor(_,x,O,W,pe){this.parentContexts=_,this.location=x,this.changeDetector=W,this.environmentInjector=pe,this.activated=null,this._activatedRoute=null,this.activateEvents=new v.vpe,this.deactivateEvents=new v.vpe,this.attachEvents=new v.vpe,this.detachEvents=new v.vpe,this.name=O||yn,_.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const _=this.parentContexts.getContext(this.name);_&&_.route&&(_.attachRef?this.attach(_.attachRef,_.route):this.activateWith(_.route,_.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new v.vHH(4012,rs);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new v.vHH(4012,rs);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new v.vHH(4012,rs);this.location.detach();const _=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(_.instance),_}attach(_,x){this.activated=_,this._activatedRoute=x,this.location.insert(_.hostView),this.attachEvents.emit(_.instance)}deactivate(){if(this.activated){const _=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(_)}}activateWith(_,x){if(this.isActivated)throw new v.vHH(4013,rs);this._activatedRoute=_;const O=this.location,pe=_._futureSnapshot.component,Ce=this.parentContexts.getOrCreateContext(this.name).children,dt=new di(_,Ce,O.injector);if(x&&function vr(w){return!!w.resolveComponentFactory}(x)){const Kt=x.resolveComponentFactory(pe);this.activated=O.createComponent(Kt,O.length,dt)}else this.activated=O.createComponent(pe,{index:O.length,injector:dt,environmentInjector:x??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return w.\u0275fac=function(_){return new(_||w)(v.Y36(ei),v.Y36(v.s_b),v.$8M("name"),v.Y36(v.sBO),v.Y36(v.lqb))},w.\u0275dir=v.lG2({type:w,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),w})();class di{constructor(b,_,x){this.route=b,this.childContexts=_,this.parent=x}get(b,_){return b===Li?this.route:b===ei?this.childContexts:this.parent.get(b,_)}}let _s=(()=>{class w{}return w.\u0275fac=function(_){return new(_||w)},w.\u0275cmp=v.Xpm({type:w,selectors:[["ng-component"]],standalone:!0,features:[v.jDz],decls:1,vars:0,template:function(_,x){1&_&&v._UZ(0,"router-outlet")},dependencies:[Yo],encapsulation:2}),w})();function Uo(w,b){return w.providers&&!w._injector&&(w._injector=(0,v.MMx)(w.providers,b,`Route: ${w.path}`)),w._injector??b}function As(w){const b=w.children&&w.children.map(As),_=b?{...w,children:b}:{...w};return!_.component&&!_.loadComponent&&(b||_.loadChildren)&&_.outlet&&_.outlet!==yn&&(_.component=_s),_}function wi(w){return w.outlet||yn}function jo(w,b){const _=w.filter(x=>wi(x)===b);return _.push(...w.filter(x=>wi(x)!==b)),_}function $o(w){if(!w)return null;if(w.routeConfig?._injector)return w.routeConfig._injector;for(let b=w.parent;b;b=b.parent){const _=b.routeConfig;if(_?._loadedInjector)return _._loadedInjector;if(_?._injector)return _._injector}return null}class kt{constructor(b,_,x,O){this.routeReuseStrategy=b,this.futureState=_,this.currState=x,this.forwardEvent=O}activate(b){const _=this.futureState._root,x=this.currState?this.currState._root:null;this.deactivateChildRoutes(_,x,b),Vi(this.futureState.root),this.activateChildRoutes(_,x,b)}deactivateChildRoutes(b,_,x){const O=Xs(_);b.children.forEach(W=>{const pe=W.value.outlet;this.deactivateRoutes(W,O[pe],x),delete O[pe]}),Ye(O,(W,pe)=>{this.deactivateRouteAndItsChildren(W,x)})}deactivateRoutes(b,_,x){const O=b.value,W=_?_.value:null;if(O===W)if(O.component){const pe=x.getContext(O.outlet);pe&&this.deactivateChildRoutes(b,_,pe.children)}else this.deactivateChildRoutes(b,_,x);else W&&this.deactivateRouteAndItsChildren(_,x)}deactivateRouteAndItsChildren(b,_){b.value.component&&this.routeReuseStrategy.shouldDetach(b.value.snapshot)?this.detachAndStoreRouteSubtree(b,_):this.deactivateRouteAndOutlet(b,_)}detachAndStoreRouteSubtree(b,_){const x=_.getContext(b.value.outlet),O=x&&b.value.component?x.children:_,W=Xs(b);for(const pe of Object.keys(W))this.deactivateRouteAndItsChildren(W[pe],O);if(x&&x.outlet){const pe=x.outlet.detach(),Ce=x.children.onOutletDeactivated();this.routeReuseStrategy.store(b.value.snapshot,{componentRef:pe,route:b,contexts:Ce})}}deactivateRouteAndOutlet(b,_){const x=_.getContext(b.value.outlet),O=x&&b.value.component?x.children:_,W=Xs(b);for(const pe of Object.keys(W))this.deactivateRouteAndItsChildren(W[pe],O);x&&x.outlet&&(x.outlet.deactivate(),x.children.onOutletDeactivated(),x.attachRef=null,x.resolver=null,x.route=null)}activateChildRoutes(b,_,x){const O=Xs(_);b.children.forEach(W=>{this.activateRoutes(W,O[W.value.outlet],x),this.forwardEvent(new Xc(W.value.snapshot))}),b.children.length&&this.forwardEvent(new gs(b.value.snapshot))}activateRoutes(b,_,x){const O=b.value,W=_?_.value:null;if(Vi(O),O===W)if(O.component){const pe=x.getOrCreateContext(O.outlet);this.activateChildRoutes(b,_,pe.children)}else this.activateChildRoutes(b,_,x);else if(O.component){const pe=x.getOrCreateContext(O.outlet);if(this.routeReuseStrategy.shouldAttach(O.snapshot)){const Ce=this.routeReuseStrategy.retrieve(O.snapshot);this.routeReuseStrategy.store(O.snapshot,null),pe.children.onOutletReAttached(Ce.contexts),pe.attachRef=Ce.componentRef,pe.route=Ce.route.value,pe.outlet&&pe.outlet.attach(Ce.componentRef,Ce.route.value),Vi(Ce.route.value),this.activateChildRoutes(b,null,pe.children)}else{const Ce=$o(O.snapshot),dt=Ce?.get(v._Vd)??null;pe.attachRef=null,pe.route=O,pe.resolver=dt,pe.injector=Ce,pe.outlet&&pe.outlet.activateWith(O,pe.injector),this.activateChildRoutes(b,null,pe.children)}}else this.activateChildRoutes(b,null,x)}}class ir{constructor(b){this.path=b,this.route=this.path[this.path.length-1]}}class wc{constructor(b,_){this.component=b,this.route=_}}function ta(w,b,_){const x=w._root;return Go(x,b?b._root:null,_,[x.value])}function oo(w,b){const _=Symbol(),x=b.get(w,_);return x===_?"function"!=typeof w||(0,v.Z0I)(w)?b.get(w):w:x}function Go(w,b,_,x,O={canDeactivateChecks:[],canActivateChecks:[]}){const W=Xs(b);return w.children.forEach(pe=>{(function Wi(w,b,_,x,O={canDeactivateChecks:[],canActivateChecks:[]}){const W=w.value,pe=b?b.value:null,Ce=_?_.getContext(w.value.outlet):null;if(pe&&W.routeConfig===pe.routeConfig){const dt=function Ya(w,b,_){if("function"==typeof _)return _(w,b);switch(_){case"pathParamsChange":return!Ot(w.url,b.url);case"pathParamsOrQueryParamsChange":return!Ot(w.url,b.url)||!tr(w.queryParams,b.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Hi(w,b)||!tr(w.queryParams,b.queryParams);default:return!Hi(w,b)}}(pe,W,W.routeConfig.runGuardsAndResolvers);dt?O.canActivateChecks.push(new ir(x)):(W.data=pe.data,W._resolvedData=pe._resolvedData),Go(w,b,W.component?Ce?Ce.children:null:_,x,O),dt&&Ce&&Ce.outlet&&Ce.outlet.isActivated&&O.canDeactivateChecks.push(new wc(Ce.outlet.component,pe))}else pe&&so(b,Ce,O),O.canActivateChecks.push(new ir(x)),Go(w,null,W.component?Ce?Ce.children:null:_,x,O)})(pe,W[pe.value.outlet],_,x.concat([pe.value]),O),delete W[pe.value.outlet]}),Ye(W,(pe,Ce)=>so(pe,_.getContext(Ce),O)),O}function so(w,b,_){const x=Xs(w),O=w.value;Ye(x,(W,pe)=>{so(W,O.component?b?b.children.getContext(pe):null:b,_)}),_.canDeactivateChecks.push(new wc(O.component&&b&&b.outlet&&b.outlet.isActivated?b.outlet.component:null,O))}function na(w){return"function"==typeof w}function Ps(w){return w instanceof ne.K||"EmptyError"===w?.name}const os=Symbol("INITIAL_VALUE");function Io(){return(0,Fe.w)(w=>Ie(w.map(b=>b.pipe((0,Ke.q)(1),(0,pt.O)(os)))).pipe((0,Ve.U)(b=>{for(const _ of b)if(!0!==_){if(_===os)return os;if(!1===_||_ instanceof Qt)return _}return!0}),(0,it.h)(b=>b!==os),(0,Ke.q)(1)))}function bs(w){return(0,at.z)((0,bt.b)(b=>{if(Ni(b))throw ya(0,b)}),(0,Ve.U)(b=>!0===b))}const D={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function H(w,b,_,x,O){const W=I(w,b,_);return W.matched?function Ko(w,b,_,x){const O=b.canMatch;if(!O||0===O.length)return(0,F.of)(!0);const W=O.map(pe=>{const Ce=oo(pe,w);return ye(function Kr(w){return w&&na(w.canMatch)}(Ce)?Ce.canMatch(b,_):w.runInContext(()=>Ce(b,_)))});return(0,F.of)(W).pipe(Io(),bs())}(x=Uo(b,x),b,_).pipe((0,Ve.U)(pe=>!0===pe?W:{...D})):(0,F.of)(W)}function I(w,b,_){if(""===b.path)return"full"===b.pathMatch&&(w.hasChildren()||_.length>0)?{...D}:{matched:!0,consumedSegments:[],remainingSegments:_,parameters:{},positionalParamSegments:{}};const O=(b.matcher||jt)(_,w,b);if(!O)return{...D};const W={};Ye(O.posParams,(Ce,dt)=>{W[dt]=Ce.path});const pe=O.consumed.length>0?{...W,...O.consumed[O.consumed.length-1].parameters}:W;return{matched:!0,consumedSegments:O.consumed,remainingSegments:_.slice(O.consumed.length),parameters:pe,positionalParamSegments:O.posParams??{}}}function Q(w,b,_,x,O="corrected"){if(_.length>0&&function yt(w,b,_){return _.some(x=>dr(w,b,x)&&wi(x)!==yn)}(w,_,x)){const pe=new Mt(b,function st(w,b,_,x){const O={};O[yn]=x,x._sourceSegment=w,x._segmentIndexShift=b.length;for(const W of _)if(""===W.path&&wi(W)!==yn){const pe=new Mt([],{});pe._sourceSegment=w,pe._segmentIndexShift=b.length,O[wi(W)]=pe}return O}(w,b,x,new Mt(_,w.children)));return pe._sourceSegment=w,pe._segmentIndexShift=b.length,{segmentGroup:pe,slicedSegments:[]}}if(0===_.length&&function hn(w,b,_){return _.some(x=>dr(w,b,x))}(w,_,x)){const pe=new Mt(w.segments,function we(w,b,_,x,O,W){const pe={};for(const Ce of x)if(dr(w,_,Ce)&&!O[wi(Ce)]){const dt=new Mt([],{});dt._sourceSegment=w,dt._segmentIndexShift="legacy"===W?w.segments.length:b.length,pe[wi(Ce)]=dt}return{...O,...pe}}(w,b,_,x,w.children,O));return pe._sourceSegment=w,pe._segmentIndexShift=b.length,{segmentGroup:pe,slicedSegments:_}}const W=new Mt(w.segments,w.children);return W._sourceSegment=w,W._segmentIndexShift=b.length,{segmentGroup:W,slicedSegments:_}}function dr(w,b,_){return(!(w.hasChildren()||b.length>0)||"full"!==_.pathMatch)&&""===_.path}function Cr(w,b,_,x){return!!(wi(w)===x||x!==yn&&dr(b,_,w))&&("**"===w.path||I(b,w,_).matched)}function yr(w,b,_){return 0===b.length&&!w.children[_]}const In=!1;class Rr{constructor(b){this.segmentGroup=b||null}}class Hn{constructor(b){this.urlTree=b}}function wr(w){return Se(new Rr(w))}function qo(w){return Se(new Hn(w))}class Tr{constructor(b,_,x,O,W){this.injector=b,this.configLoader=_,this.urlSerializer=x,this.urlTree=O,this.config=W,this.allowRedirects=!0}apply(){const b=Q(this.urlTree.root,[],[],this.config).segmentGroup,_=new Mt(b.segments,b.children);return this.expandSegmentGroup(this.injector,this.config,_,yn).pipe((0,Ve.U)(W=>this.createUrlTree(cn(W),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Ct.K)(W=>{if(W instanceof Hn)return this.allowRedirects=!1,this.match(W.urlTree);throw W instanceof Rr?this.noMatchError(W):W}))}match(b){return this.expandSegmentGroup(this.injector,this.config,b.root,yn).pipe((0,Ve.U)(O=>this.createUrlTree(cn(O),b.queryParams,b.fragment))).pipe((0,Ct.K)(O=>{throw O instanceof Rr?this.noMatchError(O):O}))}noMatchError(b){return new v.vHH(4002,In)}createUrlTree(b,_,x){const O=Dr(b);return new Qt(O,_,x)}expandSegmentGroup(b,_,x,O){return 0===x.segments.length&&x.hasChildren()?this.expandChildren(b,_,x).pipe((0,Ve.U)(W=>new Mt([],W))):this.expandSegment(b,x,_,x.segments,O,!0)}expandChildren(b,_,x){const O=[];for(const W of Object.keys(x.children))"primary"===W?O.unshift(W):O.push(W);return(0,h.D)(O).pipe((0,$e.b)(W=>{const pe=x.children[W],Ce=jo(_,W);return this.expandSegmentGroup(b,Ce,pe,W).pipe((0,Ve.U)(dt=>({segment:dt,outlet:W})))}),(0,Tt.R)((W,pe)=>(W[pe.outlet]=pe.segment,W),{}),Qn())}expandSegment(b,_,x,O,W,pe){return(0,h.D)(x).pipe((0,$e.b)(Ce=>this.expandSegmentAgainstRoute(b,_,x,Ce,O,W,pe).pipe((0,Ct.K)(Kt=>{if(Kt instanceof Rr)return(0,F.of)(null);throw Kt}))),(0,Bt.P)(Ce=>!!Ce),(0,Ct.K)((Ce,dt)=>{if(Ps(Ce))return yr(_,O,W)?(0,F.of)(new Mt([],{})):wr(_);throw Ce}))}expandSegmentAgainstRoute(b,_,x,O,W,pe,Ce){return Cr(O,_,W,pe)?void 0===O.redirectTo?this.matchSegmentAgainstRoute(b,_,O,W,pe):Ce&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(b,_,x,O,W,pe):wr(_):wr(_)}expandSegmentAgainstRouteUsingRedirect(b,_,x,O,W,pe){return"**"===O.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(b,x,O,pe):this.expandRegularSegmentAgainstRouteUsingRedirect(b,_,x,O,W,pe)}expandWildCardWithParamsAgainstRouteUsingRedirect(b,_,x,O){const W=this.applyRedirectCommands([],x.redirectTo,{});return x.redirectTo.startsWith("/")?qo(W):this.lineralizeSegments(x,W).pipe((0,wt.z)(pe=>{const Ce=new Mt(pe,{});return this.expandSegment(b,Ce,_,pe,O,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(b,_,x,O,W,pe){const{matched:Ce,consumedSegments:dt,remainingSegments:Kt,positionalParamSegments:Vn}=I(_,O,W);if(!Ce)return wr(_);const rn=this.applyRedirectCommands(dt,O.redirectTo,Vn);return O.redirectTo.startsWith("/")?qo(rn):this.lineralizeSegments(O,rn).pipe((0,wt.z)(hr=>this.expandSegment(b,_,x,hr.concat(Kt),pe,!1)))}matchSegmentAgainstRoute(b,_,x,O,W){return"**"===x.path?(b=Uo(x,b),x.loadChildren?(x._loadedRoutes?(0,F.of)({routes:x._loadedRoutes,injector:x._loadedInjector}):this.configLoader.loadChildren(b,x)).pipe((0,Ve.U)(Ce=>(x._loadedRoutes=Ce.routes,x._loadedInjector=Ce.injector,new Mt(O,{})))):(0,F.of)(new Mt(O,{}))):H(_,x,O,b).pipe((0,Fe.w)(({matched:pe,consumedSegments:Ce,remainingSegments:dt})=>pe?this.getChildConfig(b=x._injector??b,x,O).pipe((0,wt.z)(Vn=>{const rn=Vn.injector??b,hr=Vn.routes,{segmentGroup:si,slicedSegments:Qi}=Q(_,Ce,dt,hr),Xi=new Mt(si.segments,si.children);if(0===Qi.length&&Xi.hasChildren())return this.expandChildren(rn,hr,Xi).pipe((0,Ve.U)(Ta=>new Mt(Ce,Ta)));if(0===hr.length&&0===Qi.length)return(0,F.of)(new Mt(Ce,{}));const Ji=wi(x)===W;return this.expandSegment(rn,Xi,hr,Qi,Ji?yn:W,!0).pipe((0,Ve.U)(Us=>new Mt(Ce.concat(Us.segments),Us.children)))})):wr(_)))}getChildConfig(b,_,x){return _.children?(0,F.of)({routes:_.children,injector:b}):_.loadChildren?void 0!==_._loadedRoutes?(0,F.of)({routes:_._loadedRoutes,injector:_._loadedInjector}):function _r(w,b,_,x){const O=b.canLoad;if(void 0===O||0===O.length)return(0,F.of)(!0);const W=O.map(pe=>{const Ce=oo(pe,w);return ye(function ku(w){return w&&na(w.canLoad)}(Ce)?Ce.canLoad(b,_):w.runInContext(()=>Ce(b,_)))});return(0,F.of)(W).pipe(Io(),bs())}(b,_,x).pipe((0,wt.z)(O=>O?this.configLoader.loadChildren(b,_).pipe((0,bt.b)(W=>{_._loadedRoutes=W.routes,_._loadedInjector=W.injector})):function ao(w){return Se(Fr(In,3))}())):(0,F.of)({routes:[],injector:b})}lineralizeSegments(b,_){let x=[],O=_.root;for(;;){if(x=x.concat(O.segments),0===O.numberOfChildren)return(0,F.of)(x);if(O.numberOfChildren>1||!O.children[yn])return Se(new v.vHH(4e3,In));O=O.children[yn]}}applyRedirectCommands(b,_,x){return this.applyRedirectCreateUrlTree(_,this.urlSerializer.parse(_),b,x)}applyRedirectCreateUrlTree(b,_,x,O){const W=this.createSegmentGroup(b,_.root,x,O);return new Qt(W,this.createQueryParams(_.queryParams,this.urlTree.queryParams),_.fragment)}createQueryParams(b,_){const x={};return Ye(b,(O,W)=>{if("string"==typeof O&&O.startsWith(":")){const Ce=O.substring(1);x[W]=_[Ce]}else x[W]=O}),x}createSegmentGroup(b,_,x,O){const W=this.createSegments(b,_.segments,x,O);let pe={};return Ye(_.children,(Ce,dt)=>{pe[dt]=this.createSegmentGroup(b,Ce,x,O)}),new Mt(W,pe)}createSegments(b,_,x,O){return _.map(W=>W.path.startsWith(":")?this.findPosParam(b,W,O):this.findOrReturn(W,x))}findPosParam(b,_,x){const O=x[_.path.substring(1)];if(!O)throw new v.vHH(4001,In);return O}findOrReturn(b,_){let x=0;for(const O of _){if(O.path===b.path)return _.splice(x),O;x++}return b}}class rl{}class cs{constructor(b,_,x,O,W,pe,Ce,dt){this.injector=b,this.rootComponentType=_,this.config=x,this.urlTree=O,this.url=W,this.paramsInheritanceStrategy=pe,this.relativeLinkResolution=Ce,this.urlSerializer=dt}recognize(){const b=Q(this.urlTree.root,[],[],this.config.filter(_=>void 0===_.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,b,yn).pipe((0,Ve.U)(_=>{if(null===_)return null;const x=new ns([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},yn,this.rootComponentType,null,this.urlTree.root,-1,{}),O=new Ri(x,_),W=new Va(this.url,O);return this.inheritParamsAndData(W._root),W}))}inheritParamsAndData(b){const _=b.value,x=zs(_,this.paramsInheritanceStrategy);_.params=Object.freeze(x.params),_.data=Object.freeze(x.data),b.children.forEach(O=>this.inheritParamsAndData(O))}processSegmentGroup(b,_,x,O){return 0===x.segments.length&&x.hasChildren()?this.processChildren(b,_,x):this.processSegment(b,_,x,x.segments,O)}processChildren(b,_,x){return(0,h.D)(Object.keys(x.children)).pipe((0,$e.b)(O=>{const W=x.children[O],pe=jo(_,O);return this.processSegmentGroup(b,pe,W,O)}),(0,Tt.R)((O,W)=>O&&W?(O.push(...W),O):null),function pr(w,b=!1){return(0,Me.e)((_,x)=>{let O=0;_.subscribe((0,J.x)(x,W=>{const pe=w(W,O++);(pe||b)&&x.next(W),!pe&&x.complete()}))})}(O=>null!==O),(0,en.d)(null),Qn(),(0,Ve.U)(O=>{if(null===O)return null;const W=wo(O);return function Ua(w){w.sort((b,_)=>b.value.outlet===yn?-1:_.value.outlet===yn?1:b.value.outlet.localeCompare(_.value.outlet))}(W),W}))}processSegment(b,_,x,O,W){return(0,h.D)(_).pipe((0,$e.b)(pe=>this.processSegmentAgainstRoute(pe._injector??b,pe,x,O,W)),(0,Bt.P)(pe=>!!pe),(0,Ct.K)(pe=>{if(Ps(pe))return yr(x,O,W)?(0,F.of)([]):(0,F.of)(null);throw pe}))}processSegmentAgainstRoute(b,_,x,O,W){if(_.redirectTo||!Cr(_,x,O,W))return(0,F.of)(null);let pe;if("**"===_.path){const Ce=O.length>0?mt(O).parameters:{},dt=Ca(x)+O.length,Kt=new ns(O,Ce,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ol(_),wi(_),_.component??_._loadedComponent??null,_,ja(x),dt,Zr(_),dt);pe=(0,F.of)({snapshot:Kt,consumedSegments:[],remainingSegments:[]})}else pe=H(x,_,O,b).pipe((0,Ve.U)(({matched:Ce,consumedSegments:dt,remainingSegments:Kt,parameters:Vn})=>{if(!Ce)return null;const rn=Ca(x)+dt.length;return{snapshot:new ns(dt,Vn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ol(_),wi(_),_.component??_._loadedComponent??null,_,ja(x),rn,Zr(_),rn),consumedSegments:dt,remainingSegments:Kt}}));return pe.pipe((0,Fe.w)(Ce=>{if(null===Ce)return(0,F.of)(null);const{snapshot:dt,consumedSegments:Kt,remainingSegments:Vn}=Ce;b=_._injector??b;const rn=_._loadedInjector??b,hr=function Ul(w){return w.children?w.children:w.loadChildren?w._loadedRoutes:[]}(_),{segmentGroup:si,slicedSegments:Qi}=Q(x,Kt,Vn,hr.filter(Ji=>void 0===Ji.redirectTo),this.relativeLinkResolution);if(0===Qi.length&&si.hasChildren())return this.processChildren(rn,hr,si).pipe((0,Ve.U)(Ji=>null===Ji?null:[new Ri(dt,Ji)]));if(0===hr.length&&0===Qi.length)return(0,F.of)([new Ri(dt,[])]);const Xi=wi(_)===W;return this.processSegment(rn,hr,si,Qi,Xi?yn:W).pipe((0,Ve.U)(Ji=>null===Ji?null:[new Ri(dt,Ji)]))}))}}function jl(w){const b=w.value.routeConfig;return b&&""===b.path&&void 0===b.redirectTo}function wo(w){const b=[],_=new Set;for(const x of w){if(!jl(x)){b.push(x);continue}const O=b.find(W=>x.value.routeConfig===W.value.routeConfig);void 0!==O?(O.children.push(...x.children),_.add(O)):b.push(x)}for(const x of _){const O=wo(x.children);b.push(new Ri(x.value,O))}return b.filter(x=>!_.has(x))}function ja(w){let b=w;for(;b._sourceSegment;)b=b._sourceSegment;return b}function Ca(w){let b=w,_=b._segmentIndexShift??0;for(;b._sourceSegment;)b=b._sourceSegment,_+=b._segmentIndexShift??0;return _-1}function ol(w){return w.data||{}}function Zr(w){return w.resolve||{}}function $r(w){return"string"==typeof w.title||null===w.title}function sl(w){return(0,Fe.w)(b=>{const _=w(b);return _?(0,h.D)(_).pipe((0,Ve.U)(()=>b)):(0,F.of)(b)})}let hi=(()=>{class w{buildTitle(_){let x,O=_.root;for(;void 0!==O;)x=this.getResolvedTitleForRoute(O)??x,O=O.children.find(W=>W.outlet===yn);return x}getResolvedTitleForRoute(_){return _.data[sr]}}return w.\u0275fac=function(_){return new(_||w)},w.\u0275prov=v.Yz7({token:w,factory:function(){return(0,v.f3M)(al)},providedIn:"root"}),w})(),al=(()=>{class w extends hi{constructor(_){super(),this.title=_}updateTitle(_){const x=this.buildTitle(_);void 0!==x&&this.title.setTitle(x)}}return w.\u0275fac=function(_){return new(_||w)(v.LFG(Nr.Dx))},w.\u0275prov=v.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();class cl{}class Cs extends class ll{shouldDetach(b){return!1}store(b,_){}shouldAttach(b){return!1}retrieve(b){return null}shouldReuseRoute(b,_){return b.routeConfig===_.routeConfig}}{}const Fs=new v.OlP("",{providedIn:"root",factory:()=>({})}),Ss=new v.OlP("ROUTES");let Ao=(()=>{class w{constructor(_,x){this.injector=_,this.compiler=x,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(_){if(this.componentLoaders.get(_))return this.componentLoaders.get(_);if(_._loadedComponent)return(0,F.of)(_._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(_);const x=ye(_.loadComponent()).pipe((0,bt.b)(W=>{this.onLoadEndListener&&this.onLoadEndListener(_),_._loadedComponent=W}),(0,vn.x)(()=>{this.componentLoaders.delete(_)})),O=new He(x,()=>new Te.x).pipe(je());return this.componentLoaders.set(_,O),O}loadChildren(_,x){if(this.childrenLoaders.get(x))return this.childrenLoaders.get(x);if(x._loadedRoutes)return(0,F.of)({routes:x._loadedRoutes,injector:x._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(x);const W=this.loadModuleFactoryOrRoutes(x.loadChildren).pipe((0,Ve.U)(Ce=>{this.onLoadEndListener&&this.onLoadEndListener(x);let dt,Kt,Vn=!1;Array.isArray(Ce)?Kt=Ce:(dt=Ce.create(_).injector,Kt=Yt(dt.get(Ss,[],v.XFs.Self|v.XFs.Optional)));return{routes:Kt.map(As),injector:dt}}),(0,vn.x)(()=>{this.childrenLoaders.delete(x)})),pe=new He(W,()=>new Te.x).pipe(je());return this.childrenLoaders.set(x,pe),pe}loadModuleFactoryOrRoutes(_){return ye(_()).pipe((0,wt.z)(x=>x instanceof v.YKP||Array.isArray(x)?(0,F.of)(x):(0,h.D)(this.compiler.compileModuleAsync(x))))}}return w.\u0275fac=function(_){return new(_||w)(v.LFG(v.zs3),v.LFG(v.Sil))},w.\u0275prov=v.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();class Ec{}class sa{shouldProcessUrl(b){return!0}extract(b){return b}merge(b,_){return b}}function Zo(w){throw w}function Gl(w,b,_){return b.parse("/")}const aa={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Wa={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Mc(){const w=(0,v.f3M)(pn),b=(0,v.f3M)(ei),_=(0,v.f3M)(Pe.Ye),x=(0,v.f3M)(v.zs3),O=(0,v.f3M)(v.Sil),W=(0,v.f3M)(Ss,{optional:!0})??[],pe=(0,v.f3M)(Fs,{optional:!0})??{},Ce=(0,v.f3M)(al),dt=(0,v.f3M)(hi,{optional:!0}),Kt=(0,v.f3M)(Ec,{optional:!0}),Vn=(0,v.f3M)(cl,{optional:!0}),rn=new fi(null,w,b,_,x,O,Yt(W));return Kt&&(rn.urlHandlingStrategy=Kt),Vn&&(rn.routeReuseStrategy=Vn),rn.titleStrategy=dt??Ce,function Rs(w,b){w.errorHandler&&(b.errorHandler=w.errorHandler),w.malformedUriErrorHandler&&(b.malformedUriErrorHandler=w.malformedUriErrorHandler),w.onSameUrlNavigation&&(b.onSameUrlNavigation=w.onSameUrlNavigation),w.paramsInheritanceStrategy&&(b.paramsInheritanceStrategy=w.paramsInheritanceStrategy),w.relativeLinkResolution&&(b.relativeLinkResolution=w.relativeLinkResolution),w.urlUpdateStrategy&&(b.urlUpdateStrategy=w.urlUpdateStrategy),w.canceledNavigationResolution&&(b.canceledNavigationResolution=w.canceledNavigationResolution)}(pe,rn),rn}let fi=(()=>{class w{constructor(_,x,O,W,pe,Ce,dt){this.rootComponentType=_,this.urlSerializer=x,this.rootContexts=O,this.location=W,this.config=dt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Te.x,this.errorHandler=Zo,this.malformedUriErrorHandler=Gl,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,F.of)(void 0),this.urlHandlingStrategy=new sa,this.routeReuseStrategy=new Cs,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=pe.get(Ao),this.configLoader.onLoadEndListener=hr=>this.triggerEvent(new Qc(hr)),this.configLoader.onLoadStartListener=hr=>this.triggerEvent(new gc(hr)),this.ngModule=pe.get(v.h0i),this.console=pe.get(v.c2e);const rn=pe.get(v.R0b);this.isNgZoneEnabled=rn instanceof v.R0b&&v.R0b.isInAngularZone(),this.resetConfig(dt),this.currentUrlTree=function ot(){return new Qt(new Mt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ui(this.currentUrlTree,this.rootComponentType),this.transitions=new oe.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(_){const x=this.events;return _.pipe((0,it.h)(O=>0!==O.id),(0,Ve.U)(O=>({...O,extractedUrl:this.urlHandlingStrategy.extract(O.rawUrl)})),(0,Fe.w)(O=>{let W=!1,pe=!1;return(0,F.of)(O).pipe((0,bt.b)(Ce=>{this.currentNavigation={id:Ce.id,initialUrl:Ce.rawUrl,extractedUrl:Ce.extractedUrl,trigger:Ce.source,extras:Ce.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Fe.w)(Ce=>{const dt=this.browserUrlTree.toString(),Kt=!this.navigated||Ce.extractedUrl.toString()!==dt||dt!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Kt)&&this.urlHandlingStrategy.shouldProcessUrl(Ce.rawUrl))return ul(Ce.source)&&(this.browserUrlTree=Ce.extractedUrl),(0,F.of)(Ce).pipe((0,Fe.w)(rn=>{const hr=this.transitions.getValue();return x.next(new Nn(rn.id,this.serializeUrl(rn.extractedUrl),rn.source,rn.restoredState)),hr!==this.transitions.getValue()?Le.E:Promise.resolve(rn)}),function qi(w,b,_,x){return(0,Fe.w)(O=>function as(w,b,_,x,O){return new Tr(w,b,_,x,O).apply()}(w,b,_,O.extractedUrl,x).pipe((0,Ve.U)(W=>({...O,urlAfterRedirects:W}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,bt.b)(rn=>{this.currentNavigation={...this.currentNavigation,finalUrl:rn.urlAfterRedirects},O.urlAfterRedirects=rn.urlAfterRedirects}),function $l(w,b,_,x,O,W){return(0,wt.z)(pe=>function ia(w,b,_,x,O,W,pe="emptyOnly",Ce="legacy"){return new cs(w,b,_,x,O,pe,Ce,W).recognize().pipe((0,Fe.w)(dt=>null===dt?function qr(w){return new he.y(b=>b.error(w))}(new rl):(0,F.of)(dt)))}(w,b,_,pe.urlAfterRedirects,x.serialize(pe.urlAfterRedirects),x,O,W).pipe((0,Ve.U)(Ce=>({...pe,targetSnapshot:Ce}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,bt.b)(rn=>{if(O.targetSnapshot=rn.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!rn.extras.skipLocationChange){const si=this.urlHandlingStrategy.merge(rn.urlAfterRedirects,rn.rawUrl);this.setBrowserUrl(si,rn)}this.browserUrlTree=rn.urlAfterRedirects}const hr=new Jr(rn.id,this.serializeUrl(rn.extractedUrl),this.serializeUrl(rn.urlAfterRedirects),rn.targetSnapshot);x.next(hr)}));if(Kt&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:hr,extractedUrl:si,source:Qi,restoredState:Xi,extras:Ji}=Ce,Xo=new Nn(hr,this.serializeUrl(si),Qi,Xi);x.next(Xo);const Us=ui(si,this.rootComponentType).snapshot;return O={...Ce,targetSnapshot:Us,urlAfterRedirects:si,extras:{...Ji,skipLocationChange:!1,replaceUrl:!1}},(0,F.of)(O)}return this.rawUrlTree=Ce.rawUrl,Ce.resolve(null),Le.E}),(0,bt.b)(Ce=>{const dt=new jr(Ce.id,this.serializeUrl(Ce.extractedUrl),this.serializeUrl(Ce.urlAfterRedirects),Ce.targetSnapshot);this.triggerEvent(dt)}),(0,Ve.U)(Ce=>O={...Ce,guards:ta(Ce.targetSnapshot,Ce.currentSnapshot,this.rootContexts)}),function ss(w,b){return(0,wt.z)(_=>{const{targetSnapshot:x,currentSnapshot:O,guards:{canActivateChecks:W,canDeactivateChecks:pe}}=_;return 0===pe.length&&0===W.length?(0,F.of)({..._,guardsResult:!0}):function Ci(w,b,_,x){return(0,h.D)(w).pipe((0,wt.z)(O=>function Ki(w,b,_,x,O){const W=b&&b.routeConfig?b.routeConfig.canDeactivate:null;if(!W||0===W.length)return(0,F.of)(!0);const pe=W.map(Ce=>{const dt=$o(b)??O,Kt=oo(Ce,dt);return ye(function bi(w){return w&&na(w.canDeactivate)}(Kt)?Kt.canDeactivate(w,b,_,x):dt.runInContext(()=>Kt(w,b,_,x))).pipe((0,Bt.P)())});return(0,F.of)(pe).pipe(Io())}(O.component,O.route,_,b,x)),(0,Bt.P)(O=>!0!==O,!0))}(pe,x,O,w).pipe((0,wt.z)(Ce=>Ce&&function wa(w){return"boolean"==typeof w}(Ce)?function bc(w,b,_,x){return(0,h.D)(b).pipe((0,$e.b)(O=>(0,be.z)(function _t(w,b){return null!==w&&b&&b(new ms(w)),(0,F.of)(!0)}(O.route.parent,x),function ra(w,b){return null!==w&&b&&b(new vc(w)),(0,F.of)(!0)}(O.route,x),function Os(w,b,_){const x=b[b.length-1],W=b.slice(0,b.length-1).reverse().map(pe=>function oi(w){const b=w.routeConfig?w.routeConfig.canActivateChild:null;return b&&0!==b.length?{node:w,guards:b}:null}(pe)).filter(pe=>null!==pe).map(pe=>ft(()=>{const Ce=pe.guards.map(dt=>{const Kt=$o(pe.node)??_,Vn=oo(dt,Kt);return ye(function ri(w){return w&&na(w.canActivateChild)}(Vn)?Vn.canActivateChild(x,w):Kt.runInContext(()=>Vn(x,w))).pipe((0,Bt.P)())});return(0,F.of)(Ce).pipe(Io())}));return(0,F.of)(W).pipe(Io())}(w,O.path,_),function vo(w,b,_){const x=b.routeConfig?b.routeConfig.canActivate:null;if(!x||0===x.length)return(0,F.of)(!0);const O=x.map(W=>ft(()=>{const pe=$o(b)??_,Ce=oo(W,pe);return ye(function ks(w){return w&&na(w.canActivate)}(Ce)?Ce.canActivate(b,w):pe.runInContext(()=>Ce(b,w))).pipe((0,Bt.P)())}));return(0,F.of)(O).pipe(Io())}(w,O.route,_))),(0,Bt.P)(O=>!0!==O,!0))}(x,W,w,b):(0,F.of)(Ce)),(0,Ve.U)(Ce=>({..._,guardsResult:Ce})))})}(this.ngModule.injector,Ce=>this.triggerEvent(Ce)),(0,bt.b)(Ce=>{if(O.guardsResult=Ce.guardsResult,Ni(Ce.guardsResult))throw ya(0,Ce.guardsResult);const dt=new mc(Ce.id,this.serializeUrl(Ce.extractedUrl),this.serializeUrl(Ce.urlAfterRedirects),Ce.targetSnapshot,!!Ce.guardsResult);this.triggerEvent(dt)}),(0,it.h)(Ce=>!!Ce.guardsResult||(this.restoreHistory(Ce),this.cancelNavigationTransition(Ce,"",3),!1)),sl(Ce=>{if(Ce.guards.canActivateChecks.length)return(0,F.of)(Ce).pipe((0,bt.b)(dt=>{const Kt=new Bo(dt.id,this.serializeUrl(dt.extractedUrl),this.serializeUrl(dt.urlAfterRedirects),dt.targetSnapshot);this.triggerEvent(Kt)}),(0,Fe.w)(dt=>{let Kt=!1;return(0,F.of)(dt).pipe(function ls(w,b){return(0,wt.z)(_=>{const{targetSnapshot:x,guards:{canActivateChecks:O}}=_;if(!O.length)return(0,F.of)(_);let W=0;return(0,h.D)(O).pipe((0,$e.b)(pe=>function $a(w,b,_,x){const O=w.routeConfig,W=w._resolve;return void 0!==O?.title&&!$r(O)&&(W[sr]=O.title),function Ga(w,b,_,x){const O=function Cc(w){return[...Object.keys(w),...Object.getOwnPropertySymbols(w)]}(w);if(0===O.length)return(0,F.of)({});const W={};return(0,h.D)(O).pipe((0,wt.z)(pe=>function Sc(w,b,_,x){const O=$o(b)??x,W=oo(w,O);return ye(W.resolve?W.resolve(b,_):O.runInContext(()=>W(b,_)))}(w[pe],b,_,x).pipe((0,Bt.P)(),(0,bt.b)(Ce=>{W[pe]=Ce}))),sn(1),(0,kn.h)(W),(0,Ct.K)(pe=>Ps(pe)?Le.E:Se(pe)))}(W,w,b,x).pipe((0,Ve.U)(pe=>(w._resolvedData=pe,w.data=zs(w,_).resolve,O&&$r(O)&&(w.data[sr]=O.title),null)))}(pe.route,x,w,b)),(0,bt.b)(()=>W++),sn(1),(0,wt.z)(pe=>W===O.length?(0,F.of)(_):Le.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,bt.b)({next:()=>Kt=!0,complete:()=>{Kt||(this.restoreHistory(dt),this.cancelNavigationTransition(dt,"",2))}}))}),(0,bt.b)(dt=>{const Kt=new Zc(dt.id,this.serializeUrl(dt.extractedUrl),this.serializeUrl(dt.urlAfterRedirects),dt.targetSnapshot);this.triggerEvent(Kt)}))}),sl(Ce=>{const dt=Kt=>{const Vn=[];Kt.routeConfig?.loadComponent&&!Kt.routeConfig._loadedComponent&&Vn.push(this.configLoader.loadComponent(Kt.routeConfig).pipe((0,bt.b)(rn=>{Kt.component=rn}),(0,Ve.U)(()=>{})));for(const rn of Kt.children)Vn.push(...dt(rn));return Vn};return Ie(dt(Ce.targetSnapshot.root)).pipe((0,en.d)(),(0,Ke.q)(1))}),sl(()=>this.afterPreactivation()),(0,Ve.U)(Ce=>{const dt=function $i(w,b,_){const x=ro(w,b._root,_?_._root:void 0);return new vs(x,b)}(this.routeReuseStrategy,Ce.targetSnapshot,Ce.currentRouterState);return O={...Ce,targetRouterState:dt}}),(0,bt.b)(Ce=>{this.currentUrlTree=Ce.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Ce.urlAfterRedirects,Ce.rawUrl),this.routerState=Ce.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Ce.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Ce),this.browserUrlTree=Ce.urlAfterRedirects)}),((w,b,_)=>(0,Ve.U)(x=>(new kt(b,x.targetRouterState,x.currentRouterState,_).activate(w),x)))(this.rootContexts,this.routeReuseStrategy,Ce=>this.triggerEvent(Ce)),(0,bt.b)({next(){W=!0},complete(){W=!0}}),(0,vn.x)(()=>{W||pe||this.cancelNavigationTransition(O,"",1),this.currentNavigation?.id===O.id&&(this.currentNavigation=null)}),(0,Ct.K)(Ce=>{if(pe=!0,tl(Ce)){Ha(Ce)||(this.navigated=!0,this.restoreHistory(O,!0));const dt=new li(O.id,this.serializeUrl(O.extractedUrl),Ce.message,Ce.cancellationCode);if(x.next(dt),Ha(Ce)){const Kt=this.urlHandlingStrategy.merge(Ce.url,this.rawUrlTree),Vn={skipLocationChange:O.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ul(O.source)};this.scheduleNavigation(Kt,"imperative",null,Vn,{resolve:O.resolve,reject:O.reject,promise:O.promise})}else O.resolve(!1)}else{this.restoreHistory(O,!0);const dt=new Wr(O.id,this.serializeUrl(O.extractedUrl),Ce,O.targetSnapshot??void 0);x.next(dt);try{O.resolve(this.errorHandler(Ce))}catch(Kt){O.reject(Kt)}}return Le.E}))}))}resetRootComponentType(_){this.rootComponentType=_,this.routerState.root.component=this.rootComponentType}setTransition(_){this.transitions.next({...this.transitions.value,..._})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(_=>{const x="popstate"===_.type?"popstate":"hashchange";"popstate"===x&&setTimeout(()=>{const O={replaceUrl:!0},W=_.state?.navigationId?_.state:null;if(W){const Ce={...W};delete Ce.navigationId,delete Ce.\u0275routerPageId,0!==Object.keys(Ce).length&&(O.state=Ce)}const pe=this.parseUrl(_.url);this.scheduleNavigation(pe,x,W,O)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(_){this.events.next(_)}resetConfig(_){this.config=_.map(As),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(_,x={}){const{relativeTo:O,queryParams:W,fragment:pe,queryParamsHandling:Ce,preserveFragment:dt}=x,Kt=O||this.routerState.root,Vn=dt?this.currentUrlTree.fragment:pe;let rn=null;switch(Ce){case"merge":rn={...this.currentUrlTree.queryParams,...W};break;case"preserve":rn=this.currentUrlTree.queryParams;break;default:rn=W||null}return null!==rn&&(rn=this.removeEmptyProps(rn)),_i(Kt,this.currentUrlTree,_,rn,Vn??null)}navigateByUrl(_,x={skipLocationChange:!1}){const O=Ni(_)?_:this.parseUrl(_),W=this.urlHandlingStrategy.merge(O,this.rawUrlTree);return this.scheduleNavigation(W,"imperative",null,x)}navigate(_,x={skipLocationChange:!1}){return function Ls(w){for(let b=0;b<w.length;b++){if(null==w[b])throw new v.vHH(4008,false)}}(_),this.navigateByUrl(this.createUrlTree(_,x),x)}serializeUrl(_){return this.urlSerializer.serialize(_)}parseUrl(_){let x;try{x=this.urlSerializer.parse(_)}catch(O){x=this.malformedUriErrorHandler(O,this.urlSerializer,_)}return x}isActive(_,x){let O;if(O=!0===x?{...aa}:!1===x?{...Wa}:x,Ni(_))return bn(this.currentUrlTree,_,O);const W=this.parseUrl(_);return bn(this.currentUrlTree,W,O)}removeEmptyProps(_){return Object.keys(_).reduce((x,O)=>{const W=_[O];return null!=W&&(x[O]=W),x},{})}processNavigations(){this.navigations.subscribe(_=>{this.navigated=!0,this.lastSuccessfulId=_.id,this.currentPageId=_.targetPageId,this.events.next(new ur(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),_.resolve(!0)},_=>{this.console.warn(`Unhandled Navigation Error: ${_}`)})}scheduleNavigation(_,x,O,W,pe){if(this.disposed)return Promise.resolve(!1);let Ce,dt,Kt;pe?(Ce=pe.resolve,dt=pe.reject,Kt=pe.promise):Kt=new Promise((hr,si)=>{Ce=hr,dt=si});const Vn=++this.navigationId;let rn;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(O=this.location.getState()),rn=O&&O.\u0275routerPageId?O.\u0275routerPageId:W.replaceUrl||W.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):rn=0,this.setTransition({id:Vn,targetPageId:rn,source:x,restoredState:O,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:_,extras:W,resolve:Ce,reject:dt,promise:Kt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Kt.catch(hr=>Promise.reject(hr))}setBrowserUrl(_,x){const O=this.urlSerializer.serialize(_),W={...x.extras.state,...this.generateNgRouterState(x.id,x.targetPageId)};this.location.isCurrentPathEqualTo(O)||x.extras.replaceUrl?this.location.replaceState(O,"",W):this.location.go(O,"",W)}restoreHistory(_,x=!1){if("computed"===this.canceledNavigationResolution){const O=this.currentPageId-_.targetPageId;"popstate"!==_.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===O?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===O&&(this.resetState(_),this.browserUrlTree=_.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(O)}else"replace"===this.canceledNavigationResolution&&(x&&this.resetState(_),this.resetUrlToCurrentUrlTree())}resetState(_){this.routerState=_.currentRouterState,this.currentUrlTree=_.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,_.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(_,x,O){const W=new li(_.id,this.serializeUrl(_.extractedUrl),x,O);this.triggerEvent(W),_.resolve(!1)}generateNgRouterState(_,x){return"computed"===this.canceledNavigationResolution?{navigationId:_,\u0275routerPageId:x}:{navigationId:_}}}return w.\u0275fac=function(_){v.$Z()},w.\u0275prov=v.Yz7({token:w,factory:function(){return Mc()},providedIn:"root"}),w})();function ul(w){return"imperative"!==w}class Yr{}let la=(()=>{class w{constructor(_,x,O,W,pe){this.router=_,this.injector=O,this.preloadingStrategy=W,this.loader=pe}setUpPreloading(){this.subscription=this.router.events.pipe((0,it.h)(_=>_ instanceof ur),(0,$e.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(_,x){const O=[];for(const W of x){W.providers&&!W._injector&&(W._injector=(0,v.MMx)(W.providers,_,`Route: ${W.path}`));const pe=W._injector??_,Ce=W._loadedInjector??pe;W.loadChildren&&!W._loadedRoutes&&void 0===W.canLoad||W.loadComponent&&!W._loadedComponent?O.push(this.preloadConfig(pe,W)):(W.children||W._loadedRoutes)&&O.push(this.processRoutes(Ce,W.children??W._loadedRoutes))}return(0,h.D)(O).pipe((0,mr.J)())}preloadConfig(_,x){return this.preloadingStrategy.preload(x,()=>{let O;O=x.loadChildren&&void 0===x.canLoad?this.loader.loadChildren(_,x):(0,F.of)(null);const W=O.pipe((0,wt.z)(pe=>null===pe?(0,F.of)(void 0):(x._loadedRoutes=pe.routes,x._loadedInjector=pe.injector,this.processRoutes(pe.injector??_,pe.routes))));if(x.loadComponent&&!x._loadedComponent){const pe=this.loader.loadComponent(x);return(0,h.D)([W,pe]).pipe((0,mr.J)())}return W})}}return w.\u0275fac=function(_){return new(_||w)(v.LFG(fi),v.LFG(v.Sil),v.LFG(v.lqb),v.LFG(Yr),v.LFG(Ao))},w.\u0275prov=v.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();const bo=new v.OlP("");let qa=(()=>{class w{constructor(_,x,O={}){this.router=_,this.viewportScroller=x,this.options=O,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},O.scrollPositionRestoration=O.scrollPositionRestoration||"disabled",O.anchorScrolling=O.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(_=>{_ instanceof Nn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=_.navigationTrigger,this.restoredId=_.restoredState?_.restoredState.navigationId:0):_ instanceof ur&&(this.lastId=_.id,this.scheduleScrollEvent(_,this.router.parseUrl(_.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(_=>{_ instanceof Jc&&(_.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(_.position):_.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(_.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(_,x){this.router.triggerEvent(new Jc(_,"popstate"===this.lastSource?this.store[this.restoredId]:null,x))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return w.\u0275fac=function(_){v.$Z()},w.\u0275prov=v.Yz7({token:w,factory:w.\u0275fac}),w})();function Sa(w,b){return{\u0275kind:w,\u0275providers:b}}function Wl(w){return[{provide:Ss,multi:!0,useValue:w}]}function Tc(){const w=(0,v.f3M)(v.zs3);return b=>{const _=w.get(v.z2F);if(b!==_.components[0])return;const x=w.get(fi),O=w.get(M1);1===w.get(Qo)&&x.initialNavigation(),w.get(Ea,null,v.XFs.Optional)?.setUpPreloading(),w.get(bo,null,v.XFs.Optional)?.init(),x.resetRootComponentType(_.componentTypes[0]),O.next(),O.complete()}}const M1=new v.OlP("",{factory:()=>new Te.x}),Qo=new v.OlP("",{providedIn:"root",factory:()=>1});const Ea=new v.OlP("");function Bs(w){return Sa(0,[{provide:Ea,useExisting:la},{provide:Yr,useExisting:w}])}const Co=new v.OlP("ROUTER_FORROOT_GUARD"),xc=[Pe.Ye,{provide:pn,useClass:Pn},{provide:fi,useFactory:Mc},ei,{provide:Li,useFactory:function Dc(w){return w.routerState.root},deps:[fi]},Ao];function ua(){return new v.PXZ("Router",fi)}let ko=(()=>{class w{constructor(_){}static forRoot(_,x){return{ngModule:w,providers:[xc,[],Wl(_),{provide:Co,useFactory:Ys,deps:[[fi,new v.FiY,new v.tp0]]},{provide:Fs,useValue:x||{}},x?.useHash?{provide:Pe.S$,useClass:Pe.Do}:{provide:Pe.S$,useClass:Pe.b0},{provide:bo,useFactory:()=>{const w=(0,v.f3M)(fi),b=(0,v.f3M)(Pe.EM),_=(0,v.f3M)(Fs);return _.scrollOffset&&b.setOffset(_.scrollOffset),new qa(w,b,_)}},x?.preloadingStrategy?Bs(x.preloadingStrategy).\u0275providers:[],{provide:v.PXZ,multi:!0,useFactory:ua},x?.initialNavigation?Da(x):[],[{provide:Ic,useFactory:Tc},{provide:v.tb,multi:!0,useExisting:Ic}]]}}static forChild(_){return{ngModule:w,providers:[Wl(_)]}}}return w.\u0275fac=function(_){return new(_||w)(v.LFG(Co,8))},w.\u0275mod=v.oAB({type:w}),w.\u0275inj=v.cJS({imports:[_s]}),w})();function Ys(w){return"guarded"}function Da(w){return["disabled"===w.initialNavigation?Sa(3,[{provide:v.ip1,multi:!0,useFactory:()=>{const b=(0,v.f3M)(fi);return()=>{b.setUpLocationChangeListener()}}},{provide:Qo,useValue:2}]).\u0275providers:[],"enabledBlocking"===w.initialNavigation?Sa(2,[{provide:Qo,useValue:0},{provide:v.ip1,multi:!0,deps:[v.zs3],useFactory:b=>{const _=b.get(Pe.V_,Promise.resolve());let x=!1;return()=>_.then(()=>new Promise(W=>{const pe=b.get(fi),Ce=b.get(M1);(function O(W){b.get(fi).events.pipe((0,it.h)(Ce=>Ce instanceof ur||Ce instanceof li||Ce instanceof Wr),(0,Ve.U)(Ce=>Ce instanceof ur||Ce instanceof li&&(0===Ce.code||1===Ce.code)&&null),(0,it.h)(Ce=>null!==Ce),(0,Ke.q)(1)).subscribe(()=>{W()})})(()=>{W(!0),x=!0}),pe.afterPreactivation=()=>(W(!0),x||Ce.closed?(0,F.of)(void 0):Ce),pe.initialNavigation()}))}}]).\u0275providers:[]]}const Ic=new v.OlP("")},3942:(Pt,ke,T)=>{T.d(ke,{Z:()=>ie});var v=T(2090),h=T(4859),F=T(9681),oe=T(1877);class ne{constructor(be,ze){this._delegate=be,this.firebase=ze,(0,F._addComponent)(be,new h.wA("app-compat",()=>this,"PUBLIC")),this.container=be.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(be){this._delegate.automaticDataCollectionEnabled=be}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(be=>{this._delegate.checkDestroyed(),be()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,F.deleteApp)(this._delegate)))}_getService(be,ze=F._DEFAULT_ENTRY_NAME){var ft;this._delegate.checkDestroyed();const at=this._delegate.container.getProvider(be);return!at.isInitialized()&&"EXPLICIT"===(null===(ft=at.getComponent())||void 0===ft?void 0:ft.instantiationMode)&&at.initialize(),at.getImmediate({identifier:ze})}_removeServiceInstance(be,ze=F._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(be).clearInstance(ze)}_addComponent(be){(0,F._addComponent)(this._delegate,be)}_addOrOverwriteComponent(be){(0,F._addOrOverwriteComponent)(this._delegate,be)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ee=new v.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Y=function q(){const Ue=function V(Ue){const be={},ze={__esModule:!0,initializeApp:function ct(Me,je={}){const He=F.initializeApp(Me,je);if((0,v.r3)(be,He.name))return be[He.name];const Te=new Ue(He,ze);return be[He.name]=Te,Te},app:at,registerVersion:F.registerVersion,setLogLevel:F.setLogLevel,onLog:F.onLog,apps:null,SDK_VERSION:F.SDK_VERSION,INTERNAL:{registerComponent:function Le(Me){const je=Me.name,He=je.replace("-compat","");if(F._registerComponent(Me)&&"PUBLIC"===Me.type){const Te=(Pe=at())=>{if("function"!=typeof Pe[He])throw ee.create("invalid-app-argument",{appName:je});return Pe[He]()};void 0!==Me.serviceProps&&(0,v.ZB)(Te,Me.serviceProps),ze[He]=Te,Ue.prototype[He]=function(...Pe){return this._getService.bind(this,je).apply(this,Me.multipleInstances?Pe:[])}}return"PUBLIC"===Me.type?ze[He]:null},removeApp:function ft(Me){delete be[Me]},useAsService:function ht(Me,je){return"serverAuth"===je?null:je},modularAPIs:F}};function at(Me){if(!(0,v.r3)(be,Me=Me||F._DEFAULT_ENTRY_NAME))throw ee.create("no-app",{appName:Me});return be[Me]}return ze.default=ze,Object.defineProperty(ze,"apps",{get:function Se(){return Object.keys(be).map(Me=>be[Me])}}),at.App=Ue,ze}(ne);return Ue.INTERNAL=Object.assign(Object.assign({},Ue.INTERNAL),{createFirebaseNamespace:q,extendNamespace:function be(ze){(0,v.ZB)(Ue,ze)},createSubscribe:v.ne,ErrorFactory:v.LL,deepExtend:v.ZB}),Ue}(),K=new oe.Yd("@firebase/app-compat");if((0,v.jU)()&&void 0!==self.firebase){K.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ue=self.firebase.SDK_VERSION;Ue&&Ue.indexOf("LITE")>=0&&K.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ie=Y;!function Ie(Ue){(0,F.registerVersion)("@firebase/app-compat","0.1.38",Ue)}()},9681:(Pt,ke,T)=>{T.r(ke),T.d(ke,{FirebaseError:()=>oe.ZR,SDK_VERSION:()=>Nr,_DEFAULT_ENTRY_NAME:()=>Bt,_addComponent:()=>Tt,_addOrOverwriteComponent:()=>sn,_apps:()=>bt,_clearComponents:()=>pr,_components:()=>Ct,_getProvider:()=>en,_registerComponent:()=>gn,_removeServiceInstance:()=>Qn,deleteApp:()=>gr,getApp:()=>sr,getApps:()=>Vr,initializeApp:()=>yn,onLog:()=>tr,registerVersion:()=>br,setLogLevel:()=>Lt});var v=T(5861),h=T(4859),F=T(1877),oe=T(2090),ne=T(8766);class he{constructor(vt){this.container=vt}getPlatformInfoString(){return this.container.getProviders().map(Ot=>{if(function ee(At){return"VERSION"===At.getComponent()?.type}(Ot)){const _n=Ot.getImmediate();return`${_n.library}/${_n.version}`}return null}).filter(Ot=>Ot).join(" ")}}const V="@firebase/app",q="0.8.3",Y=new F.Yd("@firebase/app"),Bt="[DEFAULT]",$e={[V]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},bt=new Map,Ct=new Map;function Tt(At,vt){try{At.container.addComponent(vt)}catch(Ot){Y.debug(`Component ${vt.name} failed to register with FirebaseApp ${At.name}`,Ot)}}function sn(At,vt){At.container.addOrOverwriteComponent(vt)}function gn(At){const vt=At.name;if(Ct.has(vt))return Y.debug(`There were multiple attempts to register component ${vt}.`),!1;Ct.set(vt,At);for(const Ot of bt.values())Tt(Ot,At);return!0}function en(At,vt){const Ot=At.container.getProvider("heartbeat").getImmediate({optional:!0});return Ot&&Ot.triggerHeartbeat(),At.container.getProvider(vt)}function Qn(At,vt,Ot=Bt){en(At,vt).clearInstance(Ot)}function pr(){Ct.clear()}const vn=new oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class mr{constructor(vt,Ot,_n){this._isDeleted=!1,this._options=Object.assign({},vt),this._config=Object.assign({},Ot),this._name=Ot.name,this._automaticDataCollectionEnabled=Ot.automaticDataCollectionEnabled,this._container=_n,this.container.addComponent(new h.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(vt){this.checkDestroyed(),this._automaticDataCollectionEnabled=vt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(vt){this._isDeleted=vt}checkDestroyed(){if(this.isDeleted)throw vn.create("app-deleted",{appName:this._name})}}const Nr="9.13.0";function yn(At,vt={}){let Ot=At;"object"!=typeof vt&&(vt={name:vt});const _n=Object.assign({name:Bt,automaticDataCollectionEnabled:!1},vt),pn=_n.name;if("string"!=typeof pn||!pn)throw vn.create("bad-app-name",{appName:String(pn)});if(Ot||(Ot=(0,oe.aH)()),!Ot)throw vn.create("no-options");const Pn=bt.get(pn);if(Pn){if((0,oe.vZ)(Ot,Pn.options)&&(0,oe.vZ)(_n,Pn.config))return Pn;throw vn.create("duplicate-app",{appName:pn})}const Ee=new h.H0(pn);for(const Ae of Ct.values())Ee.addComponent(Ae);const ve=new mr(Ot,_n,Ee);return bt.set(pn,ve),ve}function sr(At=Bt){const vt=bt.get(At);if(!vt&&At===Bt)return yn();if(!vt)throw vn.create("no-app",{appName:At});return vt}function Vr(){return Array.from(bt.values())}function gr(At){return jt.apply(this,arguments)}function jt(){return(jt=(0,v.Z)(function*(At){const vt=At.name;bt.has(vt)&&(bt.delete(vt),yield Promise.all(At.container.getProviders().map(Ot=>Ot.delete())),At.isDeleted=!0)})).apply(this,arguments)}function br(At,vt,Ot){var _n;let pn=null!==(_n=$e[At])&&void 0!==_n?_n:At;Ot&&(pn+=`-${Ot}`);const Pn=pn.match(/\s|\//),Ee=vt.match(/\s|\//);if(Pn||Ee){const ve=[`Unable to register library "${pn}" with version "${vt}":`];return Pn&&ve.push(`library name "${pn}" contains illegal characters (whitespace or "/")`),Pn&&Ee&&ve.push("and"),Ee&&ve.push(`version name "${vt}" contains illegal characters (whitespace or "/")`),void Y.warn(ve.join(" "))}gn(new h.wA(`${pn}-version`,()=>({library:pn,version:vt}),"VERSION"))}function tr(At,vt){if(null!==At&&"function"!=typeof At)throw vn.create("invalid-log-argument");(0,F.Am)(At,vt)}function Lt(At){(0,F.Ub)(At)}const Xt="firebase-heartbeat-store";let Ye=null;function ye(){return Ye||(Ye=(0,ne.X3)("firebase-heartbeat-database",1,{upgrade:(At,vt)=>{0===vt&&At.createObjectStore(Xt)}}).catch(At=>{throw vn.create("idb-open",{originalErrorMessage:At.message})})),Ye}function ot(){return(ot=(0,v.Z)(function*(At){var vt;try{return(yield ye()).transaction(Xt).objectStore(Xt).get(bn(At))}catch(Ot){if(Ot instanceof oe.ZR)Y.warn(Ot.message);else{const _n=vn.create("idb-get",{originalErrorMessage:null===(vt=Ot)||void 0===vt?void 0:vt.message});Y.warn(_n.message)}}})).apply(this,arguments)}function rt(At,vt){return an.apply(this,arguments)}function an(){return(an=(0,v.Z)(function*(At,vt){var Ot;try{const pn=(yield ye()).transaction(Xt,"readwrite");return yield pn.objectStore(Xt).put(vt,bn(At)),pn.done}catch(_n){if(_n instanceof oe.ZR)Y.warn(_n.message);else{const pn=vn.create("idb-set",{originalErrorMessage:null===(Ot=_n)||void 0===Ot?void 0:Ot.message});Y.warn(pn.message)}}})).apply(this,arguments)}function bn(At){return`${At.name}!${At.options.appId}`}class Oe{constructor(vt){this.container=vt,this._heartbeatsCache=null;const Ot=this.container.getProvider("app").getImmediate();this._storage=new St(Ot),this._heartbeatsCachePromise=this._storage.read().then(_n=>(this._heartbeatsCache=_n,_n))}triggerHeartbeat(){var vt=this;return(0,v.Z)(function*(){const _n=vt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),pn=et();if(null===vt._heartbeatsCache&&(vt._heartbeatsCache=yield vt._heartbeatsCachePromise),vt._heartbeatsCache.lastSentHeartbeatDate!==pn&&!vt._heartbeatsCache.heartbeats.some(Pn=>Pn.date===pn))return vt._heartbeatsCache.heartbeats.push({date:pn,agent:_n}),vt._heartbeatsCache.heartbeats=vt._heartbeatsCache.heartbeats.filter(Pn=>{const Ee=new Date(Pn.date).valueOf();return Date.now()-Ee<=2592e6}),vt._storage.overwrite(vt._heartbeatsCache)})()}getHeartbeatsHeader(){var vt=this;return(0,v.Z)(function*(){if(null===vt._heartbeatsCache&&(yield vt._heartbeatsCachePromise),null===vt._heartbeatsCache||0===vt._heartbeatsCache.heartbeats.length)return"";const Ot=et(),{heartbeatsToSend:_n,unsentEntries:pn}=function Nt(At,vt=1024){const Ot=[];let _n=At.slice();for(const pn of At){const Pn=Ot.find(Ee=>Ee.agent===pn.agent);if(Pn){if(Pn.dates.push(pn.date),Qt(Ot)>vt){Pn.dates.pop();break}}else if(Ot.push({agent:pn.agent,dates:[pn.date]}),Qt(Ot)>vt){Ot.pop();break}_n=_n.slice(1)}return{heartbeatsToSend:Ot,unsentEntries:_n}}(vt._heartbeatsCache.heartbeats),Pn=(0,oe.L)(JSON.stringify({version:2,heartbeats:_n}));return vt._heartbeatsCache.lastSentHeartbeatDate=Ot,pn.length>0?(vt._heartbeatsCache.heartbeats=pn,yield vt._storage.overwrite(vt._heartbeatsCache)):(vt._heartbeatsCache.heartbeats=[],vt._storage.overwrite(vt._heartbeatsCache)),Pn})()}}function et(){return(new Date).toISOString().substring(0,10)}class St{constructor(vt){this.app=vt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,v.Z)(function*(){return!!(0,oe.hl)()&&(0,oe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var vt=this;return(0,v.Z)(function*(){return(yield vt._canUseIndexedDBPromise)&&(yield function me(At){return ot.apply(this,arguments)}(vt.app))||{heartbeats:[]}})()}overwrite(vt){var Ot=this;return(0,v.Z)(function*(){var _n;if(yield Ot._canUseIndexedDBPromise){const Pn=yield Ot.read();return rt(Ot.app,{lastSentHeartbeatDate:null!==(_n=vt.lastSentHeartbeatDate)&&void 0!==_n?_n:Pn.lastSentHeartbeatDate,heartbeats:vt.heartbeats})}})()}add(vt){var Ot=this;return(0,v.Z)(function*(){var _n;if(yield Ot._canUseIndexedDBPromise){const Pn=yield Ot.read();return rt(Ot.app,{lastSentHeartbeatDate:null!==(_n=vt.lastSentHeartbeatDate)&&void 0!==_n?_n:Pn.lastSentHeartbeatDate,heartbeats:[...Pn.heartbeats,...vt.heartbeats]})}})()}}function Qt(At){return(0,oe.L)(JSON.stringify({version:2,heartbeats:At})).length}!function Mt(At){gn(new h.wA("platform-logger",vt=>new he(vt),"PRIVATE")),gn(new h.wA("heartbeat",vt=>new Oe(vt),"PRIVATE")),br(V,q,At),br(V,q,"esm2017"),br("fire-js","")}("")},4859:(Pt,ke,T)=>{T.d(ke,{H0:()=>V,wA:()=>F});var v=T(5861),h=T(2090);class F{constructor(Y,K,J){this.name=Y,this.instanceFactory=K,this.type=J,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Y){return this.instantiationMode=Y,this}setMultipleInstances(Y){return this.multipleInstances=Y,this}setServiceProps(Y){return this.serviceProps=Y,this}setInstanceCreatedCallback(Y){return this.onInstanceCreated=Y,this}}const oe="[DEFAULT]";class ne{constructor(Y,K){this.name=Y,this.container=K,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Y){const K=this.normalizeInstanceIdentifier(Y);if(!this.instancesDeferred.has(K)){const J=new h.BH;if(this.instancesDeferred.set(K,J),this.isInitialized(K)||this.shouldAutoInitialize())try{const _e=this.getOrInitializeService({instanceIdentifier:K});_e&&J.resolve(_e)}catch{}}return this.instancesDeferred.get(K).promise}getImmediate(Y){var K;const J=this.normalizeInstanceIdentifier(Y?.identifier),_e=null!==(K=Y?.optional)&&void 0!==K&&K;if(!this.isInitialized(J)&&!this.shouldAutoInitialize()){if(_e)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:J})}catch(Ie){if(_e)return null;throw Ie}}getComponent(){return this.component}setComponent(Y){if(Y.name!==this.name)throw Error(`Mismatching Component ${Y.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Y,this.shouldAutoInitialize()){if(function ee(q){return"EAGER"===q.instantiationMode}(Y))try{this.getOrInitializeService({instanceIdentifier:oe})}catch{}for(const[K,J]of this.instancesDeferred.entries()){const _e=this.normalizeInstanceIdentifier(K);try{const Ie=this.getOrInitializeService({instanceIdentifier:_e});J.resolve(Ie)}catch{}}}}clearInstance(Y=oe){this.instancesDeferred.delete(Y),this.instancesOptions.delete(Y),this.instances.delete(Y)}delete(){var Y=this;return(0,v.Z)(function*(){const K=Array.from(Y.instances.values());yield Promise.all([...K.filter(J=>"INTERNAL"in J).map(J=>J.INTERNAL.delete()),...K.filter(J=>"_delete"in J).map(J=>J._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Y=oe){return this.instances.has(Y)}getOptions(Y=oe){return this.instancesOptions.get(Y)||{}}initialize(Y={}){const{options:K={}}=Y,J=this.normalizeInstanceIdentifier(Y.instanceIdentifier);if(this.isInitialized(J))throw Error(`${this.name}(${J}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const _e=this.getOrInitializeService({instanceIdentifier:J,options:K});for(const[Ie,ie]of this.instancesDeferred.entries())J===this.normalizeInstanceIdentifier(Ie)&&ie.resolve(_e);return _e}onInit(Y,K){var J;const _e=this.normalizeInstanceIdentifier(K),Ie=null!==(J=this.onInitCallbacks.get(_e))&&void 0!==J?J:new Set;Ie.add(Y),this.onInitCallbacks.set(_e,Ie);const ie=this.instances.get(_e);return ie&&Y(ie,_e),()=>{Ie.delete(Y)}}invokeOnInitCallbacks(Y,K){const J=this.onInitCallbacks.get(K);if(J)for(const _e of J)try{_e(Y,K)}catch{}}getOrInitializeService({instanceIdentifier:Y,options:K={}}){let J=this.instances.get(Y);if(!J&&this.component&&(J=this.component.instanceFactory(this.container,{instanceIdentifier:(q=Y,q===oe?void 0:q),options:K}),this.instances.set(Y,J),this.instancesOptions.set(Y,K),this.invokeOnInitCallbacks(J,Y),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Y,J)}catch{}var q;return J||null}normalizeInstanceIdentifier(Y=oe){return this.component?this.component.multipleInstances?Y:oe:Y}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class V{constructor(Y){this.name=Y,this.providers=new Map}addComponent(Y){const K=this.getProvider(Y.name);if(K.isComponentSet())throw new Error(`Component ${Y.name} has already been registered with ${this.name}`);K.setComponent(Y)}addOrOverwriteComponent(Y){this.getProvider(Y.name).isComponentSet()&&this.providers.delete(Y.name),this.addComponent(Y)}getProvider(Y){if(this.providers.has(Y))return this.providers.get(Y);const K=new ne(Y,this);return this.providers.set(Y,K),K}getProviders(){return Array.from(this.providers.values())}}},1877:(Pt,ke,T)=>{T.d(ke,{Am:()=>q,Ub:()=>V,Yd:()=>ee,in:()=>h});const v=[];var h=(()=>{return(Y=h||(h={}))[Y.DEBUG=0]="DEBUG",Y[Y.VERBOSE=1]="VERBOSE",Y[Y.INFO=2]="INFO",Y[Y.WARN=3]="WARN",Y[Y.ERROR=4]="ERROR",Y[Y.SILENT=5]="SILENT",h;var Y})();const F={debug:h.DEBUG,verbose:h.VERBOSE,info:h.INFO,warn:h.WARN,error:h.ERROR,silent:h.SILENT},oe=h.INFO,ne={[h.DEBUG]:"log",[h.VERBOSE]:"log",[h.INFO]:"info",[h.WARN]:"warn",[h.ERROR]:"error"},he=(Y,K,...J)=>{if(K<Y.logLevel)return;const _e=(new Date).toISOString(),Ie=ne[K];if(!Ie)throw new Error(`Attempted to log a message with an invalid logType (value: ${K})`);console[Ie](`[${_e}]  ${Y.name}:`,...J)};class ee{constructor(K){this.name=K,this._logLevel=oe,this._logHandler=he,this._userLogHandler=null,v.push(this)}get logLevel(){return this._logLevel}set logLevel(K){if(!(K in h))throw new TypeError(`Invalid value "${K}" assigned to \`logLevel\``);this._logLevel=K}setLogLevel(K){this._logLevel="string"==typeof K?F[K]:K}get logHandler(){return this._logHandler}set logHandler(K){if("function"!=typeof K)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=K}get userLogHandler(){return this._userLogHandler}set userLogHandler(K){this._userLogHandler=K}debug(...K){this._userLogHandler&&this._userLogHandler(this,h.DEBUG,...K),this._logHandler(this,h.DEBUG,...K)}log(...K){this._userLogHandler&&this._userLogHandler(this,h.VERBOSE,...K),this._logHandler(this,h.VERBOSE,...K)}info(...K){this._userLogHandler&&this._userLogHandler(this,h.INFO,...K),this._logHandler(this,h.INFO,...K)}warn(...K){this._userLogHandler&&this._userLogHandler(this,h.WARN,...K),this._logHandler(this,h.WARN,...K)}error(...K){this._userLogHandler&&this._userLogHandler(this,h.ERROR,...K),this._logHandler(this,h.ERROR,...K)}}function V(Y){v.forEach(K=>{K.setLogLevel(Y)})}function q(Y,K){for(const J of v){let _e=null;K&&K.level&&(_e=F[K.level]),J.userLogHandler=null===Y?null:(Ie,ie,...Ue)=>{const be=Ue.map(ze=>{if(null==ze)return null;if("string"==typeof ze)return ze;if("number"==typeof ze||"boolean"==typeof ze)return ze.toString();if(ze instanceof Error)return ze.message;try{return JSON.stringify(ze)}catch{return null}}).filter(ze=>ze).join(" ");ie>=(_e??Ie.logLevel)&&Y({level:h[ie].toLowerCase(),message:be,args:Ue,type:Ie.name})}}}},8766:(Pt,ke,T)=>{T.d(ke,{Lj:()=>ct,X3:()=>at});var v=T(5861);let F,oe;const ee=new WeakMap,V=new WeakMap,q=new WeakMap,Y=new WeakMap,K=new WeakMap;let Ie={get(je,He,Te){if(je instanceof IDBTransaction){if("done"===He)return V.get(je);if("objectStoreNames"===He)return je.objectStoreNames||q.get(je);if("store"===He)return Te.objectStoreNames[1]?void 0:Te.objectStore(Te.objectStoreNames[0])}return ze(je[He])},set:(je,He,Te)=>(je[He]=Te,!0),has:(je,He)=>je instanceof IDBTransaction&&("done"===He||"store"===He)||He in je};function be(je){return"function"==typeof je?function Ue(je){return je!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function he(){return oe||(oe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(je)?function(...He){return je.apply(ft(this),He),ze(ee.get(this))}:function(...He){return ze(je.apply(ft(this),He))}:function(He,...Te){const Pe=je.call(ft(this),He,...Te);return q.set(Pe,He.sort?He.sort():[He]),ze(Pe)}}(je):(je instanceof IDBTransaction&&function _e(je){if(V.has(je))return;const He=new Promise((Te,Pe)=>{const Ve=()=>{je.removeEventListener("complete",Fe),je.removeEventListener("error",Ke),je.removeEventListener("abort",Ke)},Fe=()=>{Te(),Ve()},Ke=()=>{Pe(je.error||new DOMException("AbortError","AbortError")),Ve()};je.addEventListener("complete",Fe),je.addEventListener("error",Ke),je.addEventListener("abort",Ke)});V.set(je,He)}(je),((je,He)=>He.some(Te=>je instanceof Te))(je,function ne(){return F||(F=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(je,Ie):je)}function ze(je){if(je instanceof IDBRequest)return function J(je){const He=new Promise((Te,Pe)=>{const Ve=()=>{je.removeEventListener("success",Fe),je.removeEventListener("error",Ke)},Fe=()=>{Te(ze(je.result)),Ve()},Ke=()=>{Pe(je.error),Ve()};je.addEventListener("success",Fe),je.addEventListener("error",Ke)});return He.then(Te=>{Te instanceof IDBCursor&&ee.set(Te,je)}).catch(()=>{}),K.set(He,je),He}(je);if(Y.has(je))return Y.get(je);const He=be(je);return He!==je&&(Y.set(je,He),K.set(He,je)),He}const ft=je=>K.get(je);function at(je,He,{blocked:Te,upgrade:Pe,blocking:Ve,terminated:Fe}={}){const Ke=indexedDB.open(je,He),pt=ze(Ke);return Pe&&Ke.addEventListener("upgradeneeded",it=>{Pe(ze(Ke.result),it.oldVersion,it.newVersion,ze(Ke.transaction))}),Te&&Ke.addEventListener("blocked",()=>Te()),pt.then(it=>{Fe&&it.addEventListener("close",()=>Fe()),Ve&&it.addEventListener("versionchange",()=>Ve())}).catch(()=>{}),pt}function ct(je,{blocked:He}={}){const Te=indexedDB.deleteDatabase(je);return He&&Te.addEventListener("blocked",()=>He()),ze(Te).then(()=>{})}const Se=["get","getKey","getAll","getAllKeys","count"],Le=["put","add","delete","clear"],ht=new Map;function Me(je,He){if(!(je instanceof IDBDatabase)||He in je||"string"!=typeof He)return;if(ht.get(He))return ht.get(He);const Te=He.replace(/FromIndex$/,""),Pe=He!==Te,Ve=Le.includes(Te);if(!(Te in(Pe?IDBIndex:IDBObjectStore).prototype)||!Ve&&!Se.includes(Te))return;const Fe=function(){var Ke=(0,v.Z)(function*(pt,...it){const wt=this.transaction(pt,Ve?"readwrite":"readonly");let Bt=wt.store;return Pe&&(Bt=Bt.index(it.shift())),(yield Promise.all([Bt[Te](...it),Ve&&wt.done]))[0]});return function(it){return Ke.apply(this,arguments)}}();return ht.set(He,Fe),Fe}!function ie(je){Ie=je(Ie)}(je=>({...je,get:(He,Te,Pe)=>Me(He,Te)||je.get(He,Te,Pe),has:(He,Te)=>!!Me(He,Te)||je.has(He,Te)}))},6616:(Pt,ke,T)=>{T.d(ke,{ix:()=>ft,sL:()=>ct});var v=T(655),h=T(4650),F=T(7579),oe=T(4968),ne=T(2722),he=T(8675),ee=T(9300),V=T(7917),q=T(3187),Y=T(7423),K=T(445),J=T(6895),_e=T(7044),Ie=T(1811);const ie=["nz-button",""];function Ue(Se,Le){1&Se&&h._UZ(0,"span",1)}const be=["*"];let ft=(()=>{class Se{constructor(ht,Me,je,He,Te,Pe){this.ngZone=ht,this.elementRef=Me,this.cdr=je,this.renderer=He,this.nzConfigService=Te,this.directionality=Pe,this._nzModuleName="button",this.nzBlock=!1,this.nzGhost=!1,this.nzSearch=!1,this.nzLoading=!1,this.nzDanger=!1,this.disabled=!1,this.tabIndex=null,this.nzType=null,this.nzShape=null,this.nzSize="default",this.dir="ltr",this.destroy$=new F.x,this.loading$=new F.x,this.nzConfigService.getConfigChangeEventForComponent("button").pipe((0,ne.R)(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}insertSpan(ht,Me){ht.forEach(je=>{if("#text"===je.nodeName){const He=Me.createElement("span"),Te=Me.parentNode(je);Me.insertBefore(Te,He,je),Me.appendChild(He,je)}})}assertIconOnly(ht,Me){const je=Array.from(ht.childNodes),He=je.filter(Fe=>{const Ke=Array.from(Fe.childNodes||[]);return"SPAN"===Fe.nodeName&&Ke.length>0&&Ke.every(pt=>"svg"===pt.nodeName)}).length,Te=je.every(Fe=>"#text"!==Fe.nodeName);je.filter(Fe=>{const Ke=Array.from(Fe.childNodes||[]);return!("SPAN"===Fe.nodeName&&Ke.length>0&&Ke.every(pt=>"svg"===pt.nodeName))}).every(Fe=>"SPAN"!==Fe.nodeName)&&Te&&He>=1&&Me.addClass(ht,"ant-btn-icon-only")}ngOnInit(){this.directionality.change?.pipe((0,ne.R)(this.destroy$)).subscribe(ht=>{this.dir=ht,this.cdr.detectChanges()}),this.dir=this.directionality.value,this.ngZone.runOutsideAngular(()=>{(0,oe.R)(this.elementRef.nativeElement,"click",{capture:!0}).pipe((0,ne.R)(this.destroy$)).subscribe(ht=>{(this.disabled&&"A"===ht.target?.tagName||this.nzLoading)&&(ht.preventDefault(),ht.stopImmediatePropagation())})})}ngOnChanges(ht){const{nzLoading:Me}=ht;Me&&this.loading$.next(this.nzLoading)}ngAfterViewInit(){this.assertIconOnly(this.elementRef.nativeElement,this.renderer),this.insertSpan(this.elementRef.nativeElement.childNodes,this.renderer)}ngAfterContentInit(){this.loading$.pipe((0,he.O)(this.nzLoading),(0,ee.h)(()=>!!this.nzIconDirectiveElement),(0,ne.R)(this.destroy$)).subscribe(ht=>{const Me=this.nzIconDirectiveElement.nativeElement;ht?this.renderer.setStyle(Me,"display","none"):this.renderer.removeStyle(Me,"display")})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return Se.\u0275fac=function(ht){return new(ht||Se)(h.Y36(h.R0b),h.Y36(h.SBq),h.Y36(h.sBO),h.Y36(h.Qsj),h.Y36(V.jY),h.Y36(K.Is,8))},Se.\u0275cmp=h.Xpm({type:Se,selectors:[["button","nz-button",""],["a","nz-button",""]],contentQueries:function(ht,Me,je){if(1&ht&&h.Suo(je,Y.Ls,5,h.SBq),2&ht){let He;h.iGM(He=h.CRH())&&(Me.nzIconDirectiveElement=He.first)}},hostAttrs:[1,"ant-btn"],hostVars:30,hostBindings:function(ht,Me){2&ht&&(h.uIk("tabindex",Me.disabled?-1:null===Me.tabIndex?null:Me.tabIndex)("disabled",Me.disabled||null),h.ekj("ant-btn-primary","primary"===Me.nzType)("ant-btn-dashed","dashed"===Me.nzType)("ant-btn-link","link"===Me.nzType)("ant-btn-text","text"===Me.nzType)("ant-btn-circle","circle"===Me.nzShape)("ant-btn-round","round"===Me.nzShape)("ant-btn-lg","large"===Me.nzSize)("ant-btn-sm","small"===Me.nzSize)("ant-btn-dangerous",Me.nzDanger)("ant-btn-loading",Me.nzLoading)("ant-btn-background-ghost",Me.nzGhost)("ant-btn-block",Me.nzBlock)("ant-input-search-button",Me.nzSearch)("ant-btn-rtl","rtl"===Me.dir))},inputs:{nzBlock:"nzBlock",nzGhost:"nzGhost",nzSearch:"nzSearch",nzLoading:"nzLoading",nzDanger:"nzDanger",disabled:"disabled",tabIndex:"tabIndex",nzType:"nzType",nzShape:"nzShape",nzSize:"nzSize"},exportAs:["nzButton"],features:[h.TTD],attrs:ie,ngContentSelectors:be,decls:2,vars:1,consts:[["nz-icon","","nzType","loading",4,"ngIf"],["nz-icon","","nzType","loading"]],template:function(ht,Me){1&ht&&(h.F$t(),h.YNc(0,Ue,1,0,"span",0),h.Hsn(1)),2&ht&&h.Q6J("ngIf",Me.nzLoading)},dependencies:[J.O5,Y.Ls,_e.w],encapsulation:2,changeDetection:0}),(0,v.gn)([(0,q.yF)()],Se.prototype,"nzBlock",void 0),(0,v.gn)([(0,q.yF)()],Se.prototype,"nzGhost",void 0),(0,v.gn)([(0,q.yF)()],Se.prototype,"nzSearch",void 0),(0,v.gn)([(0,q.yF)()],Se.prototype,"nzLoading",void 0),(0,v.gn)([(0,q.yF)()],Se.prototype,"nzDanger",void 0),(0,v.gn)([(0,q.yF)()],Se.prototype,"disabled",void 0),(0,v.gn)([(0,V.oS)()],Se.prototype,"nzSize",void 0),Se})(),ct=(()=>{class Se{}return Se.\u0275fac=function(ht){return new(ht||Se)},Se.\u0275mod=h.oAB({type:Se}),Se.\u0275inj=h.cJS({imports:[K.vT,J.ez,Ie.vG,Y.PV,_e.a,_e.a,Ie.vG]}),Se})()},7917:(Pt,ke,T)=>{T.d(ke,{jY:()=>wt,oS:()=>Bt});var v=T(4650),h=T(7579),F=T(9300),oe=T(9718),ne=T(5192),he=T(8809),ee=T(7952);const ft=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function at({r:$e,g:bt,b:Ct}){const Tt=(0,he.py)($e,bt,Ct);return{h:360*Tt.h,s:Tt.s,v:Tt.v}}function ct({r:$e,g:bt,b:Ct}){return`#${(0,he.vq)($e,bt,Ct,!1)}`}function Le($e,bt,Ct){let Tt;return Tt=Math.round($e.h)>=60&&Math.round($e.h)<=240?Ct?Math.round($e.h)-2*bt:Math.round($e.h)+2*bt:Ct?Math.round($e.h)+2*bt:Math.round($e.h)-2*bt,Tt<0?Tt+=360:Tt>=360&&(Tt-=360),Tt}function ht($e,bt,Ct){if(0===$e.h&&0===$e.s)return $e.s;let Tt;return Tt=Ct?$e.s-.16*bt:4===bt?$e.s+.16:$e.s+.05*bt,Tt>1&&(Tt=1),Ct&&5===bt&&Tt>.1&&(Tt=.1),Tt<.06&&(Tt=.06),Number(Tt.toFixed(2))}function Me($e,bt,Ct){let Tt;return Tt=Ct?$e.v+.05*bt:$e.v-.15*bt,Tt>1&&(Tt=1),Number(Tt.toFixed(2))}function je($e,bt={}){const Ct=[],Tt=(0,ee.uA)($e);for(let sn=5;sn>0;sn-=1){const gn=at(Tt),en=ct((0,ee.uA)({h:Le(gn,sn,!0),s:ht(gn,sn,!0),v:Me(gn,sn,!0)}));Ct.push(en)}Ct.push(ct(Tt));for(let sn=1;sn<=4;sn+=1){const gn=at(Tt),en=ct((0,ee.uA)({h:Le(gn,sn),s:ht(gn,sn),v:Me(gn,sn)}));Ct.push(en)}return"dark"===bt.theme?ft.map(({index:sn,opacity:gn})=>ct(function Se($e,bt,Ct){const Tt=Ct/100;return{r:(bt.r-$e.r)*Tt+$e.r,g:(bt.g-$e.g)*Tt+$e.g,b:(bt.b-$e.b)*Tt+$e.b}}((0,ee.uA)(bt.backgroundColor||"#141414"),(0,ee.uA)(Ct[sn]),100*gn))):Ct}var He=T(1355),Te=T(3187);const Pe=new v.OlP("nz-config"),Ve=`-ant-${Date.now()}-${Math.random()}`;function Ke($e,bt){const Ct=function Fe($e,bt){const Ct={},Tt=(en,Qn)=>{let pr=en.clone();return pr=Qn?.(pr)||pr,pr.toRgbString()},sn=(en,Qn)=>{const pr=new ne.C(en),kn=je(pr.toRgbString());Ct[`${Qn}-color`]=Tt(pr),Ct[`${Qn}-color-disabled`]=kn[1],Ct[`${Qn}-color-hover`]=kn[4],Ct[`${Qn}-color-active`]=kn[7],Ct[`${Qn}-color-outline`]=pr.clone().setAlpha(.2).toRgbString(),Ct[`${Qn}-color-deprecated-bg`]=kn[1],Ct[`${Qn}-color-deprecated-border`]=kn[3]};if(bt.primaryColor){sn(bt.primaryColor,"primary");const en=new ne.C(bt.primaryColor),Qn=je(en.toRgbString());Qn.forEach((kn,vn)=>{Ct[`primary-${vn+1}`]=kn}),Ct["primary-color-deprecated-l-35"]=Tt(en,kn=>kn.lighten(35)),Ct["primary-color-deprecated-l-20"]=Tt(en,kn=>kn.lighten(20)),Ct["primary-color-deprecated-t-20"]=Tt(en,kn=>kn.tint(20)),Ct["primary-color-deprecated-t-50"]=Tt(en,kn=>kn.tint(50)),Ct["primary-color-deprecated-f-12"]=Tt(en,kn=>kn.setAlpha(.12*kn.getAlpha()));const pr=new ne.C(Qn[0]);Ct["primary-color-active-deprecated-f-30"]=Tt(pr,kn=>kn.setAlpha(.3*kn.getAlpha())),Ct["primary-color-active-deprecated-d-02"]=Tt(pr,kn=>kn.darken(2))}return bt.successColor&&sn(bt.successColor,"success"),bt.warningColor&&sn(bt.warningColor,"warning"),bt.errorColor&&sn(bt.errorColor,"error"),bt.infoColor&&sn(bt.infoColor,"info"),`\n  :root {\n    ${Object.keys(Ct).map(en=>`--${$e}-${en}: ${Ct[en]};`).join("\n")}\n  }\n  `.trim()}($e,bt);(0,Te.J8)()?(0,Te.hq)(Ct,`${Ve}-dynamic-theme`):(0,He.ZK)("NzConfigService: SSR do not support dynamic theme with css variables.")}const pt=function($e){return void 0!==$e};let wt=(()=>{class $e{constructor(Ct){this.configUpdated$=new h.x,this.config=Ct||{},this.config.theme&&Ke(this.getConfig().prefixCls?.prefixCls||"ant",this.config.theme)}getConfig(){return this.config}getConfigForComponent(Ct){return this.config[Ct]}getConfigChangeEventForComponent(Ct){return this.configUpdated$.pipe((0,F.h)(Tt=>Tt===Ct),(0,oe.h)(void 0))}set(Ct,Tt){this.config[Ct]={...this.config[Ct],...Tt},"theme"===Ct&&this.config.theme&&Ke(this.getConfig().prefixCls?.prefixCls||"ant",this.config.theme),this.configUpdated$.next(Ct)}}return $e.\u0275fac=function(Ct){return new(Ct||$e)(v.LFG(Pe,8))},$e.\u0275prov=v.Yz7({token:$e,factory:$e.\u0275fac,providedIn:"root"}),$e})();function Bt(){return function(bt,Ct,Tt){const sn=`$$__zorroConfigDecorator__${Ct}`;return Object.defineProperty(bt,sn,{configurable:!0,writable:!0,enumerable:!1}),{get(){const gn=Tt?.get?Tt.get.bind(this)():this[sn],en=(this.propertyAssignCounter?.[Ct]||0)>1,Qn=this.nzConfigService.getConfigForComponent(this._nzModuleName)?.[Ct];return en&&pt(gn)?gn:pt(Qn)?Qn:gn},set(gn){this.propertyAssignCounter=this.propertyAssignCounter||{},this.propertyAssignCounter[Ct]=(this.propertyAssignCounter[Ct]||0)+1,Tt?.set?Tt.set.bind(this)(gn):this[sn]=gn},configurable:!0,enumerable:!0}}}},1355:(Pt,ke,T)=>{T.d(ke,{ZK:()=>ee});var v=T(4650);const F={};const ee=(...Y)=>function he(Y,...K){(0,v.X6Q)()&&function ne(...Y){const K=Y.reduce((J,_e)=>J+_e.toString(),"");return!F[K]&&(F[K]=!0,!0)}(...K)&&Y(...K)}((...K)=>console.warn("[NG-ZORRO]:",...K),...Y)},4903:(Pt,ke,T)=>{T.d(ke,{g:()=>ne});var v=T(6895),h=T(4650);let ne=(()=>{class he{}return he.\u0275fac=function(V){return new(V||he)},he.\u0275mod=h.oAB({type:he}),he.\u0275inj=h.cJS({imports:[v.ez]}),he})()},6287:(Pt,ke,T)=>{T.d(ke,{T:()=>ne,f:()=>F});var v=T(6895),h=T(4650);let F=(()=>{class he{constructor(V,q){this.viewContainer=V,this.templateRef=q,this.embeddedViewRef=null,this.context=new oe,this.nzStringTemplateOutletContext=null,this.nzStringTemplateOutlet=null}static ngTemplateContextGuard(V,q){return!0}recreateView(){this.viewContainer.clear();const V=this.nzStringTemplateOutlet instanceof h.Rgc;this.embeddedViewRef=this.viewContainer.createEmbeddedView(V?this.nzStringTemplateOutlet:this.templateRef,V?this.nzStringTemplateOutletContext:this.context)}updateContext(){const q=this.nzStringTemplateOutlet instanceof h.Rgc?this.nzStringTemplateOutletContext:this.context,Y=this.embeddedViewRef.context;if(q)for(const K of Object.keys(q))Y[K]=q[K]}ngOnChanges(V){const{nzStringTemplateOutletContext:q,nzStringTemplateOutlet:Y}=V;Y&&(this.context.$implicit=Y.currentValue),(()=>{let _e=!1;if(Y)if(Y.firstChange)_e=!0;else{const be=Y.currentValue instanceof h.Rgc;_e=Y.previousValue instanceof h.Rgc||be}return q&&(Ue=>{const be=Object.keys(Ue.previousValue||{}),ze=Object.keys(Ue.currentValue||{});if(be.length===ze.length){for(const ft of ze)if(-1===be.indexOf(ft))return!0;return!1}return!0})(q)||_e})()?this.recreateView():this.updateContext()}}return he.\u0275fac=function(V){return new(V||he)(h.Y36(h.s_b),h.Y36(h.Rgc))},he.\u0275dir=h.lG2({type:he,selectors:[["","nzStringTemplateOutlet",""]],inputs:{nzStringTemplateOutletContext:"nzStringTemplateOutletContext",nzStringTemplateOutlet:"nzStringTemplateOutlet"},exportAs:["nzStringTemplateOutlet"],features:[h.TTD]}),he})();class oe{}let ne=(()=>{class he{}return he.\u0275fac=function(V){return new(V||he)},he.\u0275mod=h.oAB({type:he}),he.\u0275inj=h.cJS({imports:[v.ez]}),he})()},1691:(Pt,ke,T)=>{T.d(ke,{e4:()=>J,yW:()=>F});var v=T(7518),h=T(4650);const F={top:new v.tR({originX:"center",originY:"top"},{overlayX:"center",overlayY:"bottom"}),topCenter:new v.tR({originX:"center",originY:"top"},{overlayX:"center",overlayY:"bottom"}),topLeft:new v.tR({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"}),topRight:new v.tR({originX:"end",originY:"top"},{overlayX:"end",overlayY:"bottom"}),right:new v.tR({originX:"end",originY:"center"},{overlayX:"start",overlayY:"center"}),rightTop:new v.tR({originX:"end",originY:"top"},{overlayX:"start",overlayY:"top"}),rightBottom:new v.tR({originX:"end",originY:"bottom"},{overlayX:"start",overlayY:"bottom"}),bottom:new v.tR({originX:"center",originY:"bottom"},{overlayX:"center",overlayY:"top"}),bottomCenter:new v.tR({originX:"center",originY:"bottom"},{overlayX:"center",overlayY:"top"}),bottomLeft:new v.tR({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"top"}),bottomRight:new v.tR({originX:"end",originY:"bottom"},{overlayX:"end",overlayY:"top"}),left:new v.tR({originX:"start",originY:"center"},{overlayX:"end",overlayY:"center"}),leftTop:new v.tR({originX:"start",originY:"top"},{overlayX:"end",overlayY:"top"}),leftBottom:new v.tR({originX:"start",originY:"bottom"},{overlayX:"end",overlayY:"bottom"})};new v.tR({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"bottom"}),new v.tR({originX:"start",originY:"bottom"},{overlayX:"end",overlayY:"bottom"}),new v.tR({originX:"start",originY:"bottom"},{overlayX:"end",overlayY:"top"}),new v.tR({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"top"},void 0,2),new v.tR({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"},void 0,-2),new v.tR({originX:"end",originY:"bottom"},{overlayX:"end",overlayY:"top"},void 0,2),new v.tR({originX:"end",originY:"top"},{overlayX:"end",overlayY:"bottom"},void 0,-2);let J=(()=>{class _e{}return _e.\u0275fac=function(ie){return new(ie||_e)},_e.\u0275mod=h.oAB({type:_e}),_e.\u0275inj=h.cJS({}),_e})()},7044:(Pt,ke,T)=>{T.d(ke,{a:()=>oe,w:()=>F});var v=T(3353),h=T(4650);let F=(()=>{class ne{constructor(ee,V){this.elementRef=ee,this.renderer=V,this.hidden=null,this.renderer.setAttribute(this.elementRef.nativeElement,"hidden","")}setHiddenAttribute(){this.hidden?this.renderer.setAttribute(this.elementRef.nativeElement,"hidden","string"==typeof this.hidden?this.hidden:""):this.renderer.removeAttribute(this.elementRef.nativeElement,"hidden")}ngOnChanges(){this.setHiddenAttribute()}ngAfterViewInit(){this.setHiddenAttribute()}}return ne.\u0275fac=function(ee){return new(ee||ne)(h.Y36(h.SBq),h.Y36(h.Qsj))},ne.\u0275dir=h.lG2({type:ne,selectors:[["","nz-button",""],["nz-button-group"],["","nz-icon",""],["","nz-menu-item",""],["","nz-submenu",""],["nz-select-top-control"],["nz-select-placeholder"],["nz-input-group"]],inputs:{hidden:"hidden"},features:[h.TTD]}),ne})(),oe=(()=>{class ne{}return ne.\u0275fac=function(ee){return new(ee||ne)},ne.\u0275mod=h.oAB({type:ne}),ne.\u0275inj=h.cJS({imports:[v.ud]}),ne})()},3187:(Pt,ke,T)=>{T.d(ke,{DX:()=>he,J8:()=>Xt,Zu:()=>$t,hq:()=>jn,sw:()=>K,yF:()=>Ue});var v=T(1281),h=T(1355);function he(Oe){return typeof Oe<"u"&&null!==Oe}function K(Oe){return(0,v.Ig)(Oe)}function Ue(){return function ie(Oe,et){return function Nt(St,Qt,Mt){const At=`$$__zorroPropDecorator__${Qt}`;return Object.prototype.hasOwnProperty.call(St,At)&&(0,h.ZK)(`The prop "${At}" is already exist, it will be overrided by ${Oe} decorator.`),Object.defineProperty(St,At,{configurable:!0,writable:!0}),{get(){return Mt&&Mt.get?Mt.get.bind(this)():this[At]},set(vt){Mt&&Mt.set&&Mt.set.bind(this)(et(vt)),this[At]=et(vt)}}}}("InputBoolean",K)}function Xt(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function ye({mark:Oe}={}){return Oe?Oe.startsWith("data-")?Oe:`data-${Oe}`:"rc-util-key"}function me(Oe){return Oe.attachTo?Oe.attachTo:document.querySelector("head")||document.body}function ot(Oe,et={}){if(!Xt())return null;const Nt=document.createElement("style");et.csp?.nonce&&(Nt.nonce=et.csp?.nonce),Nt.innerHTML=Oe;const St=me(et),{firstChild:Qt}=St;return et.prepend&&St.prepend?St.prepend(Nt):et.prepend&&Qt?St.insertBefore(Nt,Qt):St.appendChild(Nt),Nt}typeof window<"u"&&window;const rt=new Map;function jn(Oe,et,Nt={}){const St=me(Nt);if(!rt.has(St)){const At=ot("",Nt),{parentNode:vt}=At;rt.set(St,vt),vt.removeChild(At)}const Qt=function an(Oe,et={}){const Nt=me(et);return Array.from(rt.get(Nt)?.children||[]).find(St=>"STYLE"===St.tagName&&St.getAttribute(ye(et))===Oe)}(et,Nt);if(Qt)return Nt.csp?.nonce&&Qt.nonce!==Nt.csp?.nonce&&(Qt.nonce=Nt.csp?.nonce),Qt.innerHTML!==Oe&&(Qt.innerHTML=Oe),Qt;const Mt=ot(Oe,Nt);return Mt?.setAttribute(ye(Nt),et),Mt}function $t(Oe,et,Nt){return{[`${Oe}-status-success`]:"success"===et,[`${Oe}-status-warning`]:"warning"===et,[`${Oe}-status-error`]:"error"===et,[`${Oe}-status-validating`]:"validating"===et,[`${Oe}-has-feedback`]:Nt}}},1811:(Pt,ke,T)=>{T.d(ke,{dQ:()=>ee,vG:()=>V});var v=T(3353),h=T(4650);class F{constructor(Y,K,J,_e){this.triggerElement=Y,this.ngZone=K,this.insertExtraNode=J,this.platformId=_e,this.waveTransitionDuration=400,this.styleForPseudo=null,this.extraNode=null,this.lastTime=0,this.onClick=Ie=>{!this.triggerElement||!this.triggerElement.getAttribute||this.triggerElement.getAttribute("disabled")||"INPUT"===Ie.target.tagName||this.triggerElement.className.indexOf("disabled")>=0||this.fadeOutWave()},this.platform=new v.t4(this.platformId),this.clickHandler=this.onClick.bind(this),this.bindTriggerEvent()}get waveAttributeName(){return this.insertExtraNode?"ant-click-animating":"ant-click-animating-without-extra-node"}bindTriggerEvent(){this.platform.isBrowser&&this.ngZone.runOutsideAngular(()=>{this.removeTriggerEvent(),this.triggerElement&&this.triggerElement.addEventListener("click",this.clickHandler,!0)})}removeTriggerEvent(){this.triggerElement&&this.triggerElement.removeEventListener("click",this.clickHandler,!0)}removeStyleAndExtraNode(){this.styleForPseudo&&document.body.contains(this.styleForPseudo)&&(document.body.removeChild(this.styleForPseudo),this.styleForPseudo=null),this.insertExtraNode&&this.triggerElement.contains(this.extraNode)&&this.triggerElement.removeChild(this.extraNode)}destroy(){this.removeTriggerEvent(),this.removeStyleAndExtraNode()}fadeOutWave(){const Y=this.triggerElement,K=this.getWaveColor(Y);Y.setAttribute(this.waveAttributeName,"true"),!(Date.now()<this.lastTime+this.waveTransitionDuration)&&(this.isValidColor(K)&&(this.styleForPseudo||(this.styleForPseudo=document.createElement("style")),this.styleForPseudo.innerHTML=`\n      [ant-click-animating-without-extra-node='true']::after, .ant-click-animating-node {\n        --antd-wave-shadow-color: ${K};\n      }`,document.body.appendChild(this.styleForPseudo)),this.insertExtraNode&&(this.extraNode||(this.extraNode=document.createElement("div")),this.extraNode.className="ant-click-animating-node",Y.appendChild(this.extraNode)),this.lastTime=Date.now(),this.runTimeoutOutsideZone(()=>{Y.removeAttribute(this.waveAttributeName),this.removeStyleAndExtraNode()},this.waveTransitionDuration))}isValidColor(Y){return!!Y&&"#ffffff"!==Y&&"rgb(255, 255, 255)"!==Y&&this.isNotGrey(Y)&&!/rgba\(\d*, \d*, \d*, 0\)/.test(Y)&&"transparent"!==Y}isNotGrey(Y){const K=Y.match(/rgba?\((\d*), (\d*), (\d*)(, [\.\d]*)?\)/);return!(K&&K[1]&&K[2]&&K[3]&&K[1]===K[2]&&K[2]===K[3])}getWaveColor(Y){const K=getComputedStyle(Y);return K.getPropertyValue("border-top-color")||K.getPropertyValue("border-color")||K.getPropertyValue("background-color")}runTimeoutOutsideZone(Y,K){this.ngZone.runOutsideAngular(()=>setTimeout(Y,K))}}const oe={disabled:!1},ne=new h.OlP("nz-wave-global-options",{providedIn:"root",factory:function he(){return oe}});let ee=(()=>{class q{constructor(K,J,_e,Ie,ie){this.ngZone=K,this.elementRef=J,this.config=_e,this.animationType=Ie,this.platformId=ie,this.nzWaveExtraNode=!1,this.waveDisabled=!1,this.waveDisabled=this.isConfigDisabled()}get disabled(){return this.waveDisabled}get rendererRef(){return this.waveRenderer}isConfigDisabled(){let K=!1;return this.config&&"boolean"==typeof this.config.disabled&&(K=this.config.disabled),"NoopAnimations"===this.animationType&&(K=!0),K}ngOnDestroy(){this.waveRenderer&&this.waveRenderer.destroy()}ngOnInit(){this.renderWaveIfEnabled()}renderWaveIfEnabled(){!this.waveDisabled&&this.elementRef.nativeElement&&(this.waveRenderer=new F(this.elementRef.nativeElement,this.ngZone,this.nzWaveExtraNode,this.platformId))}disable(){this.waveDisabled=!0,this.waveRenderer&&(this.waveRenderer.removeTriggerEvent(),this.waveRenderer.removeStyleAndExtraNode())}enable(){this.waveDisabled=this.isConfigDisabled()||!1,this.waveRenderer&&this.waveRenderer.bindTriggerEvent()}}return q.\u0275fac=function(K){return new(K||q)(h.Y36(h.R0b),h.Y36(h.SBq),h.Y36(ne,8),h.Y36(h.QbO,8),h.Y36(h.Lbi))},q.\u0275dir=h.lG2({type:q,selectors:[["","nz-wave",""],["button","nz-button","",3,"nzType","link",3,"nzType","text"]],inputs:{nzWaveExtraNode:"nzWaveExtraNode"},exportAs:["nzWave"]}),q})(),V=(()=>{class q{}return q.\u0275fac=function(K){return new(K||q)},q.\u0275mod=h.oAB({type:q}),q.\u0275inj=h.cJS({imports:[v.ud]}),q})()},4384:(Pt,ke,T)=>{T.d(ke,{t3:()=>Ve,Jb:()=>Fe,SK:()=>Pe});var v=T(4650),h=T(4707),F=T(7579),oe=T(2722),ne=T(9225),he=T(8746),ee=T(4004),V=T(8675),q=T(1884),Y=T(2289);const K=()=>{};let J=(()=>{class Ke{constructor(it,wt){this.ngZone=it,this.rendererFactory2=wt,this.resizeSource$=new F.x,this.listeners=0,this.disposeHandle=K,this.handler=()=>{this.ngZone.run(()=>{this.resizeSource$.next()})},this.renderer=this.rendererFactory2.createRenderer(null,null)}ngOnDestroy(){this.handler=K}subscribe(){return this.registerListener(),this.resizeSource$.pipe((0,ne.e)(16),(0,he.x)(()=>this.unregisterListener()))}unsubscribe(){this.unregisterListener()}registerListener(){0===this.listeners&&this.ngZone.runOutsideAngular(()=>{this.disposeHandle=this.renderer.listen("window","resize",this.handler)}),this.listeners+=1}unregisterListener(){this.listeners-=1,0===this.listeners&&(this.disposeHandle(),this.disposeHandle=K)}}return Ke.\u0275fac=function(it){return new(it||Ke)(v.LFG(v.R0b),v.LFG(v.FYo))},Ke.\u0275prov=v.Yz7({token:Ke,factory:Ke.\u0275fac,providedIn:"root"}),Ke})();var ft=(()=>{return(Ke=ft||(ft={})).xxl="xxl",Ke.xl="xl",Ke.lg="lg",Ke.md="md",Ke.sm="sm",Ke.xs="xs",ft;var Ke})();const at={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"};let Se=(()=>{class Ke{constructor(it,wt){this.resizeService=it,this.mediaMatcher=wt,this.destroy$=new F.x,this.resizeService.subscribe().pipe((0,oe.R)(this.destroy$)).subscribe(()=>{})}ngOnDestroy(){this.destroy$.next()}subscribe(it,wt){if(wt){const Bt=()=>this.matchMedia(it,!0);return this.resizeService.subscribe().pipe((0,ee.U)(Bt),(0,V.O)(Bt()),(0,q.x)(($e,bt)=>$e[0]===bt[0]),(0,ee.U)($e=>$e[1]))}{const Bt=()=>this.matchMedia(it);return this.resizeService.subscribe().pipe((0,ee.U)(Bt),(0,V.O)(Bt()),(0,q.x)())}}matchMedia(it,wt){let Bt=ft.md;const $e={};return Object.keys(it).map(bt=>{const Ct=bt,Tt=this.mediaMatcher.matchMedia(at[Ct]).matches;$e[bt]=Tt,Tt&&(Bt=Ct)}),wt?[Bt,$e]:Bt}}return Ke.\u0275fac=function(it){return new(it||Ke)(v.LFG(J),v.LFG(Y.vx))},Ke.\u0275prov=v.Yz7({token:Ke,factory:Ke.\u0275fac,providedIn:"root"}),Ke})();var Me=T(3353),je=T(445),He=T(3187),Te=T(6895);let Pe=(()=>{class Ke{constructor(it,wt,Bt,$e,bt,Ct,Tt){this.elementRef=it,this.renderer=wt,this.mediaMatcher=Bt,this.ngZone=$e,this.platform=bt,this.breakpointService=Ct,this.directionality=Tt,this.nzAlign=null,this.nzJustify=null,this.nzGutter=null,this.actualGutter$=new h.t(1),this.dir="ltr",this.destroy$=new F.x}getGutter(){const it=[null,null],wt=this.nzGutter||0;return(Array.isArray(wt)?wt:[wt,null]).forEach(($e,bt)=>{"object"==typeof $e&&null!==$e?(it[bt]=null,Object.keys(at).map(Ct=>{const Tt=Ct;this.mediaMatcher.matchMedia(at[Tt]).matches&&$e[Tt]&&(it[bt]=$e[Tt])})):it[bt]=Number($e)||null}),it}setGutterStyle(){const[it,wt]=this.getGutter();this.actualGutter$.next([it,wt]);const Bt=($e,bt)=>{null!==bt&&this.renderer.setStyle(this.elementRef.nativeElement,$e,`-${bt/2}px`)};Bt("margin-left",it),Bt("margin-right",it),Bt("margin-top",wt),Bt("margin-bottom",wt)}ngOnInit(){this.dir=this.directionality.value,this.directionality.change?.pipe((0,oe.R)(this.destroy$)).subscribe(it=>{this.dir=it}),this.setGutterStyle()}ngOnChanges(it){it.nzGutter&&this.setGutterStyle()}ngAfterViewInit(){this.platform.isBrowser&&this.breakpointService.subscribe(at).pipe((0,oe.R)(this.destroy$)).subscribe(()=>{this.setGutterStyle()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return Ke.\u0275fac=function(it){return new(it||Ke)(v.Y36(v.SBq),v.Y36(v.Qsj),v.Y36(Y.vx),v.Y36(v.R0b),v.Y36(Me.t4),v.Y36(Se),v.Y36(je.Is,8))},Ke.\u0275dir=v.lG2({type:Ke,selectors:[["","nz-row",""],["nz-row"],["nz-form-item"]],hostAttrs:[1,"ant-row"],hostVars:20,hostBindings:function(it,wt){2&it&&v.ekj("ant-row-top","top"===wt.nzAlign)("ant-row-middle","middle"===wt.nzAlign)("ant-row-bottom","bottom"===wt.nzAlign)("ant-row-start","start"===wt.nzJustify)("ant-row-end","end"===wt.nzJustify)("ant-row-center","center"===wt.nzJustify)("ant-row-space-around","space-around"===wt.nzJustify)("ant-row-space-between","space-between"===wt.nzJustify)("ant-row-space-evenly","space-evenly"===wt.nzJustify)("ant-row-rtl","rtl"===wt.dir)},inputs:{nzAlign:"nzAlign",nzJustify:"nzJustify",nzGutter:"nzGutter"},exportAs:["nzRow"],features:[v.TTD]}),Ke})(),Ve=(()=>{class Ke{constructor(it,wt,Bt,$e){this.elementRef=it,this.nzRowDirective=wt,this.renderer=Bt,this.directionality=$e,this.classMap={},this.destroy$=new F.x,this.hostFlexStyle=null,this.dir="ltr",this.nzFlex=null,this.nzSpan=null,this.nzOrder=null,this.nzOffset=null,this.nzPush=null,this.nzPull=null,this.nzXs=null,this.nzSm=null,this.nzMd=null,this.nzLg=null,this.nzXl=null,this.nzXXl=null}setHostClassMap(){const it={"ant-col":!0,[`ant-col-${this.nzSpan}`]:(0,He.DX)(this.nzSpan),[`ant-col-order-${this.nzOrder}`]:(0,He.DX)(this.nzOrder),[`ant-col-offset-${this.nzOffset}`]:(0,He.DX)(this.nzOffset),[`ant-col-pull-${this.nzPull}`]:(0,He.DX)(this.nzPull),[`ant-col-push-${this.nzPush}`]:(0,He.DX)(this.nzPush),"ant-col-rtl":"rtl"===this.dir,...this.generateClass()};for(const wt in this.classMap)this.classMap.hasOwnProperty(wt)&&this.renderer.removeClass(this.elementRef.nativeElement,wt);this.classMap={...it};for(const wt in this.classMap)this.classMap.hasOwnProperty(wt)&&this.classMap[wt]&&this.renderer.addClass(this.elementRef.nativeElement,wt)}setHostFlexStyle(){this.hostFlexStyle=this.parseFlex(this.nzFlex)}parseFlex(it){return"number"==typeof it?`${it} ${it} auto`:"string"==typeof it&&/^\d+(\.\d+)?(px|em|rem|%)$/.test(it)?`0 0 ${it}`:it}generateClass(){const wt={};return["nzXs","nzSm","nzMd","nzLg","nzXl","nzXXl"].forEach(Bt=>{const $e=Bt.replace("nz","").toLowerCase();if((0,He.DX)(this[Bt]))if("number"==typeof this[Bt]||"string"==typeof this[Bt])wt[`ant-col-${$e}-${this[Bt]}`]=!0;else{const bt=this[Bt];["span","pull","push","offset","order"].forEach(Tt=>{wt[`ant-col-${$e}${"span"===Tt?"-":`-${Tt}-`}${bt[Tt]}`]=bt&&(0,He.DX)(bt[Tt])})}}),wt}ngOnInit(){this.dir=this.directionality.value,this.directionality.change?.pipe((0,oe.R)(this.destroy$)).subscribe(it=>{this.dir=it,this.setHostClassMap()}),this.setHostClassMap(),this.setHostFlexStyle()}ngOnChanges(it){this.setHostClassMap();const{nzFlex:wt}=it;wt&&this.setHostFlexStyle()}ngAfterViewInit(){this.nzRowDirective&&this.nzRowDirective.actualGutter$.pipe((0,oe.R)(this.destroy$)).subscribe(([it,wt])=>{const Bt=($e,bt)=>{null!==bt&&this.renderer.setStyle(this.elementRef.nativeElement,$e,bt/2+"px")};Bt("padding-left",it),Bt("padding-right",it),Bt("padding-top",wt),Bt("padding-bottom",wt)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return Ke.\u0275fac=function(it){return new(it||Ke)(v.Y36(v.SBq),v.Y36(Pe,9),v.Y36(v.Qsj),v.Y36(je.Is,8))},Ke.\u0275dir=v.lG2({type:Ke,selectors:[["","nz-col",""],["nz-col"],["nz-form-control"],["nz-form-label"]],hostVars:2,hostBindings:function(it,wt){2&it&&v.Udp("flex",wt.hostFlexStyle)},inputs:{nzFlex:"nzFlex",nzSpan:"nzSpan",nzOrder:"nzOrder",nzOffset:"nzOffset",nzPush:"nzPush",nzPull:"nzPull",nzXs:"nzXs",nzSm:"nzSm",nzMd:"nzMd",nzLg:"nzLg",nzXl:"nzXl",nzXXl:"nzXXl"},exportAs:["nzCol"],features:[v.TTD]}),Ke})(),Fe=(()=>{class Ke{}return Ke.\u0275fac=function(it){return new(it||Ke)},Ke.\u0275mod=v.oAB({type:Ke}),Ke.\u0275inj=v.cJS({imports:[je.vT,Te.ez,Y.xu,Me.ud]}),Ke})()},7423:(Pt,ke,T)=>{T.d(ke,{Ls:()=>o6,PV:()=>dd});var v=T(3353),h=T(4650),F=T(655),oe=T(7579),ne=T(8996),he=T(2722),ee=T(6895),V=T(5192),Ue=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function be(zt,Jn,Qe){var qt;return(qt=Math.round(zt.h)>=60&&Math.round(zt.h)<=240?Qe?Math.round(zt.h)-2*Jn:Math.round(zt.h)+2*Jn:Qe?Math.round(zt.h)+2*Jn:Math.round(zt.h)-2*Jn)<0?qt+=360:qt>=360&&(qt-=360),qt}function ze(zt,Jn,Qe){return 0===zt.h&&0===zt.s?zt.s:((qt=Qe?zt.s-.16*Jn:4===Jn?zt.s+.16:zt.s+.05*Jn)>1&&(qt=1),Qe&&5===Jn&&qt>.1&&(qt=.1),qt<.06&&(qt=.06),Number(qt.toFixed(2)));var qt}function ft(zt,Jn,Qe){var qt;return(qt=Qe?zt.v+.05*Jn:zt.v-.15*Jn)>1&&(qt=1),Number(qt.toFixed(2))}function at(zt){for(var Jn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Qe=[],qt=new V.C(zt),Dn=5;Dn>0;Dn-=1){var lr=qt.toHsv(),xr=new V.C({h:be(lr,Dn,!0),s:ze(lr,Dn,!0),v:ft(lr,Dn,!0)}).toHexString();Qe.push(xr)}Qe.push(qt.toHexString());for(var Xr=1;Xr<=4;Xr+=1){var ki=qt.toHsv(),Ks=new V.C({h:be(ki,Xr),s:ze(ki,Xr),v:ft(ki,Xr)}).toHexString();Qe.push(Ks)}return"dark"===Jn.theme?Ue.map(function(Il){var zl=Il.index,Hc=Il.opacity;return new V.C(Jn.backgroundColor||"#141414").mix(Qe[zl],100*Hc).toHexString()}):Qe}var ct={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Se={},Le={};Object.keys(ct).forEach(function(zt){Se[zt]=at(ct[zt]),Se[zt].primary=Se[zt][5],Le[zt]=at(ct[zt],{theme:"dark",backgroundColor:"#141414"}),Le[zt].primary=Le[zt][5]});var $e=T(529),bt=T(9646),Ct=T(9751),Tt=T(4004),sn=T(8505),gn=T(8746),en=T(262),Qn=T(3099),pr=T(9300),kn=T(5698),vn=T(1481);const mr="[@ant-design/icons-angular]:";function yn(zt){(0,h.X6Q)()&&console.warn(`${mr} ${zt}.`)}function sr(zt){return at(zt)[0]}function Vr(zt,Jn){switch(Jn){case"fill":return`${zt}-fill`;case"outline":return`${zt}-o`;case"twotone":return`${zt}-twotone`;case void 0:return zt;default:throw new Error(`${mr}Theme "${Jn}" is not a recognized theme!`)}}function tr(zt){return"object"==typeof zt&&"string"==typeof zt.name&&("string"==typeof zt.theme||void 0===zt.theme)&&"string"==typeof zt.icon}function Xt(zt){const Jn=zt.split(":");switch(Jn.length){case 1:return[zt,""];case 2:return[Jn[1],Jn[0]];default:throw new Error(`${mr}The icon type ${zt} is not valid!`)}}function me(zt){return new Error(`${mr}the icon ${zt} does not exist or is not registered.`)}function an(){return new Error(`${mr}<svg> tag not found.`)}const $t=new h.OlP("ant_icons");let Oe=(()=>{class zt{constructor(Qe,qt,Dn,lr,xr){this._rendererFactory=Qe,this._handler=qt,this._document=Dn,this.sanitizer=lr,this._antIcons=xr,this.defaultTheme="outline",this._svgDefinitions=new Map,this._svgRenderedDefinitions=new Map,this._inProgressFetches=new Map,this._assetsUrlRoot="",this._twoToneColorPalette={primaryColor:"#333333",secondaryColor:"#E6E6E6"},this._enableJsonpLoading=!1,this._jsonpIconLoad$=new oe.x,this._renderer=this._rendererFactory.createRenderer(null,null),this._handler&&(this._http=new $e.eN(this._handler)),this._antIcons&&this.addIcon(...this._antIcons)}set twoToneColor({primaryColor:Qe,secondaryColor:qt}){this._twoToneColorPalette.primaryColor=Qe,this._twoToneColorPalette.secondaryColor=qt||sr(Qe)}get twoToneColor(){return{...this._twoToneColorPalette}}get _disableDynamicLoading(){return!1}useJsonpLoading(){this._enableJsonpLoading?yn("You are already using jsonp loading."):(this._enableJsonpLoading=!0,window.__ant_icon_load=Qe=>{this._jsonpIconLoad$.next(Qe)})}changeAssetsSource(Qe){this._assetsUrlRoot=Qe.endsWith("/")?Qe:Qe+"/"}addIcon(...Qe){Qe.forEach(qt=>{this._svgDefinitions.set(Vr(qt.name,qt.theme),qt)})}addIconLiteral(Qe,qt){const[Dn,lr]=Xt(Qe);if(!lr)throw function ye(){return new Error(`${mr}Type should have a namespace. Try "namespace:${name}".`)}();this.addIcon({name:Qe,icon:qt})}clear(){this._svgDefinitions.clear(),this._svgRenderedDefinitions.clear()}getRenderedContent(Qe,qt){const Dn=tr(Qe)?Qe:this._svgDefinitions.get(Qe)||null;if(!Dn&&this._disableDynamicLoading)throw me(Qe);return(Dn?(0,bt.of)(Dn):this._loadIconDynamically(Qe)).pipe((0,Tt.U)(xr=>{if(!xr)throw me(Qe);return this._loadSVGFromCacheOrCreateNew(xr,qt)}))}getCachedIcons(){return this._svgDefinitions}_loadIconDynamically(Qe){if(!this._http&&!this._enableJsonpLoading)return(0,bt.of)(function ot(){return function Nr(zt){console.error(`${mr} ${zt}.`)}('you need to import "HttpClientModule" to use dynamic importing.'),null}());let qt=this._inProgressFetches.get(Qe);if(!qt){const[Dn,lr]=Xt(Qe),xr=lr?{name:Qe,icon:""}:function Lt(zt){const Jn=zt.split("-"),Qe=function jt(zt){return"o"===zt?"outline":zt}(Jn.splice(Jn.length-1,1)[0]);return{name:Jn.join("-"),theme:Qe,icon:""}}(Dn),ki=(lr?`${this._assetsUrlRoot}assets/${lr}/${Dn}`:`${this._assetsUrlRoot}assets/${xr.theme}/${xr.name}`)+(this._enableJsonpLoading?".js":".svg"),Ks=this.sanitizer.sanitize(h.q3G.URL,ki);if(!Ks)throw function rt(zt){return new Error(`${mr}The url "${zt}" is unsafe.`)}(ki);qt=(this._enableJsonpLoading?this._loadIconDynamicallyWithJsonp(xr,Ks):this._http.get(Ks,{responseType:"text"}).pipe((0,Tt.U)(zl=>({...xr,icon:zl})))).pipe((0,sn.b)(zl=>this.addIcon(zl)),(0,gn.x)(()=>this._inProgressFetches.delete(Qe)),(0,en.K)(()=>(0,bt.of)(null)),(0,Qn.B)()),this._inProgressFetches.set(Qe,qt)}return qt}_loadIconDynamicallyWithJsonp(Qe,qt){return new Ct.y(Dn=>{const lr=this._document.createElement("script"),xr=setTimeout(()=>{Xr(),Dn.error(function bn(){return new Error(`${mr}Importing timeout error.`)}())},6e3);function Xr(){lr.parentNode.removeChild(lr),clearTimeout(xr)}lr.src=qt,this._document.body.appendChild(lr),this._jsonpIconLoad$.pipe((0,pr.h)(ki=>ki.name===Qe.name&&ki.theme===Qe.theme),(0,kn.q)(1)).subscribe(ki=>{Dn.next(ki),Xr()})})}_loadSVGFromCacheOrCreateNew(Qe,qt){let Dn;const lr=qt||this._twoToneColorPalette.primaryColor,xr=sr(lr)||this._twoToneColorPalette.secondaryColor,Xr="twotone"===Qe.theme?function gr(zt,Jn,Qe,qt){return`${Vr(zt,Jn)}-${Qe}-${qt}`}(Qe.name,Qe.theme,lr,xr):void 0===Qe.theme?Qe.name:Vr(Qe.name,Qe.theme),ki=this._svgRenderedDefinitions.get(Xr);return ki?Dn=ki.icon:(Dn=this._setSVGAttribute(this._colorizeSVGIcon(this._createSVGElementFromString(function Ye(zt){return""!==Xt(zt)[1]}(Qe.name)?Qe.icon:function mt(zt){return zt.replace(/['"]#333['"]/g,'"primaryColor"').replace(/['"]#E6E6E6['"]/g,'"secondaryColor"').replace(/['"]#D9D9D9['"]/g,'"secondaryColor"').replace(/['"]#D8D8D8['"]/g,'"secondaryColor"')}(Qe.icon)),"twotone"===Qe.theme,lr,xr)),this._svgRenderedDefinitions.set(Xr,{...Qe,icon:Dn})),function Yt(zt){return zt.cloneNode(!0)}(Dn)}_createSVGElementFromString(Qe){const qt=this._document.createElement("div");qt.innerHTML=Qe;const Dn=qt.querySelector("svg");if(!Dn)throw an;return Dn}_setSVGAttribute(Qe){return this._renderer.setAttribute(Qe,"width","1em"),this._renderer.setAttribute(Qe,"height","1em"),Qe}_colorizeSVGIcon(Qe,qt,Dn,lr){if(qt){const xr=Qe.childNodes,Xr=xr.length;for(let ki=0;ki<Xr;ki++){const Ks=xr[ki];"secondaryColor"===Ks.getAttribute("fill")?this._renderer.setAttribute(Ks,"fill",lr):this._renderer.setAttribute(Ks,"fill",Dn)}}return this._renderer.setAttribute(Qe,"fill","currentColor"),Qe}}return zt.\u0275fac=function(Qe){return new(Qe||zt)(h.LFG(h.FYo),h.LFG($e.jN,8),h.LFG(ee.K0,8),h.LFG(vn.H7),h.LFG($t,8))},zt.\u0275prov=h.Yz7({token:zt,factory:zt.\u0275fac}),zt})(),Nt=(()=>{class zt{constructor(Qe,qt,Dn){this._iconService=Qe,this._elementRef=qt,this._renderer=Dn}ngOnChanges(Qe){(Qe.type||Qe.theme||Qe.twoToneColor)&&this._changeIcon()}_changeIcon(){return new Promise(Qe=>{if(!this.type)return this._clearSVGElement(),void Qe(null);const qt=this._getSelfRenderMeta();this._iconService.getRenderedContent(this._parseIconType(this.type,this.theme),this.twoToneColor).subscribe(Dn=>{const lr=this._getSelfRenderMeta();!function et(zt,Jn){return zt.type===Jn.type&&zt.theme===Jn.theme&&zt.twoToneColor===Jn.twoToneColor}(qt,lr)?Qe(null):(this._setSVGElement(Dn),Qe(Dn))})})}_getSelfRenderMeta(){return{type:this.type,theme:this.theme,twoToneColor:this.twoToneColor}}_parseIconType(Qe,qt){if(tr(Qe))return Qe;{const[Dn,lr]=Xt(Qe);return lr?Qe:function br(zt){return zt.endsWith("-fill")||zt.endsWith("-o")||zt.endsWith("-twotone")}(Dn)?(qt&&yn(`'type' ${Dn} already gets a theme inside so 'theme' ${qt} would be ignored`),Dn):Vr(Dn,qt||this._iconService.defaultTheme)}}_setSVGElement(Qe){this._clearSVGElement(),this._renderer.appendChild(this._elementRef.nativeElement,Qe)}_clearSVGElement(){const Qe=this._elementRef.nativeElement,qt=Qe.childNodes;for(let lr=qt.length-1;lr>=0;lr--){const xr=qt[lr];"svg"===xr.tagName?.toLowerCase()&&this._renderer.removeChild(Qe,xr)}}}return zt.\u0275fac=function(Qe){return new(Qe||zt)(h.Y36(Oe),h.Y36(h.SBq),h.Y36(h.Qsj))},zt.\u0275dir=h.lG2({type:zt,selectors:[["","antIcon",""]],inputs:{type:"type",theme:"theme",twoToneColor:"twoToneColor"},features:[h.TTD]}),zt})();var Mt=T(1355),At=T(3187);const Ml={name:"star",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z" /></svg>'};var Mh=T(7917);const u4=[{name:"bars",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z" /></svg>'},{name:"calendar",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z" /></svg>'},{name:"caret-up",theme:"fill",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z" /></svg>'},{name:"caret-up",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z" /></svg>'},{name:"caret-down",theme:"fill",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z" /></svg>'},{name:"caret-down",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z" /></svg>'},{name:"check-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z" /></svg>'},{name:"check-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z" /><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /></svg>'},{name:"check",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z" /></svg>'},{name:"clock-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z" /></svg>'},{name:"close-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z" /><path d="M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /></svg>'},{name:"close-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z" /></svg>'},{name:"close",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z" /></svg>'},{name:"copy",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z" /></svg>'},{name:"delete",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z" /></svg>'},{name:"double-left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z" /></svg>'},{name:"double-right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z" /></svg>'},{name:"down",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z" /></svg>'},{name:"edit",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z" /></svg>'},{name:"ellipsis",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z" /></svg>'},{name:"exclamation-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z" /></svg>'},{name:"exclamation-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z" /></svg>'},{name:"eye",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z" /></svg>'},{name:"file",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M854.6 288.7c6 6 9.4 14.1 9.4 22.6V928c0 17.7-14.3 32-32 32H192c-17.7 0-32-14.3-32-32V96c0-17.7 14.3-32 32-32h424.7c8.5 0 16.7 3.4 22.7 9.4l215.2 215.3zM790.2 326L602 137.8V326h188.2z" /></svg>'},{name:"file",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z" /></svg>'},{name:"filter",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z" /></svg>'},{name:"info-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z" /></svg>'},{name:"info-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z" /></svg>'},{name:"left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z" /></svg>'},{name:"loading",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z" /></svg>'},{name:"paper-clip",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z" /></svg>'},{name:"question-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z" /></svg>'},{name:"right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z" /></svg>'},{name:"rotate-right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><defs><style /></defs><path d="M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z" /><path d="M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z" /></svg>'},{name:"rotate-left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><defs><style /></defs><path d="M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z" /><path d="M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z" /></svg>'},Ml,{name:"search",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z" /></svg>'},Ml,{name:"upload",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z" /></svg>'},{name:"vertical-align-top",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M859.9 168H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM518.3 355a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V848c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V509.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 355z" /></svg>'},{name:"up",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z" /></svg>'},{name:"swap-right",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M873.1 596.2l-164-208A32 32 0 00684 376h-64.8c-6.7 0-10.4 7.7-6.3 13l144.3 183H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h695.9c26.8 0 41.7-30.8 25.2-51.8z" /></svg>'},{name:"zoom-in",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z" /></svg>'},{name:"zoom-out",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z" /></svg>'}],Tu=new h.OlP("nz_icons"),ud=(new h.OlP("nz_icon_default_twotone_color"),"#1890ff");let Th=(()=>{class zt extends Oe{constructor(Qe,qt,Dn,lr,xr,Xr,ki){super(Qe,xr,Xr,qt,[...u4,...ki||[]]),this.nzConfigService=Dn,this.platform=lr,this.configUpdated$=new oe.x,this.iconfontCache=new Set,this.subscription=null,this.onConfigChange(),this.configDefaultTwotoneColor(),this.configDefaultTheme()}get _disableDynamicLoading(){return!this.platform.isBrowser}ngOnDestroy(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}normalizeSvgElement(Qe){Qe.getAttribute("viewBox")||this._renderer.setAttribute(Qe,"viewBox","0 0 1024 1024"),(!Qe.getAttribute("width")||!Qe.getAttribute("height"))&&(this._renderer.setAttribute(Qe,"width","1em"),this._renderer.setAttribute(Qe,"height","1em")),Qe.getAttribute("fill")||this._renderer.setAttribute(Qe,"fill","currentColor")}fetchFromIconfont(Qe){const{scriptUrl:qt}=Qe;if(this._document&&!this.iconfontCache.has(qt)){const Dn=this._renderer.createElement("script");this._renderer.setAttribute(Dn,"src",qt),this._renderer.setAttribute(Dn,"data-namespace",qt.replace(/^(https?|http):/g,"")),this._renderer.appendChild(this._document.body,Dn),this.iconfontCache.add(qt)}}createIconfontIcon(Qe){return this._createSVGElementFromString(`<svg><use xlink:href="${Qe}"></svg>`)}onConfigChange(){this.subscription=this.nzConfigService.getConfigChangeEventForComponent("icon").subscribe(()=>{this.configDefaultTwotoneColor(),this.configDefaultTheme(),this.configUpdated$.next()})}configDefaultTheme(){const Qe=this.getConfig();this.defaultTheme=Qe.nzTheme||"outline"}configDefaultTwotoneColor(){const qt=this.getConfig().nzTwotoneColor||ud;let Dn=ud;qt&&(qt.startsWith("#")?Dn=qt:(0,Mt.ZK)("Twotone color must be a hex color!")),this.twoToneColor={primaryColor:Dn}}getConfig(){return this.nzConfigService.getConfigForComponent("icon")||{}}}return zt.\u0275fac=function(Qe){return new(Qe||zt)(h.LFG(h.FYo),h.LFG(vn.H7),h.LFG(Mh.jY),h.LFG(v.t4),h.LFG($e.jN,8),h.LFG(ee.K0,8),h.LFG(Tu,8))},zt.\u0275prov=h.Yz7({token:zt,factory:zt.\u0275fac,providedIn:"root"}),zt})();const xh=new h.OlP("nz_icons_patch");let b3=(()=>{class zt{constructor(Qe,qt){this.extraIcons=Qe,this.rootIconService=qt,this.patched=!1}doPatch(){this.patched||(this.extraIcons.forEach(Qe=>this.rootIconService.addIcon(Qe)),this.patched=!0)}}return zt.\u0275fac=function(Qe){return new(Qe||zt)(h.LFG(xh,2),h.LFG(Th))},zt.\u0275prov=h.Yz7({token:zt,factory:zt.\u0275fac}),zt})(),o6=(()=>{class zt extends Nt{constructor(Qe,qt,Dn,lr,xr,Xr){super(lr,Dn,xr),this.ngZone=Qe,this.changeDetectorRef=qt,this.iconService=lr,this.renderer=xr,this.cacheClassName=null,this.nzRotate=0,this.spin=!1,this.destroy$=new oe.x,Xr&&Xr.doPatch(),this.el=Dn.nativeElement}set nzSpin(Qe){this.spin=Qe}set nzType(Qe){this.type=Qe}set nzTheme(Qe){this.theme=Qe}set nzTwotoneColor(Qe){this.twoToneColor=Qe}set nzIconfont(Qe){this.iconfont=Qe}ngOnChanges(Qe){const{nzType:qt,nzTwotoneColor:Dn,nzSpin:lr,nzTheme:xr,nzRotate:Xr}=Qe;qt||Dn||lr||xr?this.changeIcon2():Xr?this.handleRotate(this.el.firstChild):this._setSVGElement(this.iconService.createIconfontIcon(`#${this.iconfont}`))}ngOnInit(){this.renderer.setAttribute(this.el,"class",`anticon ${this.el.className}`.trim())}ngAfterContentChecked(){if(!this.type){const Qe=this.el.children;let qt=Qe.length;if(!this.type&&Qe.length)for(;qt--;){const Dn=Qe[qt];"svg"===Dn.tagName.toLowerCase()&&this.iconService.normalizeSvgElement(Dn)}}}ngOnDestroy(){this.destroy$.next()}changeIcon2(){this.setClassName(),this.ngZone.runOutsideAngular(()=>{(0,ne.D)(this._changeIcon()).pipe((0,he.R)(this.destroy$)).subscribe({next:Qe=>{this.changeDetectorRef.detectChanges(),Qe&&(this.setSVGData(Qe),this.handleSpin(Qe),this.handleRotate(Qe))},error:Mt.ZK})})}handleSpin(Qe){this.spin||"loading"===this.type?this.renderer.addClass(Qe,"anticon-spin"):this.renderer.removeClass(Qe,"anticon-spin")}handleRotate(Qe){this.nzRotate?this.renderer.setAttribute(Qe,"style",`transform: rotate(${this.nzRotate}deg)`):this.renderer.removeAttribute(Qe,"style")}setClassName(){this.cacheClassName&&this.renderer.removeClass(this.el,this.cacheClassName),this.cacheClassName=`anticon-${this.type}`,this.renderer.addClass(this.el,this.cacheClassName)}setSVGData(Qe){this.renderer.setAttribute(Qe,"data-icon",this.type),this.renderer.setAttribute(Qe,"aria-hidden","true")}}return zt.\u0275fac=function(Qe){return new(Qe||zt)(h.Y36(h.R0b),h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(Th),h.Y36(h.Qsj),h.Y36(b3,8))},zt.\u0275dir=h.lG2({type:zt,selectors:[["","nz-icon",""]],hostVars:2,hostBindings:function(Qe,qt){2&Qe&&h.ekj("anticon",!0)},inputs:{nzSpin:"nzSpin",nzRotate:"nzRotate",nzType:"nzType",nzTheme:"nzTheme",nzTwotoneColor:"nzTwotoneColor",nzIconfont:"nzIconfont"},exportAs:["nzIcon"],features:[h.qOj,h.TTD]}),(0,F.gn)([(0,At.yF)()],zt.prototype,"nzSpin",null),zt})(),dd=(()=>{class zt{static forRoot(Qe){return{ngModule:zt,providers:[{provide:Tu,useValue:Qe}]}}static forChild(Qe){return{ngModule:zt,providers:[b3,{provide:xh,useValue:Qe}]}}}return zt.\u0275fac=function(Qe){return new(Qe||zt)},zt.\u0275mod=h.oAB({type:zt}),zt.\u0275inj=h.cJS({imports:[v.ud]}),zt})()},5861:(Pt,ke,T)=>{function v(F,oe,ne,he,ee,V,q){try{var Y=F[V](q),K=Y.value}catch(J){return void ne(J)}Y.done?oe(K):Promise.resolve(K).then(he,ee)}function h(F){return function(){var oe=this,ne=arguments;return new Promise(function(he,ee){var V=F.apply(oe,ne);function q(K){v(V,he,ee,q,Y,"next",K)}function Y(K){v(V,he,ee,q,Y,"throw",K)}q(void 0)})}}T.d(ke,{Z:()=>h})}},Pt=>{Pt(Pt.s=2134)}]);